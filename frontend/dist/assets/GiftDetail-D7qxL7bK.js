import{c as l,o as i,a as t,_ as X,r as $,b as tt,d as et,e as ot,f as st,g as nt,h as at,i as lt,j as it,k as rt,A as ct,l as u,m as r,n as f,t as a,p as x,q as dt,F as E,s as H,u as g,v as mt,w as ut,x as ft,y as xt,G as gt,z as bt,B as ht,C as vt}from"./index-ChsQcVH8.js";import{r as pt}from"./TrashIcon-B1nwDLsP.js";function yt(_,e){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})])}function wt(_,e){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"})])}const _t={name:"GiftDetail",components:{AppImage:ct,ArrowLeftIcon:rt,GiftIcon:it,PencilIcon:lt,EllipsisVerticalIcon:at,DocumentDuplicateIcon:yt,ArrowDownTrayIcon:nt,TrashIcon:pt,ClipboardDocumentIcon:st,PrinterIcon:wt,DocumentTextIcon:ot,UserIcon:et,ExclamationTriangleIcon:tt,EyeIcon:$},setup(){const _=xt(),e=vt(),{showNotification:d}=bt(),o=g(!0),h=g(null),k=g(!1),I=g(null),v=g(!1),C=g(!1),p=g(""),b=g(navigator.onLine),M=g(!1),y=g(null),c=mt({}),D=g({}),j=()=>{b.value=!0,d("Connection restored","success")},B=()=>{b.value=!1,d("You are offline. Some features may not work.","warning")},G=async()=>{try{o.value=!0;const s=_.params.id;if(!b.value){h.value="You are offline. Please check your connection and try again.";return}const m=await gt.getDetails(s);m.success?(Object.assign(c,m.data.gift),D.value=m.data.issue_history||{}):h.value=m.error||"Failed to load gift details"}catch(s){console.error("Failed to load gift:",s),b.value?h.value="Failed to load gift details. Please try again.":h.value="You are offline. Please check your connection and try again."}finally{o.value=!1}},n=s=>{I.value&&!I.value.contains(s.target)&&(k.value=!1),y.value&&!y.value.contains(s.target)&&(M.value=!1)},w=()=>{e.push("/gifts")},P=()=>{e.push(`/issues/new?gift=${c.name}`)},T=()=>{e.push(`/gifts/${c.name}/edit`)},V=()=>{e.push(`/gifts/new?duplicate=${c.name}`),k.value=!1},L=()=>{d("Delete functionality will be implemented","info"),k.value=!1},N=async()=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(c.barcode_value),d("Barcode value copied to clipboard","success");else{const s=document.createElement("textarea");s.value=c.barcode_value,s.style.position="fixed",s.style.opacity="0",document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),d("Barcode value copied to clipboard","success")}}catch(s){console.error("Copy failed:",s),d("Failed to copy barcode value","error")}},S=()=>{if(c.barcode){const s=document.createElement("a");s.href=c.barcode,s.download=`barcode_${c.barcode_value}.png`,document.body.appendChild(s),s.click(),document.body.removeChild(s),d("Barcode downloaded successfully","success")}else d("No barcode available to download","error")},F=()=>{if(!c.barcode){d("No barcode available to print","error");return}if(typeof window.print>"u"){d("Printing is not supported on this device","error");return}try{const s=window.open("","_blank");if(!s){d("Please allow pop-ups to print the barcode","error");return}s.document.write(`
          <html>
            <head>
              <title>Barcode - ${c.barcode_value}</title>
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <style>
                @page {
                  size: A6;
                  margin: 10mm;
                }
                body { 
                  margin: 0; 
                  padding: 0; 
                  display: flex; 
                  justify-content: center; 
                  align-items: center; 
                  min-height: 100vh;
                  font-family: Arial, sans-serif;
                  font-size: 12pt;
                }
                .barcode-container {
                  text-align: center;
                  width: fit-content;
                }
                img {
                  width: auto;
                  height: auto;
                  max-width: none;
                  display: block;
                  margin: 0 auto;
                }
                .serial-number {
                  margin-top: 8px;
                  font-size: 12pt;
                  color: #000;
                  font-weight: bold;
                  letter-spacing: 1px;
                }
                @media print {
                  body { margin: 0; padding: 0; }
                  .barcode-container { page-break-inside: avoid; }
                }
              </style>
            </head>
            <body>
              <div class="barcode-container">
                <img src="${c.barcode}" alt="Barcode ${c.barcode_value}" onerror="this.style.display='none'" />
              </div>
            </body>
          </html>
        `),s.document.close(),s.onload=()=>{setTimeout(()=>{try{s.print()}catch(m){console.error("Print failed:",m),d("Print failed. Please try again.","error")}},500)}}catch(s){console.error("Print setup failed:",s),d("Print setup failed. Please try again.","error")}},z=()=>{v.value=!0},U=()=>{v.value=!1},O=s=>{p.value=ht(s),C.value=!0},R=()=>{C.value=!1,p.value=""},q=s=>s?s.charAt(0).toUpperCase()+s.slice(1):"General",Y=s=>new Intl.NumberFormat("en-AE",{style:"currency",currency:"AED"}).format(s||0),Z=s=>s?new Date(s).toLocaleDateString("en-AE",{year:"numeric",month:"short",day:"numeric"}):"",Q=s=>{const m={Available:"bg-gray-100 text-gray-800",Issued:"bg-blue-100 text-blue-800",available:"bg-gray-100 text-gray-800",issued:"bg-blue-100 text-blue-800"};return m[s]||m.Available},W=s=>s||"Available",J=s=>{if(!s)return"";const m=new Date(s),A=Math.ceil((m-new Date)/(1e3*60*60*24));return A<0?"text-red-600":A<=7?"text-gold-600":""},K=s=>({0:"Draft",1:"Submitted",2:"Cancelled"})[s]||"Unknown";return ut(()=>{G(),document.addEventListener("click",n),window.addEventListener("online",j),window.addEventListener("offline",B)}),ft(()=>{document.removeEventListener("click",n),window.removeEventListener("online",j),window.removeEventListener("offline",B)}),{loading:o,error:h,gift:c,issueHistory:D,showMenu:k,menuRef:I,showPersonModal:v,showImageModal:C,selectedImage:p,isOnline:b,showMobileMenu:M,mobileMenuRef:y,goBack:w,issueGift:P,editGift:T,duplicateGift:V,deleteGift:L,copyCode:N,downloadBarcode:S,printBarcode:F,openPersonModal:z,closePersonModal:U,openImageModal:O,closeImageModal:R,formatCategory:q,formatCurrency:Y,formatDate:Z,getStatusClasses:Q,getStatusText:W,getExpiryClasses:J,getDocStatus:K}}},kt={class:"min-h-full bg-desert-sand-50"},It={key:0,class:"flex items-center justify-center min-h-screen"},Ct={key:1,class:"flex items-center justify-center min-h-screen"},Mt={class:"text-center"},Dt={class:"text-charcoal-600 mb-4"},jt={key:2},Bt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6 pb-2"},Gt={class:"flex items-center justify-between"},Pt={class:"lg:hidden relative",ref:"mobileMenuRef"},At={key:0,class:"absolute right-0 top-full mt-2 w-56 rounded-lg shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50",role:"menu","aria-orientation":"vertical"},Et={class:"py-1",role:"none"},Ht={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Tt={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Vt={class:"lg:col-span-2 space-y-8"},Lt={class:"bg-white rounded-xl shadow-card p-6"},Nt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},St={class:"text-charcoal-900 font-medium"},Ft={class:"flex items-center space-x-2"},zt={class:"text-charcoal-900 font-medium"},Ut={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},Ot={class:"text-xl font-bold text-gray-700"},Rt={key:0,class:"mt-6"},qt={class:"text-charcoal-600 leading-relaxed"},Yt={key:0,class:"bg-white rounded-xl shadow-card p-6"},Zt={class:"overflow-x-auto"},Qt={class:"min-w-full divide-y divide-charcoal-200"},Wt={class:"bg-white divide-y divide-charcoal-200"},Jt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-charcoal-900"},Kt={class:"px-6 py-4 whitespace-nowrap text-sm text-charcoal-600"},Xt={key:1,class:"bg-white rounded-xl shadow-card p-6"},$t={class:"flex flex-col md:flex-row items-center md:items-start space-y-4 md:space-y-0 md:space-x-6"},te={class:"flex-shrink-0"},ee={class:"w-64 h-32 bg-white border-2 border-charcoal-200 rounded-lg p-4 flex items-center justify-center"},oe=["src"],se={class:"flex-1 text-center md:text-left"},ne={class:"text-charcoal-600 mb-2"},ae={class:"flex flex-col sm:flex-row gap-3"},le={key:2,class:"bg-white rounded-xl shadow-card p-6"},ie={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},re=["onClick"],ce={class:"aspect-square bg-charcoal-100 rounded-lg overflow-hidden"},de={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-opacity rounded-lg flex items-center justify-center"},me={class:"bg-white rounded-xl shadow-card p-6"},ue={key:0,class:"text-center py-8"},fe={key:1,class:"space-y-4"},xe={class:"flex items-center justify-between p-4 bg-desert-sand-50 rounded-lg"},ge={class:"flex items-center space-x-4"},be={class:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center"},he={class:"font-medium text-charcoal-900"},ve={class:"text-sm text-charcoal-600"},pe={class:"text-sm text-charcoal-600"},ye={class:"flex items-center space-x-3"},we={class:"text-right"},_e={class:"text-sm font-medium text-charcoal-900"},ke={class:"lg:col-span-1 space-y-6"},Ie={class:"hidden lg:block bg-white rounded-xl shadow-card p-6"},Ce={class:"space-y-3"},Me={class:"bg-white rounded-xl shadow-card p-6"},De={class:"space-y-4 text-sm"},je={class:"flex justify-between"},Be={class:"text-charcoal-900"},Ge={class:"flex justify-between"},Pe={class:"text-charcoal-900"},Ae={class:"flex justify-between"},Ee={class:"text-charcoal-900"},He={key:0,class:"flex justify-between"},Te={class:"text-charcoal-900"},Ve={key:3,class:"fixed inset-0 z-50 overflow-y-auto"},Le={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ne={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full"},Se={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Fe={class:"flex justify-between items-center mb-4"},ze={class:"flex justify-center"},Ue={class:"bg-charcoal-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Oe={key:4,class:"fixed inset-0 z-50 overflow-y-auto"},Re={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},qe={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Ye={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Ze={class:"sm:flex sm:items-start"},Qe={class:"mt-3 text-center sm:mt-0 sm:text-left w-full"},We={class:"space-y-4"},Je={key:0,class:"flex justify-center"},Ke={class:"w-24 h-24 rounded-full overflow-hidden bg-charcoal-100"},Xe=["src"],$e={class:"grid grid-cols-1 gap-3"},to={class:"mt-1 text-sm text-charcoal-900"},eo={class:"mt-1 text-sm text-charcoal-900"},oo={class:"mt-1 text-sm text-charcoal-900"},so={class:"mt-1 text-sm text-charcoal-900"},no={class:"bg-charcoal-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"};function ao(_,e,d,o,h,k){const I=f("ExclamationTriangleIcon"),v=f("ArrowLeftIcon"),C=f("EllipsisVerticalIcon"),p=f("GiftIcon"),b=f("PencilIcon"),M=f("ArrowDownTrayIcon"),y=f("PrinterIcon"),c=f("ClipboardDocumentIcon"),D=f("AppImage"),j=f("EyeIcon"),B=f("DocumentTextIcon"),G=f("UserIcon");return i(),l("div",kt,[o.loading?(i(),l("div",It,[...e[18]||(e[18]=[t("div",{class:"animate-pulse text-center"},[t("div",{class:"w-16 h-16 bg-gray-100 rounded-xl mx-auto mb-4"}),t("div",{class:"h-4 bg-charcoal-200 rounded w-32 mx-auto mb-2"}),t("div",{class:"h-3 bg-charcoal-200 rounded w-24 mx-auto"})],-1)])])):o.error?(i(),l("div",Ct,[t("div",Mt,[r(I,{class:"w-16 h-16 text-red-500 mx-auto mb-4"}),e[20]||(e[20]=t("h3",{class:"text-lg font-semibold text-charcoal-900 mb-2"},"Gift Not Found",-1)),t("p",Dt,a(o.error),1),t("button",{onClick:e[0]||(e[0]=n=>_.$router.go(-1)),class:"inline-flex items-center px-4 py-2 border border-charcoal-300 text-sm font-medium rounded-lg text-charcoal-700 bg-white hover:bg-charcoal-50 transition-colors"},[r(v,{class:"w-4 h-4 mr-2"}),e[19]||(e[19]=x(" Go Back ",-1))])])])):(i(),l("div",jt,[t("div",Bt,[t("div",Gt,[t("button",{onClick:e[1]||(e[1]=(...n)=>o.goBack&&o.goBack(...n)),class:"inline-flex items-center px-3 py-2 border border-charcoal-300 text-sm font-medium rounded-lg text-charcoal-700 bg-white hover:bg-charcoal-50 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},[r(v,{class:"w-4 h-4 mr-2"}),e[21]||(e[21]=x(" Back to Gifts ",-1))]),t("div",Pt,[t("button",{onClick:e[2]||(e[2]=n=>o.showMobileMenu=!o.showMobileMenu),class:"inline-flex items-center p-2 border border-charcoal-300 rounded-lg text-charcoal-700 bg-white hover:bg-charcoal-50 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500","aria-expanded":"false","aria-haspopup":"true"},[r(C,{class:"w-5 h-5"})]),o.showMobileMenu?(i(),l("div",At,[t("div",Et,[o.gift.status==="Available"?(i(),l("button",{key:0,onClick:e[3]||(e[3]=n=>{o.issueGift,o.showMobileMenu=!1}),class:"flex items-center w-full px-4 py-2 text-sm text-charcoal-700 hover:bg-charcoal-50 transition-colors",role:"menuitem"},[r(p,{class:"w-4 h-4 mr-3 text-gray-700"}),e[22]||(e[22]=x(" Issue This Gift ",-1))])):u("",!0),t("button",{onClick:e[4]||(e[4]=n=>{o.editGift,o.showMobileMenu=!1}),class:"flex items-center w-full px-4 py-2 text-sm text-charcoal-700 hover:bg-charcoal-50 transition-colors",role:"menuitem"},[r(b,{class:"w-4 h-4 mr-3 text-charcoal-600"}),e[23]||(e[23]=x(" Edit Gift ",-1))]),e[26]||(e[26]=t("hr",{class:"my-1 border-charcoal-200"},null,-1)),t("button",{onClick:e[5]||(e[5]=n=>{o.downloadBarcode,o.showMobileMenu=!1}),class:"flex items-center w-full px-4 py-2 text-sm text-charcoal-700 hover:bg-charcoal-50 transition-colors",role:"menuitem"},[r(M,{class:"w-4 h-4 mr-3 text-charcoal-600"}),e[24]||(e[24]=x(" Download Barcode ",-1))]),t("button",{onClick:e[6]||(e[6]=n=>{o.printBarcode,o.showMobileMenu=!1}),class:"flex items-center w-full px-4 py-2 text-sm text-charcoal-700 hover:bg-charcoal-50 transition-colors",role:"menuitem"},[r(y,{class:"w-4 h-4 mr-3 text-charcoal-600"}),e[25]||(e[25]=x(" Print Barcode ",-1))])])])):u("",!0)],512)])]),t("div",Ht,[t("div",Tt,[t("div",Vt,[t("div",Lt,[e[33]||(e[33]=t("h2",{class:"text-xl font-semibold text-charcoal-900 mb-6"},"Gift Details",-1)),t("div",Nt,[t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-charcoal-700 mb-1"}," Gift Name ",-1)),t("p",St,a(o.gift.gift_name),1)]),t("div",null,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-charcoal-700 mb-1"}," Barcode Value ",-1)),t("div",Ft,[t("p",zt,a(o.gift.barcode_value),1),t("button",{onClick:e[7]||(e[7]=(...n)=>o.copyCode&&o.copyCode(...n)),class:"p-1 text-charcoal-500 hover:text-gray-700 transition-colors",title:"Copy barcode value"},[r(c,{class:"w-4 h-4"})])])]),t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-charcoal-700 mb-1"}," Category ",-1)),t("span",Ut,a(o.formatCategory(o.gift.category)),1)]),t("div",null,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium text-charcoal-700 mb-1"}," Value ",-1)),t("p",Ot,a(o.formatCurrency(o.gift.value)),1)]),t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-charcoal-700 mb-1"}," Status ",-1)),t("span",{class:dt(["inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium",o.getStatusClasses(o.gift.status)])},a(o.getStatusText(o.gift.status)),3)])]),o.gift.description?(i(),l("div",Rt,[e[32]||(e[32]=t("label",{class:"block text-sm font-medium text-charcoal-700 mb-1"}," Description ",-1)),t("p",qt,a(o.gift.description),1)])):u("",!0)]),o.gift.additional_attributes&&o.gift.additional_attributes.length>0?(i(),l("div",Yt,[e[35]||(e[35]=t("h2",{class:"text-xl font-semibold text-charcoal-900 mb-6"},"Additional Attributes",-1)),t("div",Zt,[t("table",Qt,[e[34]||(e[34]=t("thead",{class:"bg-charcoal-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-charcoal-500 uppercase tracking-wider"}," Attribute Name "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-charcoal-500 uppercase tracking-wider"}," Value ")])],-1)),t("tbody",Wt,[(i(!0),l(E,null,H(o.gift.additional_attributes,(n,w)=>(i(),l("tr",{key:w,class:"hover:bg-charcoal-50 transition-colors"},[t("td",Jt,a(n.attribute_name),1),t("td",Kt,a(n.attribute_value),1)]))),128))])])])])):u("",!0),o.gift.barcode?(i(),l("div",Xt,[e[41]||(e[41]=t("h2",{class:"text-xl font-semibold text-charcoal-900 mb-6"},"Barcode",-1)),t("div",$t,[t("div",te,[t("div",ee,[t("img",{src:o.gift.barcode,alt:"Barcode",class:"w-full h-full object-contain"},null,8,oe)])]),t("div",se,[e[39]||(e[39]=t("h3",{class:"text-lg font-medium text-charcoal-900 mb-2"},"Gift Barcode",-1)),t("p",ne,[e[36]||(e[36]=t("strong",null,"Barcode Value:",-1)),x(" "+a(o.gift.barcode_value),1)]),e[40]||(e[40]=t("p",{class:"text-charcoal-600 mb-4"}," This barcode can be scanned to quickly access gift information or redeem the gift. ",-1)),t("div",ae,[t("button",{onClick:e[8]||(e[8]=(...n)=>o.downloadBarcode&&o.downloadBarcode(...n)),class:"inline-flex items-center justify-center px-4 py-2 border border-charcoal-300 text-sm font-medium rounded-lg text-charcoal-700 bg-white hover:bg-charcoal-50 transition-colors"},[r(M,{class:"w-4 h-4 mr-2"}),e[37]||(e[37]=x(" Download Barcode ",-1))]),t("button",{onClick:e[9]||(e[9]=(...n)=>o.printBarcode&&o.printBarcode(...n)),class:"inline-flex items-center justify-center px-4 py-2 border border-charcoal-300 text-sm font-medium rounded-lg text-charcoal-700 bg-white hover:bg-charcoal-50 transition-colors"},[r(y,{class:"w-4 h-4 mr-2"}),e[38]||(e[38]=x(" Print Barcode ",-1))])])])])])):u("",!0),o.gift.images&&o.gift.images.length>0?(i(),l("div",le,[e[42]||(e[42]=t("h2",{class:"text-xl font-semibold text-charcoal-900 mb-6"},"Gift Images",-1)),t("div",ie,[(i(!0),l(E,null,H(o.gift.images,(n,w)=>(i(),l("div",{key:w,class:"relative group cursor-pointer",onClick:P=>o.openImageModal(n.image)},[t("div",ce,[r(D,{src:n.image,alt:`Gift image ${w+1}`,"image-class":"w-full h-full object-cover transition-transform group-hover:scale-105","container-class":"w-full h-full","placeholder-class":"w-full h-full"},null,8,["src","alt"])]),t("div",de,[r(j,{class:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})])],8,re))),128))])])):u("",!0),t("div",me,[e[45]||(e[45]=t("h2",{class:"text-xl font-semibold text-charcoal-900 mb-6"},"Issue History",-1)),o.issueHistory.first_name?(i(),l("div",fe,[t("div",xe,[t("div",ge,[t("div",be,[r(G,{class:"w-5 h-5 text-gray-700"})]),t("div",null,[t("p",he,a(o.issueHistory.first_name)+" "+a(o.issueHistory.last_name),1),t("p",ve,"Emirates ID: "+a(o.issueHistory.emirates_id),1),t("p",pe,"Mobile: "+a(o.issueHistory.mobile_number),1)])]),t("div",ye,[t("div",we,[t("p",_e,a(o.formatDate(o.issueHistory.issued_date)),1),e[44]||(e[44]=t("span",{class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"}," Issued ",-1))]),o.issueHistory.person_photo?(i(),l("button",{key:0,onClick:e[10]||(e[10]=(...n)=>o.openPersonModal&&o.openPersonModal(...n)),class:"p-2 text-charcoal-500 hover:text-gray-700 transition-colors rounded-lg hover:bg-charcoal-50",title:"View person details"},[r(j,{class:"w-4 h-4"})])):u("",!0)])])])):(i(),l("div",ue,[r(B,{class:"w-12 h-12 text-charcoal-400 mx-auto mb-3"}),e[43]||(e[43]=t("p",{class:"text-charcoal-600"},"This gift has not been issued yet.",-1))]))])]),t("div",ke,[t("div",Ie,[e[48]||(e[48]=t("h3",{class:"text-lg font-semibold text-charcoal-900 mb-4"},"Quick Actions",-1)),t("div",Ce,[o.gift.status==="Available"?(i(),l("button",{key:0,onClick:e[11]||(e[11]=(...n)=>o.issueGift&&o.issueGift(...n)),class:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-gray-600 hover:bg-gray-700 transition-colors"},[r(p,{class:"w-4 h-4 mr-2"}),e[46]||(e[46]=x(" Issue This Gift ",-1))])):u("",!0),t("button",{onClick:e[12]||(e[12]=(...n)=>o.editGift&&o.editGift(...n)),class:"w-full inline-flex items-center justify-center px-4 py-2 border border-charcoal-300 text-sm font-medium rounded-lg text-charcoal-700 bg-white hover:bg-charcoal-50 transition-colors"},[r(b,{class:"w-4 h-4 mr-2"}),e[47]||(e[47]=x(" Edit Gift ",-1))])])]),t("div",Me,[e[53]||(e[53]=t("h3",{class:"text-lg font-semibold text-charcoal-900 mb-4"},"Metadata",-1)),t("div",De,[t("div",je,[e[49]||(e[49]=t("span",{class:"text-charcoal-600"},"Created",-1)),t("span",Be,a(o.formatDate(o.gift.creation)),1)]),t("div",Ge,[e[50]||(e[50]=t("span",{class:"text-charcoal-600"},"Modified",-1)),t("span",Pe,a(o.formatDate(o.gift.modified)),1)]),t("div",Ae,[e[51]||(e[51]=t("span",{class:"text-charcoal-600"},"Created by",-1)),t("span",Ee,a(o.gift.owner||"System"),1)]),o.gift.docstatus?(i(),l("div",He,[e[52]||(e[52]=t("span",{class:"text-charcoal-600"},"Document Status",-1)),t("span",Te,a(o.getDocStatus(o.gift.docstatus)),1)])):u("",!0)])])])])])])),o.showImageModal?(i(),l("div",Ve,[t("div",Le,[t("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:e[13]||(e[13]=(...n)=>o.closeImageModal&&o.closeImageModal(...n))},[...e[54]||(e[54]=[t("div",{class:"absolute inset-0 bg-charcoal-500 opacity-75"},null,-1)])]),t("div",Ne,[t("div",Se,[t("div",Fe,[e[56]||(e[56]=t("h3",{class:"text-lg leading-6 font-medium text-charcoal-900"}," Gift Image ",-1)),t("button",{onClick:e[14]||(e[14]=(...n)=>o.closeImageModal&&o.closeImageModal(...n)),class:"text-charcoal-400 hover:text-charcoal-600 transition-colors"},[...e[55]||(e[55]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",ze,[r(D,{src:o.selectedImage,alt:"Gift Image","image-class":"max-w-full max-h-96 object-contain rounded-lg","container-class":"flex justify-center","placeholder-class":"w-32 h-32"},null,8,["src"])])]),t("div",Ue,[t("button",{onClick:e[15]||(e[15]=(...n)=>o.closeImageModal&&o.closeImageModal(...n)),type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-gray-600 text-base font-medium text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 sm:ml-3 sm:w-auto sm:text-sm"}," Close ")])])])])):u("",!0),o.showPersonModal?(i(),l("div",Oe,[t("div",Re,[t("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:e[16]||(e[16]=(...n)=>o.closePersonModal&&o.closePersonModal(...n))},[...e[57]||(e[57]=[t("div",{class:"absolute inset-0 bg-charcoal-500 opacity-75"},null,-1)])]),t("div",qe,[t("div",Ye,[t("div",Ze,[t("div",Qe,[e[62]||(e[62]=t("h3",{class:"text-lg leading-6 font-medium text-charcoal-900 mb-4"}," Person Details ",-1)),t("div",We,[o.issueHistory.person_photo?(i(),l("div",Je,[t("div",Ke,[t("img",{src:o.issueHistory.person_photo,alt:"Person Photo",class:"w-full h-full object-cover"},null,8,Xe)])])):u("",!0),t("div",$e,[t("div",null,[e[58]||(e[58]=t("label",{class:"block text-sm font-medium text-charcoal-700"},"Full Name",-1)),t("p",to,a(o.issueHistory.first_name)+" "+a(o.issueHistory.last_name),1)]),t("div",null,[e[59]||(e[59]=t("label",{class:"block text-sm font-medium text-charcoal-700"},"Emirates ID",-1)),t("p",eo,a(o.issueHistory.emirates_id),1)]),t("div",null,[e[60]||(e[60]=t("label",{class:"block text-sm font-medium text-charcoal-700"},"Mobile Number",-1)),t("p",oo,a(o.issueHistory.mobile_number),1)]),t("div",null,[e[61]||(e[61]=t("label",{class:"block text-sm font-medium text-charcoal-700"},"Issue Date",-1)),t("p",so,a(o.formatDate(o.issueHistory.issued_date)),1)])])])])])]),t("div",no,[t("button",{onClick:e[17]||(e[17]=(...n)=>o.closePersonModal&&o.closePersonModal(...n)),type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-gray-600 text-base font-medium text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 sm:ml-3 sm:w-auto sm:text-sm"}," Close ")])])])])):u("",!0)])}const co=X(_t,[["render",ao],["__scopeId","data-v-eeaa3a45"]]);export{co as default};
