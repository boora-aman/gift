var f=(c,o,s)=>new Promise((i,l)=>{var e=t=>{try{r(s.next(t))}catch(n){l(n)}},a=t=>{try{r(s.throw(t))}catch(n){l(n)}},r=t=>t.done?i(t.value):Promise.resolve(t.value).then(e,a);r((s=s.apply(c,o)).next())});import{_ as p,l as m,e as u,c as b,o as v,a as d,g as _,h as x,m as G,u as h,p as g,G as y}from"./index-DXfJHqnU.js";import{G as w}from"./GiftForm-QMECSCxH.js";import"./PhotoIcon-DBuEETk9.js";import"./TrashIcon-BtZczJiP.js";const F={name:"GiftCreate",components:{ArrowLeftIcon:m,GiftForm:w},setup(){const c=G(),{showNotification:o}=h(),s=g(!1),i=g(null);return{loading:s,giftFormRef:i,createGift:e=>f(this,null,function*(){var a;try{s.value=!0;const r={gift_name:e.gift_name,gift_id:e.gift_id,gender:e.gender,category:e.category,description:e.description,status:e.status,import_barcode:e.import_barcode,barcode_value:e.import_barcode?e.barcode_value:null,gift_additional_attributes:((a=e.gift_additional_attributes)==null?void 0:a.filter(n=>n.attribute_name&&n.attribute_value))||[],gift_images:e.gift_images||[]},t=yield y.create(r);t.success?(o("Gift created successfully","success"),c.push(`/gifts/${t.data.name}`)):o(t.error||"Failed to create gift","error")}catch(r){console.error("Failed to create gift:",r),o("Failed to create gift. Please try again.","error")}finally{s.value=!1,i.value&&i.value.resetSaving()}})}}},I={class:"min-h-full bg-desert-sand-50"},$={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 safe-area-padding"},N={class:"mb-6"};function k(c,o,s,i,l,e){const a=u("ArrowLeftIcon"),r=u("GiftForm");return v(),b("div",I,[d("div",$,[d("div",N,[d("button",{onClick:o[0]||(o[0]=t=>c.$router.push("/gifts")),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-charcoal-600 bg-white border border-charcoal-300 rounded-lg hover:bg-charcoal-50 transition-colors"},[_(a,{class:"w-4 h-4 mr-2"}),o[1]||(o[1]=x(" Back to Gift Inventory ",-1))])]),_(r,{ref:"giftFormRef","is-edit-mode":!1,onSubmit:i.createGift},null,8,["onSubmit"])])])}const S=p(F,[["render",k],["__scopeId","data-v-2caf572f"]]);export{S as default};
//# sourceMappingURL=GiftCreate-CQCHRjST.js.map
