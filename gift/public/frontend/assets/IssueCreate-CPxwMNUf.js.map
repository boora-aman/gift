{"version":3,"file":"IssueCreate-CPxwMNUf.js","sources":["../../../../frontend/src/views/issues/IssueCreate.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-full bg-desert-sand-50\">\n    <!-- Header -->\n    <div class=\"bg-white shadow-card\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n        <div class=\"flex items-center justify-between\">\n          <div class=\"flex items-center space-x-4\">\n            <button\n              @click=\"$router.push('/issues')\"\n              class=\"p-2 rounded-lg text-charcoal-600 hover:bg-charcoal-100 transition-colors\"\n            >\n              <ArrowLeftIcon class=\"w-5 h-5\" />\n            </button>\n            <div>\n              <h1 class=\"text-2xl lg:text-3xl font-bold text-charcoal-900\">\n                Dispatch New Gift\n              </h1>\n              <p class=\"text-charcoal-600\">Create a new gift dispatch for a recipient</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 safe-area-padding\">\n      <form @submit.prevent=\"createIssue\" class=\"space-y-8\">\n        <!-- Gift Selection -->\n        <div class=\"bg-white rounded-xl shadow-card p-6\">\n          <h2 class=\"text-xl font-semibold text-charcoal-900 mb-6\">Gift Selection</h2>\n          \n          <div v-if=\"preselectedGift\" class=\"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200\">\n            <div class=\"flex items-center space-x-4\">\n              <div class=\"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center\">\n                <GiftIcon class=\"w-6 h-6 text-gray-700\" />\n              </div>\n              <div class=\"flex-1\">\n                <h3 class=\"font-medium text-charcoal-900\">{{ preselectedGift.gift_name }}</h3>\n                <p class=\"text-sm text-charcoal-600\">\n                  {{ preselectedGift.barcode_value || preselectedGift.name }}\n                </p>\n              </div>\n              <button\n                type=\"button\"\n                @click=\"clearGiftSelection\"\n                class=\"text-charcoal-500 hover:text-charcoal-700\"\n              >\n                <XMarkIcon class=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n\n          <div v-else>\n            <div class=\"space-y-4\">\n              <!-- Search Gifts -->\n              <div>\n                <label for=\"gift_search\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                  Search Gifts\n                </label>\n                <div class=\"relative\">\n                  <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                    <MagnifyingGlassIcon class=\"w-5 h-5 text-charcoal-400\" />\n                  </div>\n                  <input\n                    id=\"gift_search\"\n                    v-model=\"giftSearch\"\n                    type=\"text\"\n                    class=\"w-full pl-10 pr-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n                    placeholder=\"Search by name, code, or category...\"\n                  />\n                </div>\n              </div>\n\n              <!-- Gift List -->\n              <div class=\"max-h-64 overflow-y-auto border border-charcoal-200 rounded-lg\">\n                <div v-if=\"availableGifts.length === 0\" class=\"p-4 text-center text-charcoal-600\">\n                  No available gifts found\n                </div>\n                <div v-else>\n                  <div\n                    v-for=\"gift in filteredGifts\"\n                    :key=\"gift.name\"\n                    @click=\"selectGift(gift)\"\n                    class=\"p-4 border-b border-charcoal-200 last:border-b-0 hover:bg-desert-sand-50 cursor-pointer transition-colors\"\n                  >\n                    <div class=\"flex items-center space-x-4\">\n                      <div class=\"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center\">\n                        <GiftIcon class=\"w-5 h-5 text-gray-700\" />\n                      </div>\n                      <div class=\"flex-1\">\n                        <h4 class=\"font-medium text-charcoal-900\">{{ gift.gift_name }}</h4>\n                        <div class=\"flex items-center space-x-2 text-sm text-charcoal-600\">\n                          <span>{{ gift.barcode_value || gift.name }}</span>\n                          <span>â€¢</span>\n                          <span class=\"capitalize\">{{ gift.category }}</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <p v-if=\"errors.gift\" class=\"mt-2 text-sm text-red-600\">{{ errors.gift }}</p>\n        </div>\n\n        <!-- Recipient Information -->\n        <div class=\"bg-white rounded-xl shadow-card p-6\">\n          <h2 class=\"text-xl font-semibold text-charcoal-900 mb-6\">Recipient Information</h2>\n          \n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label for=\"recipient_name\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                Full Name *\n              </label>\n              <input\n                id=\"recipient_name\"\n                v-model=\"form.recipient_name\"\n                type=\"text\"\n                required\n                class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n                placeholder=\"Enter recipient's full name\"\n              />\n              <p v-if=\"errors.recipient_name\" class=\"mt-1 text-sm text-red-600\">{{ errors.recipient_name }}</p>\n            </div>\n\n            <div>\n              <label for=\"recipient_email\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                Email Address *\n              </label>\n              <input\n                id=\"recipient_email\"\n                v-model=\"form.recipient_email\"\n                type=\"email\"\n                required\n                class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n                placeholder=\"Enter recipient's email\"\n              />\n              <p v-if=\"errors.recipient_email\" class=\"mt-1 text-sm text-red-600\">{{ errors.recipient_email }}</p>\n            </div>\n\n            <div>\n              <label for=\"recipient_phone\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                Phone Number\n              </label>\n              <input\n                id=\"recipient_phone\"\n                v-model=\"form.recipient_phone\"\n                type=\"tel\"\n                class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n                placeholder=\"+971 50 123 4567\"\n              />\n              <p v-if=\"errors.recipient_phone\" class=\"mt-1 text-sm text-red-600\">{{ errors.recipient_phone }}</p>\n            </div>\n\n            <div>\n              <label for=\"recipient_organization\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                Organization\n              </label>\n              <input\n                id=\"recipient_organization\"\n                v-model=\"form.recipient_organization\"\n                type=\"text\"\n                class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n                placeholder=\"Enter organization name (optional)\"\n              />\n              <p v-if=\"errors.recipient_organization\" class=\"mt-1 text-sm text-red-600\">{{ errors.recipient_organization }}</p>\n            </div>\n          </div>\n\n          <div class=\"mt-6\">\n            <label for=\"delivery_address\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n              Delivery Address\n            </label>\n            <textarea\n              id=\"delivery_address\"\n              v-model=\"form.delivery_address\"\n              rows=\"3\"\n              class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n              placeholder=\"Enter delivery address (optional)\"\n            ></textarea>\n            <p v-if=\"errors.delivery_address\" class=\"mt-1 text-sm text-red-600\">{{ errors.delivery_address }}</p>\n          </div>\n        </div>\n\n        <!-- Dispatch Details -->\n        <div class=\"bg-white rounded-xl shadow-card p-6\">\n          <h2 class=\"text-xl font-semibold text-charcoal-900 mb-6\">Dispatch Details</h2>\n          \n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label for=\"issue_date\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                Dispatch Date *\n              </label>\n              <input\n                id=\"issue_date\"\n                v-model=\"form.issue_date\"\n                type=\"date\"\n                required\n                class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n              />\n              <p v-if=\"errors.issue_date\" class=\"mt-1 text-sm text-red-600\">{{ errors.issue_date }}</p>\n            </div>\n\n            <div>\n              <label for=\"reference_id\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                Reference ID\n              </label>\n              <input\n                id=\"reference_id\"\n                v-model=\"form.reference_id\"\n                type=\"text\"\n                class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n                placeholder=\"Enter reference ID (optional)\"\n              />\n              <p v-if=\"errors.reference_id\" class=\"mt-1 text-sm text-red-600\">{{ errors.reference_id }}</p>\n            </div>\n          </div>\n\n          <div class=\"mt-6\">\n            <label for=\"notes\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n              Notes\n            </label>\n            <textarea\n              id=\"notes\"\n              v-model=\"form.notes\"\n              rows=\"3\"\n              class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n              placeholder=\"Enter any notes about this gift dispatch (optional)\"\n            ></textarea>\n            <p v-if=\"errors.notes\" class=\"mt-1 text-sm text-red-600\">{{ errors.notes }}</p>\n          </div>\n        </div>\n\n        <!-- Notification Settings -->\n        <div class=\"bg-white rounded-xl shadow-card p-6\">\n          <h2 class=\"text-xl font-semibold text-charcoal-900 mb-6\">Notification Settings</h2>\n          \n          <div class=\"space-y-4\">\n            <div class=\"flex items-center justify-between\">\n              <div>\n                <h3 class=\"text-base font-medium text-charcoal-900\">Send Email Notification</h3>\n                <p class=\"text-sm text-charcoal-600\">Send gift details to recipient's email</p>\n              </div>\n              <label class=\"relative inline-flex items-center cursor-pointer\">\n                <input\n                  v-model=\"form.send_email\"\n                  type=\"checkbox\"\n                  class=\"sr-only peer\"\n                />\n                <div class=\"w-11 h-6 bg-charcoal-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gray-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-charcoal-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gray-600\"></div>\n              </label>\n            </div>\n\n            <div v-if=\"form.send_email\" class=\"pl-4 border-l-2 border-gray-200\">\n              <label for=\"email_message\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                Custom Message\n              </label>\n              <textarea\n                id=\"email_message\"\n                v-model=\"form.email_message\"\n                rows=\"3\"\n                class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n                placeholder=\"Add a personal message to the email (optional)\"\n              ></textarea>\n            </div>\n          </div>\n        </div>\n\n        <!-- Form Actions -->\n        <div class=\"flex items-center justify-end space-x-4 pt-6\">\n          <button\n            type=\"button\"\n            @click=\"$router.push('/issues')\"\n            class=\"px-6 py-2 border border-charcoal-300 text-sm font-medium rounded-lg text-charcoal-700 bg-white hover:bg-charcoal-50 transition-colors\"\n          >\n            Cancel\n          </button>\n          \n          <button\n            type=\"submit\"\n            :disabled=\"loading\"\n            class=\"px-6 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-gray-600 hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            <span v-if=\"loading\" class=\"flex items-center\">\n              <ArrowPathIcon class=\"w-4 h-4 mr-2 animate-spin\" />\n              Creating Dispatch...\n            </span>\n            <span v-else>Dispatch Gift</span>\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, computed, onMounted } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { useNotifications } from '@composables/useNotifications'\nimport { GiftAPI, GiftIssueAPI } from '../../services/api.js'\n\n// Icons\nimport {\n  ArrowLeftIcon,\n  GiftIcon,\n  MagnifyingGlassIcon,\n  XMarkIcon,\n  ArrowPathIcon\n} from '@heroicons/vue/24/outline'\n\nexport default {\n  name: 'IssueCreate',\n  components: {\n    ArrowLeftIcon,\n    GiftIcon,\n    MagnifyingGlassIcon,\n    XMarkIcon,\n    ArrowPathIcon\n  },\n  setup() {\n    const router = useRouter()\n    const route = useRoute()\n    const { showNotification } = useNotifications()\n\n    // State\n    const loading = ref(false)\n    const errors = ref({})\n    const giftSearch = ref('')\n    const availableGifts = ref([])\n    const preselectedGift = ref(null)\n    \n    const form = reactive({\n      gift: '',\n      recipient_name: '',\n      recipient_email: '',\n      recipient_phone: '',\n      recipient_organization: '',\n      delivery_address: '',\n      issue_date: new Date().toISOString().split('T')[0],\n      reference_id: '',\n      notes: '',\n      send_email: true,\n      email_message: ''\n    })\n\n    // Computed\n    const filteredGifts = computed(() => {\n      if (!giftSearch.value) return availableGifts.value\n      \n      const search = giftSearch.value.toLowerCase()\n      return availableGifts.value.filter(gift =>\n        gift.gift_name.toLowerCase().includes(search) ||\n        (gift.barcode_value && gift.barcode_value.toLowerCase().includes(search)) ||\n        gift.category.toLowerCase().includes(search)\n      )\n    })\n\n    // Methods\n    const loadAvailableGifts = async () => {\n      try {\n        // Fetch available gifts from API\n        const response = await GiftAPI.list({ status: 'Available' }, 1, 100)\n        \n        if (response.success) {\n          availableGifts.value = response.data\n        } else {\n          showNotification(response.error || 'Failed to load available gifts', 'error')\n          return\n        }\n\n        // Check for preselected gift from URL\n        const preselectedId = route.query.gift\n        if (preselectedId) {\n          let gift = availableGifts.value.find(g => g.name === preselectedId)\n          \n          // If gift not found in available gifts, try to fetch it directly\n          if (!gift) {\n            const giftResponse = await GiftAPI.get(preselectedId)\n            if (giftResponse.success && giftResponse.data.status === 'Available') {\n              gift = giftResponse.data\n              // Add it to the available gifts list\n              availableGifts.value.unshift(gift)\n            }\n          }\n          \n          if (gift) {\n            selectGift(gift)\n          } else {\n            showNotification('Selected gift is not available for dispatch', 'warning')\n          }\n        }\n\n      } catch (error) {\n        console.error('Failed to load gifts:', error)\n        showNotification('Failed to load available gifts', 'error')\n      }\n    }\n\n    const selectGift = (gift) => {\n      preselectedGift.value = gift\n      form.gift = gift.name\n      errors.value.gift = ''\n    }\n\n    const clearGiftSelection = () => {\n      preselectedGift.value = null\n      form.gift = ''\n    }\n\n    const validateForm = () => {\n      errors.value = {}\n\n      if (!form.gift) {\n        errors.value.gift = 'Please select a gift to dispatch'\n      }\n\n      if (!form.recipient_name.trim()) {\n        errors.value.recipient_name = 'Recipient name is required'\n      }\n\n      if (!form.recipient_email.trim()) {\n        errors.value.recipient_email = 'Recipient email is required'\n      } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.recipient_email)) {\n        errors.value.recipient_email = 'Please enter a valid email address'\n      }\n\n      if (!form.issue_date) {\n        errors.value.issue_date = 'Dispatch date is required'\n      }\n\n      return Object.keys(errors.value).length === 0\n    }\n\n    const createIssue = async () => {\n      if (!validateForm()) return\n\n      try {\n        loading.value = true\n\n        // Prepare issue data for API\n        const issueData = {\n          gift: form.gift,\n          recipient_name: form.recipient_name,\n          recipient_email: form.recipient_email,\n          recipient_phone: form.recipient_phone || '',\n          recipient_organization: form.recipient_organization || '',\n          delivery_address: form.delivery_address || '',\n          issue_date: form.issue_date,\n          reference_id: form.reference_id || '',\n          notes: form.notes || '',\n          send_email: form.send_email,\n          email_message: form.email_message || ''\n        }\n\n        const response = await GiftIssueAPI.create(issueData)\n        \n        if (response.success) {\n          showNotification('Gift dispatched successfully', 'success')\n          router.push('/issues')\n        } else {\n          showNotification(response.error || 'Failed to dispatch gift', 'error')\n        }\n\n      } catch (error) {\n        console.error('Failed to create issue:', error)\n        showNotification('Failed to dispatch gift. Please try again.', 'error')\n      } finally {\n        loading.value = false\n      }\n    }\n\n    // Lifecycle\n    onMounted(() => {\n      loadAvailableGifts()\n    })\n\n    return {\n      form,\n      errors,\n      loading,\n      giftSearch,\n      availableGifts,\n      preselectedGift,\n      filteredGifts,\n      selectGift,\n      clearGiftSelection,\n      createIssue\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Form styling */\ninput:focus,\nselect:focus,\ntextarea:focus {\n  outline: none !important;\n  border-color: #10b981;\n  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);\n}\n\n/* Loading animation */\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.animate-spin {\n  animation: spin 1s linear infinite;\n}\n\n/* Toggle switch styling */\n.peer:checked ~ .peer-checked\\:bg-gray-600 {\n  background-color: #10b981;\n}\n\n.peer:focus ~ .peer-focus\\:ring-emerald-300 {\n  box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.3);\n}\n\n/* Transitions */\n.transition-colors {\n  transition-property: color, background-color, border-color;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 200ms;\n}\n\n/* Disabled state */\nbutton:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* Accessibility */\n@media (prefers-reduced-motion: reduce) {\n  .animate-spin {\n    animation: none !important;\n  }\n  \n  .transition-colors {\n    transition: none !important;\n  }\n}\n\n/* High contrast mode */\n@media (prefers-contrast: high) {\n  .shadow-card {\n    border: 1px solid #374151;\n  }\n  \n  input, select, textarea {\n    border-width: 2px;\n  }\n}\n</style>\n"],"names":["_sfc_main","ArrowLeftIcon","GiftIcon","MagnifyingGlassIcon","XMarkIcon","ArrowPathIcon","router","useRouter","route","useRoute","showNotification","useNotifications","loading","ref","errors","giftSearch","availableGifts","preselectedGift","form","reactive","filteredGifts","computed","search","gift","loadAvailableGifts","__async","response","GiftAPI","preselectedId","g","giftResponse","selectGift","error","clearGiftSelection","validateForm","createIssue","issueData","GiftIssueAPI","onMounted","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_29","_hoisted_30","_hoisted_35","_hoisted_37","_hoisted_38","_hoisted_41","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_48","_openBlock","_createElementBlock","_createElementVNode","_cache","$event","_ctx","_createVNode","_component_ArrowLeftIcon","$setup","args","_hoisted_8","_component_GiftIcon","_toDisplayString","_component_XMarkIcon","_hoisted_14","_component_MagnifyingGlassIcon","_hoisted_19","_hoisted_20","_Fragment","_renderList","_hoisted_28","_vModelText","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_36","_hoisted_39","_hoisted_40","_hoisted_42","_vModelCheckbox","_hoisted_47","_hoisted_50","_component_ArrowPathIcon"],"mappings":"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"}