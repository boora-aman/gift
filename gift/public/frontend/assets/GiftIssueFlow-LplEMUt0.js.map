{"version":3,"file":"GiftIssueFlow-LplEMUt0.js","sources":["../../../../frontend/node_modules/@heroicons/vue/24/outline/esm/BoltSlashIcon.js","../../../../frontend/node_modules/@heroicons/vue/24/outline/esm/BoltIcon.js","../../../../frontend/node_modules/@heroicons/vue/24/outline/esm/DocumentPlusIcon.js","../../../../frontend/src/components/CameraModal.vue","../../../../frontend/node_modules/regenerator-runtime/runtime.js","../../../../frontend/node_modules/tesseract.js/src/utils/getId.js","../../../../frontend/node_modules/tesseract.js/src/createJob.js","../../../../frontend/node_modules/tesseract.js/src/utils/log.js","../../../../frontend/node_modules/tesseract.js/src/createScheduler.js","../../../../frontend/node_modules/is-electron/index.js","../../../../frontend/node_modules/tesseract.js/src/utils/getEnvironment.js","../../../../frontend/node_modules/tesseract.js/src/utils/resolvePaths.js","../../../../frontend/node_modules/tesseract.js/src/utils/circularize.js","../../../../frontend/node_modules/tesseract.js/src/constants/OEM.js","../../../../frontend/node_modules/tesseract.js/src/constants/defaultOptions.js","../../../../frontend/node_modules/tesseract.js/src/worker/browser/defaultOptions.js","../../../../frontend/node_modules/tesseract.js/src/worker/browser/spawnWorker.js","../../../../frontend/node_modules/tesseract.js/src/worker/browser/terminateWorker.js","../../../../frontend/node_modules/tesseract.js/src/worker/browser/onMessage.js","../../../../frontend/node_modules/tesseract.js/src/worker/browser/send.js","../../../../frontend/node_modules/tesseract.js/src/worker/browser/loadImage.js","../../../../frontend/node_modules/tesseract.js/src/worker/browser/index.js","../../../../frontend/node_modules/tesseract.js/src/createWorker.js","../../../../frontend/node_modules/tesseract.js/src/Tesseract.js","../../../../frontend/node_modules/tesseract.js/src/constants/languages.js","../../../../frontend/node_modules/tesseract.js/src/constants/PSM.js","../../../../frontend/node_modules/tesseract.js/src/index.js","../../../../frontend/src/components/EmiratesIdScanner.vue","../../../../frontend/src/components/GiftIssueSuccessModal.vue","../../../../frontend/src/views/scan/GiftIssueFlow.vue"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    \"stroke-width\": \"1.5\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      d: \"M11.412 15.655 9.75 21.75l3.745-4.012M9.257 13.5H3.75l2.659-2.849m2.048-2.194L14.25 2.25 12 10.5h8.25l-4.707 5.043M8.457 8.457 3 3m5.457 5.457 7.086 7.086m0 0L21 21\"\n    })\n  ]))\n}","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    \"stroke-width\": \"1.5\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      d: \"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z\"\n    })\n  ]))\n}","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    \"stroke-width\": \"1.5\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      d: \"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z\"\n    })\n  ]))\n}","<template>\n  <div class=\"fixed inset-0 bg-black bg-opacity-90 z-50\">\n    <div class=\"h-full flex flex-col\">\n      <!-- Header -->\n      <div class=\"flex items-center justify-between p-4 bg-black text-white safe-area-padding\">\n        <div class=\"flex items-center space-x-3\">\n          <CameraIcon class=\"w-6 h-6 text-white\" />\n          <h2 class=\"text-lg font-semibold\">Take Photo</h2>\n        </div>\n        \n        <div class=\"flex items-center space-x-2\">\n          <!-- Flash Toggle -->\n          <button\n            v-if=\"hasFlash\"\n            @click=\"toggleFlash\"\n            :disabled=\"!cameraReady\"\n            class=\"p-2 rounded-lg bg-white bg-opacity-20 hover:bg-opacity-30 transition-all duration-200 disabled:opacity-50\"\n            :class=\"{ 'bg-yellow-500 bg-opacity-80 hover:bg-yellow-500': flashOn }\"\n          >\n            <BoltIcon v-if=\"!flashOn\" class=\"w-5 h-5\" />\n            <BoltSlashIcon v-else class=\"w-5 h-5\" />\n          </button>\n          \n          <!-- Camera Switch -->\n          <button\n            v-if=\"hasMultipleCameras\"\n            @click=\"switchCamera\"\n            :disabled=\"!cameraReady\"\n            class=\"p-2 rounded-lg bg-white bg-opacity-20 hover:bg-opacity-30 transition-all duration-200 disabled:opacity-50\"\n          >\n            <ArrowPathIcon class=\"w-5 h-5\" />\n          </button>\n          \n          <!-- Close button -->\n          <button\n            @click=\"$emit('close')\"\n            class=\"p-2 rounded-lg bg-white bg-opacity-20 hover:bg-opacity-30 transition-all duration-200\"\n          >\n            <XMarkIcon class=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n      \n      <!-- Camera Area -->\n      <div class=\"flex-1 relative overflow-hidden\">\n        <!-- Video Element -->\n        <video\n          ref=\"videoElement\"\n          class=\"w-full h-full object-cover\"\n          :class=\"{ 'mirror': isFrontCamera }\"\n          playsinline\n          muted\n          autoplay\n        ></video>\n\n        <!-- Canvas for processing (hidden) -->\n        <canvas\n          ref=\"canvasElement\"\n          class=\"hidden\"\n        ></canvas>\n\n        <!-- Error State -->\n        <div \n          v-if=\"error\" \n          class=\"absolute inset-0 flex items-center justify-center bg-black bg-opacity-90\"\n        >\n          <div class=\"bg-white rounded-xl p-6 mx-4 text-center max-w-md\">\n            <ExclamationTriangleIcon class=\"w-12 h-12 text-red-500 mx-auto mb-4\" />\n            <h3 class=\"text-lg font-semibold text-charcoal-900 mb-2\">\n              Camera Error\n            </h3>\n            <p class=\"text-charcoal-600 mb-4\">\n              {{ error }}\n            </p>\n            <div class=\"flex space-x-3\">\n              <button\n                @click=\"initializeCamera\"\n                class=\"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\n              >\n                Try Again\n              </button>\n              <button\n                @click=\"$emit('close')\"\n                class=\"flex-1 px-4 py-2 bg-charcoal-100 text-charcoal-700 rounded-lg hover:bg-charcoal-200 transition-colors\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n        \n        <!-- Center Capture Button Overlay -->\n        <div class=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\n          <button\n            @click=\"capturePhoto\"\n            :disabled=\"!cameraReady\"\n            class=\"w-20 h-20 rounded-full bg-white hover:bg-white/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-2xl border-4 border-white/50 pointer-events-auto\"\n          >\n            <CameraIcon class=\"w-8 h-8 text-charcoal-900\" />\n          </button>\n        </div>\n      </div>\n      \n      <!-- Bottom Controls -->\n      <div class=\"bg-black text-white p-4 safe-area-padding\">\n        <div class=\"text-center\">\n          <p class=\"text-white/80 text-sm mb-2\">\n            {{ cameraReady ? 'Tap the camera button to take photo' : 'Preparing camera...' }}\n          </p>\n          <p class=\"text-white/60 text-xs\">\n            {{ isFrontCamera ? 'Using front camera' : 'Using back camera' }}\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted, onUnmounted } from 'vue'\n\n// Icons\nimport {\n  XMarkIcon,\n  BoltIcon,\n  BoltSlashIcon,\n  ArrowPathIcon,\n  ExclamationTriangleIcon,\n  CameraIcon\n} from '@heroicons/vue/24/outline'\n\nexport default {\n  name: 'CameraModal',\n  components: {\n    XMarkIcon,\n    BoltIcon,\n    BoltSlashIcon,\n    ArrowPathIcon,\n    ExclamationTriangleIcon,\n    CameraIcon\n  },\n  emits: ['close', 'photo-captured'],\n  setup(props, { emit }) {\n    // Refs\n    const videoElement = ref(null)\n    const canvasElement = ref(null)\n\n    // State\n    const cameraReady = ref(false)\n    const isFrontCamera = ref(true) // Default to front camera for selfies\n    const hasMultipleCameras = ref(false)\n    const hasFlash = ref(false)\n    const flashOn = ref(false)\n    const error = ref('')\n\n    // Camera stream and constraints\n    let currentStream = null\n    let availableCameras = []\n\n    // Methods\n    const initializeCamera = async () => {\n      try {\n        error.value = ''\n        \n        // Get available cameras\n        const devices = await navigator.mediaDevices.enumerateDevices()\n        availableCameras = devices.filter(device => device.kind === 'videoinput')\n        hasMultipleCameras.value = availableCameras.length > 1\n\n        // Request camera permissions\n        const constraints = {\n          video: {\n            facingMode: isFrontCamera.value ? 'user' : 'environment',\n            width: { ideal: 1280 },\n            height: { ideal: 1280 }\n          },\n          audio: false\n        }\n\n        currentStream = await navigator.mediaDevices.getUserMedia(constraints)\n        \n        if (videoElement.value) {\n          videoElement.value.srcObject = currentStream\n          \n          // Wait for video to be ready\n          await new Promise((resolve) => {\n            videoElement.value.onloadedmetadata = resolve\n          })\n          \n          // Check for flash capability\n          const videoTrack = currentStream.getVideoTracks()[0]\n          const capabilities = videoTrack.getCapabilities()\n          hasFlash.value = !!capabilities.torch\n          \n          cameraReady.value = true\n        }\n        \n      } catch (err) {\n        console.error('Camera initialization error:', err)\n        \n        if (err.name === 'NotAllowedError') {\n          error.value = 'Camera permission denied. Please allow camera access and try again.'\n        } else if (err.name === 'NotFoundError') {\n          error.value = 'No camera found. Please ensure your device has a camera.'\n        } else if (err.name === 'NotReadableError') {\n          error.value = 'Camera is being used by another application.'\n        } else {\n          error.value = 'Unable to access camera. Please check your device settings.'\n        }\n        \n        cameraReady.value = false\n      }\n    }\n\n    const switchCamera = async () => {\n      if (!hasMultipleCameras.value) return\n      \n      // Stop current stream\n      if (currentStream) {\n        currentStream.getTracks().forEach(track => track.stop())\n      }\n      \n      // Toggle camera\n      isFrontCamera.value = !isFrontCamera.value\n      cameraReady.value = false\n      \n      // Reinitialize with new camera\n      await initializeCamera()\n    }\n\n    const toggleFlash = async () => {\n      if (!hasFlash.value || !currentStream) return\n      \n      try {\n        const videoTrack = currentStream.getVideoTracks()[0]\n        await videoTrack.applyConstraints({\n          advanced: [{ torch: !flashOn.value }]\n        })\n        flashOn.value = !flashOn.value\n      } catch (err) {\n        console.error('Flash toggle error:', err)\n      }\n    }\n\n    const capturePhoto = () => {\n      if (!videoElement.value || !canvasElement.value || !cameraReady.value) return\n      \n      const video = videoElement.value\n      const canvas = canvasElement.value\n      const context = canvas.getContext('2d')\n      \n      // Set canvas size to match video dimensions\n      canvas.width = video.videoWidth\n      canvas.height = video.videoHeight\n      \n      // Draw the full video frame to canvas\n      context.drawImage(video, 0, 0, canvas.width, canvas.height)\n      \n      // Convert canvas to blob\n      canvas.toBlob((blob) => {\n        if (blob) {\n          emit('photo-captured', blob)\n        }\n      }, 'image/jpeg', 0.9)\n    }\n\n    const cleanup = () => {\n      // Stop camera stream\n      if (currentStream) {\n        currentStream.getTracks().forEach(track => track.stop())\n        currentStream = null\n      }\n      \n      cameraReady.value = false\n    }\n\n    // Lifecycle\n    onMounted(() => {\n      // Check for camera support\n      if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n        error.value = 'Camera not supported on this device'\n        return\n      }\n      \n      initializeCamera()\n    })\n\n    onUnmounted(() => {\n      cleanup()\n    })\n\n    return {\n      videoElement,\n      canvasElement,\n      cameraReady,\n      isFrontCamera,\n      hasMultipleCameras,\n      hasFlash,\n      flashOn,\n      error,\n      initializeCamera,\n      switchCamera,\n      toggleFlash,\n      capturePhoto\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Mirror effect for front camera */\n.mirror {\n  transform: scaleX(-1);\n}\n\n/* Smooth transitions */\n.transition-colors,\n.transition-all {\n  transition-property: color, background-color, border-color;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 200ms;\n}\n\n/* Focus styles for better accessibility */\nbutton:focus {\n  outline: 2px solid #10b981;\n  outline-offset: 2px;\n}\n\n/* Disable user selection */\nvideo {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n}\n\n/* Prevent screen from going to sleep during camera use */\nvideo::-webkit-media-controls {\n  display: none !important;\n}\n\n/* Safe area padding for devices with notches */\n.safe-area-padding {\n  padding-top: max(1rem, env(safe-area-inset-top));\n  padding-bottom: max(1rem, env(safe-area-inset-bottom));\n  padding-left: max(1rem, env(safe-area-inset-left));\n  padding-right: max(1rem, env(safe-area-inset-right));\n}\n\n/* High contrast mode */\n@media (prefers-contrast: high) {\n  .bg-white {\n    background-color: #ffffff;\n  }\n  \n  .bg-opacity-20 {\n    background-color: rgba(255, 255, 255, 0.3);\n  }\n}\n\n/* Reduced motion support */\n@media (prefers-reduced-motion: reduce) {\n  .transition-colors,\n  .transition-all {\n    transition: none;\n  }\n}\n\n/* Landscape orientation optimizations */\n@media (orientation: landscape) and (max-height: 500px) {\n  .safe-area-padding {\n    padding-top: 0.5rem;\n    padding-bottom: 0.5rem;\n  }\n  \n  /* Smaller capture button in landscape */\n  .w-20 {\n    width: 4rem !important;\n    height: 4rem !important;\n  }\n}\n\n/* Desktop optimizations */\n@media (min-width: 768px) {\n  /* Larger capture button on desktop */\n  .w-20 {\n    width: 5rem !important;\n    height: 5rem !important;\n  }\n}\n</style>\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; };\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) });\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: true });\n  defineProperty(\n    GeneratorFunctionPrototype,\n    \"constructor\",\n    { value: GeneratorFunction, configurable: true }\n  );\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    defineProperty(this, \"_invoke\", { value: enqueue });\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method;\n    var method = delegate.iterator[methodName];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method, or a missing .next mehtod, always terminate the\n      // yield* loop.\n      context.delegate = null;\n\n      // Note: [\"return\"] must be used for ES3 parsing compatibility.\n      if (methodName === \"throw\" && delegate.iterator[\"return\"]) {\n        // If the delegate iterator has a return method, give it a\n        // chance to clean up.\n        context.method = \"return\";\n        context.arg = undefined;\n        maybeInvokeDelegate(delegate, context);\n\n        if (context.method === \"throw\") {\n          // If maybeInvokeDelegate(context) changed context.method from\n          // \"return\" to \"throw\", let that override the TypeError below.\n          return ContinueSentinel;\n        }\n      }\n      if (methodName !== \"return\") {\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a '\" + methodName + \"' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(val) {\n    var object = Object(val);\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","module.exports = (prefix, cnt) => (\n  `${prefix}-${cnt}-${Math.random().toString(16).slice(3, 8)}`\n);\n","const getId = require('./utils/getId');\n\nlet jobCounter = 0;\n\nmodule.exports = ({\n  id: _id,\n  action,\n  payload = {},\n}) => {\n  let id = _id;\n  if (typeof id === 'undefined') {\n    id = getId('Job', jobCounter);\n    jobCounter += 1;\n  }\n\n  return {\n    id,\n    action,\n    payload,\n  };\n};\n","let logging = false;\n\nexports.logging = logging;\n\nexports.setLogging = (_logging) => {\n  logging = _logging;\n};\n\nexports.log = (...args) => (logging ? console.log.apply(this, args) : null);\n","const createJob = require('./createJob');\nconst { log } = require('./utils/log');\nconst getId = require('./utils/getId');\n\nlet schedulerCounter = 0;\n\nmodule.exports = () => {\n  const id = getId('Scheduler', schedulerCounter);\n  const workers = {};\n  const runningWorkers = {};\n  let jobQueue = [];\n\n  schedulerCounter += 1;\n\n  const getQueueLen = () => jobQueue.length;\n  const getNumWorkers = () => Object.keys(workers).length;\n\n  const dequeue = () => {\n    if (jobQueue.length !== 0) {\n      const wIds = Object.keys(workers);\n      for (let i = 0; i < wIds.length; i += 1) {\n        if (typeof runningWorkers[wIds[i]] === 'undefined') {\n          jobQueue[0](workers[wIds[i]]);\n          break;\n        }\n      }\n    }\n  };\n\n  const queue = (action, payload) => (\n    new Promise((resolve, reject) => {\n      const job = createJob({ action, payload });\n      jobQueue.push(async (w) => {\n        jobQueue.shift();\n        runningWorkers[w.id] = job;\n        try {\n          resolve(await w[action].apply(this, [...payload, job.id]));\n        } catch (err) {\n          reject(err);\n        } finally {\n          delete runningWorkers[w.id];\n          dequeue();\n        }\n      });\n      log(`[${id}]: Add ${job.id} to JobQueue`);\n      log(`[${id}]: JobQueue length=${jobQueue.length}`);\n      dequeue();\n    })\n  );\n\n  const addWorker = (w) => {\n    workers[w.id] = w;\n    log(`[${id}]: Add ${w.id}`);\n    log(`[${id}]: Number of workers=${getNumWorkers()}`);\n    dequeue();\n    return w.id;\n  };\n\n  const addJob = async (action, ...payload) => {\n    if (getNumWorkers() === 0) {\n      throw Error(`[${id}]: You need to have at least one worker before adding jobs`);\n    }\n    return queue(action, payload);\n  };\n\n  const terminate = async () => {\n    Object.keys(workers).forEach(async (wid) => {\n      await workers[wid].terminate();\n    });\n    jobQueue = [];\n  };\n\n  return {\n    addWorker,\n    addJob,\n    terminate,\n    getQueueLen,\n    getNumWorkers,\n  };\n};\n","// https://github.com/electron/electron/issues/2288\nfunction isElectron() {\n    // Renderer process\n    if (typeof window !== 'undefined' && typeof window.process === 'object' && window.process.type === 'renderer') {\n        return true;\n    }\n\n    // Main process\n    if (typeof process !== 'undefined' && typeof process.versions === 'object' && !!process.versions.electron) {\n        return true;\n    }\n\n    // Detect the user agent when the `nodeIntegration` option is set to false\n    if (typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent.indexOf('Electron') >= 0) {\n        return true;\n    }\n\n    return false;\n}\n\nmodule.exports = isElectron;\n","const isElectron = require('is-electron');\n\nmodule.exports = (key) => {\n  const env = {};\n\n  if (typeof WorkerGlobalScope !== 'undefined') {\n    env.type = 'webworker';\n  } else if (isElectron()) {\n    env.type = 'electron';\n  } else if (typeof document === 'object') {\n    env.type = 'browser';\n  } else if (typeof process === 'object' && typeof require === 'function') {\n    env.type = 'node';\n  }\n\n  if (typeof key === 'undefined') {\n    return env;\n  }\n\n  return env[key];\n};\n","const isBrowser = require('./getEnvironment')('type') === 'browser';\n\nconst resolveURL = isBrowser ? s => (new URL(s, window.location.href)).href : s => s; // eslint-disable-line\n\nmodule.exports = (options) => {\n  const opts = { ...options };\n  ['corePath', 'workerPath', 'langPath'].forEach((key) => {\n    if (options[key]) {\n      opts[key] = resolveURL(opts[key]);\n    }\n  });\n  return opts;\n};\n","/**\n * In the recognition result of tesseract, there\n * is a deep JSON object for details, it has around\n *\n * The result of dump.js is a big JSON tree\n * which can be easily serialized (for instance\n * to be sent from a webworker to the main app\n * or through Node's IPC), but we want\n * a (circular) DOM-like interface for walking\n * through the data.\n *\n * @fileoverview DOM-like interface for walking through data\n * @author Kevin Kwok <antimatter15@gmail.com>\n * @author Guillermo Webster <gui@mit.edu>\n * @author Jerome Wu <jeromewus@gmail.com>\n */\n\nmodule.exports = (page) => {\n  const blocks = [];\n  const paragraphs = [];\n  const lines = [];\n  const words = [];\n  const symbols = [];\n\n  if (page.blocks) {\n    page.blocks.forEach((block) => {\n      block.paragraphs.forEach((paragraph) => {\n        paragraph.lines.forEach((line) => {\n          line.words.forEach((word) => {\n            word.symbols.forEach((sym) => {\n              symbols.push({\n                ...sym, page, block, paragraph, line, word,\n              });\n            });\n            words.push({\n              ...word, page, block, paragraph, line,\n            });\n          });\n          lines.push({\n            ...line, page, block, paragraph,\n          });\n        });\n        paragraphs.push({\n          ...paragraph, page, block,\n        });\n      });\n      blocks.push({\n        ...block, page,\n      });\n    });\n  }\n\n  return {\n    ...page, blocks, paragraphs, lines, words, symbols,\n  };\n};\n","/*\n * OEM = OCR Engine Mode, and there are 4 possible modes.\n *\n * By default tesseract.js uses LSTM_ONLY mode.\n *\n */\nmodule.exports = {\n  TESSERACT_ONLY: 0,\n  LSTM_ONLY: 1,\n  TESSERACT_LSTM_COMBINED: 2,\n  DEFAULT: 3,\n};\n","module.exports = {\n  /*\n   * Use BlobURL for worker script by default\n   * TODO: remove this option\n   *\n   */\n  workerBlobURL: true,\n  logger: () => {},\n};\n","const version = require('../../../package.json').version;\nconst defaultOptions = require('../../constants/defaultOptions');\n\n/*\n * Default options for browser worker\n */\nmodule.exports = {\n  ...defaultOptions,\n  workerPath: `https://cdn.jsdelivr.net/npm/tesseract.js@v${version}/dist/worker.min.js`,\n};\n","/**\n * spawnWorker\n *\n * @name spawnWorker\n * @function create a new Worker in browser\n * @access public\n */\nmodule.exports = ({ workerPath, workerBlobURL }) => {\n  let worker;\n  if (Blob && URL && workerBlobURL) {\n    const blob = new Blob([`importScripts(\"${workerPath}\");`], {\n      type: 'application/javascript',\n    });\n    worker = new Worker(URL.createObjectURL(blob));\n  } else {\n    worker = new Worker(workerPath);\n  }\n\n  return worker;\n};\n","/**\n * terminateWorker\n *\n * @name terminateWorker\n * @function terminate worker\n * @access public\n */\nmodule.exports = (worker) => {\n  worker.terminate();\n};\n","module.exports = (worker, handler) => {\n  worker.onmessage = ({ data }) => { // eslint-disable-line\n    handler(data);\n  };\n};\n","/**\n * send\n *\n * @name send\n * @function send packet to worker and create a job\n * @access public\n */\nmodule.exports = async (worker, packet) => {\n  worker.postMessage(packet);\n};\n","/**\n * readFromBlobOrFile\n *\n * @name readFromBlobOrFile\n * @function\n * @access private\n */\nconst readFromBlobOrFile = (blob) => (\n  new Promise((resolve, reject) => {\n    const fileReader = new FileReader();\n    fileReader.onload = () => {\n      resolve(fileReader.result);\n    };\n    fileReader.onerror = ({ target: { error: { code } } }) => {\n      reject(Error(`File could not be read! Code=${code}`));\n    };\n    fileReader.readAsArrayBuffer(blob);\n  })\n);\n\n/**\n * loadImage\n *\n * @name loadImage\n * @function load image from different source\n * @access private\n */\nconst loadImage = async (image) => {\n  let data = image;\n  if (typeof image === 'undefined') {\n    return 'undefined';\n  }\n\n  if (typeof image === 'string') {\n    // Base64 Image\n    if (/data:image\\/([a-zA-Z]*);base64,([^\"]*)/.test(image)) {\n      data = atob(image.split(',')[1])\n        .split('')\n        .map((c) => c.charCodeAt(0));\n    } else {\n      const resp = await fetch(image);\n      data = await resp.arrayBuffer();\n    }\n  } else if (typeof HTMLElement !== 'undefined' && image instanceof HTMLElement) {\n    if (image.tagName === 'IMG') {\n      data = await loadImage(image.src);\n    }\n    if (image.tagName === 'VIDEO') {\n      data = await loadImage(image.poster);\n    }\n    if (image.tagName === 'CANVAS') {\n      await new Promise((resolve) => {\n        image.toBlob(async (blob) => {\n          data = await readFromBlobOrFile(blob);\n          resolve();\n        });\n      });\n    }\n  } else if (typeof OffscreenCanvas !== 'undefined' && image instanceof OffscreenCanvas) {\n    const blob = await image.convertToBlob();\n    data = await readFromBlobOrFile(blob);\n  } else if (image instanceof File || image instanceof Blob) {\n    data = await readFromBlobOrFile(image);\n  }\n\n  return new Uint8Array(data);\n};\n\nmodule.exports = loadImage;\n","/**\n *\n * Tesseract Worker adapter for browser\n *\n * @fileoverview Tesseract Worker adapter for browser\n * @author Kevin Kwok <antimatter15@gmail.com>\n * @author Guillermo Webster <gui@mit.edu>\n * @author Jerome Wu <jeromewus@gmail.com>\n */\nconst defaultOptions = require('./defaultOptions');\nconst spawnWorker = require('./spawnWorker');\nconst terminateWorker = require('./terminateWorker');\nconst onMessage = require('./onMessage');\nconst send = require('./send');\nconst loadImage = require('./loadImage');\n\nmodule.exports = {\n  defaultOptions,\n  spawnWorker,\n  terminateWorker,\n  onMessage,\n  send,\n  loadImage,\n};\n","const resolvePaths = require('./utils/resolvePaths');\nconst circularize = require('./utils/circularize');\nconst createJob = require('./createJob');\nconst { log } = require('./utils/log');\nconst getId = require('./utils/getId');\nconst OEM = require('./constants/OEM');\nconst {\n  defaultOptions,\n  spawnWorker,\n  terminateWorker,\n  onMessage,\n  loadImage,\n  send,\n} = require('./worker/node');\n\nlet workerCounter = 0;\n\nmodule.exports = async (langs = 'eng', oem = OEM.LSTM_ONLY, _options = {}, config = {}) => {\n  const id = getId('Worker', workerCounter);\n  const {\n    logger,\n    errorHandler,\n    ...options\n  } = resolvePaths({\n    ...defaultOptions,\n    ..._options,\n  });\n  const resolves = {};\n  const rejects = {};\n\n  // Current langs, oem, and config file.\n  // Used if the user ever re-initializes the worker using `worker.reinitialize`.\n  const currentLangs = typeof langs === 'string' ? langs.split('+') : langs;\n  let currentOem = oem;\n  let currentConfig = config;\n  const lstmOnlyCore = [OEM.DEFAULT, OEM.LSTM_ONLY].includes(oem) && !options.legacyCore;\n\n  let workerResReject;\n  let workerResResolve;\n  const workerRes = new Promise((resolve, reject) => {\n    workerResResolve = resolve;\n    workerResReject = reject;\n  });\n  const workerError = (event) => { workerResReject(event.message); };\n\n  let worker = spawnWorker(options);\n  worker.onerror = workerError;\n\n  workerCounter += 1;\n\n  const setResolve = (promiseId, res) => {\n    resolves[promiseId] = res;\n  };\n\n  const setReject = (promiseId, rej) => {\n    rejects[promiseId] = rej;\n  };\n\n  const startJob = ({ id: jobId, action, payload }) => (\n    new Promise((resolve, reject) => {\n      log(`[${id}]: Start ${jobId}, action=${action}`);\n      // Using both `action` and `jobId` in case user provides non-unique `jobId`.\n      const promiseId = `${action}-${jobId}`;\n      setResolve(promiseId, resolve);\n      setReject(promiseId, reject);\n      send(worker, {\n        workerId: id,\n        jobId,\n        action,\n        payload,\n      });\n    })\n  );\n\n  const load = () => (\n    console.warn('`load` is depreciated and should be removed from code (workers now come pre-loaded)')\n  );\n\n  const loadInternal = (jobId) => (\n    startJob(createJob({\n      id: jobId, action: 'load', payload: { options: { lstmOnly: lstmOnlyCore, corePath: options.corePath, logging: options.logging } },\n    }))\n  );\n\n  const writeText = (path, text, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method: 'writeFile', args: [path, text] },\n    }))\n  );\n\n  const readText = (path, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method: 'readFile', args: [path, { encoding: 'utf8' }] },\n    }))\n  );\n\n  const removeFile = (path, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method: 'unlink', args: [path] },\n    }))\n  );\n\n  const FS = (method, args, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method, args },\n    }))\n  );\n\n  const loadLanguage = () => (\n    console.warn('`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)')\n  );\n\n  const loadLanguageInternal = (_langs, jobId) => startJob(createJob({\n    id: jobId,\n    action: 'loadLanguage',\n    payload: {\n      langs: _langs,\n      options: {\n        langPath: options.langPath,\n        dataPath: options.dataPath,\n        cachePath: options.cachePath,\n        cacheMethod: options.cacheMethod,\n        gzip: options.gzip,\n        lstmOnly: [OEM.DEFAULT, OEM.LSTM_ONLY].includes(currentOem)\n          && !options.legacyLang,\n      },\n    },\n  }));\n\n  const initialize = () => (\n    console.warn('`initialize` is depreciated and should be removed from code (workers now come pre-initialized)')\n  );\n\n  const initializeInternal = (_langs, _oem, _config, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'initialize',\n      payload: { langs: _langs, oem: _oem, config: _config },\n    }))\n  );\n\n  const reinitialize = (langs = 'eng', oem, config, jobId) => { // eslint-disable-line\n\n    if (lstmOnlyCore && [OEM.TESSERACT_ONLY, OEM.TESSERACT_LSTM_COMBINED].includes(oem)) throw Error('Legacy model requested but code missing.');\n\n    const _oem = oem || currentOem;\n    currentOem = _oem;\n\n    const _config = config || currentConfig;\n    currentConfig = _config;\n\n    // Only load langs that are not already loaded.\n    // This logic fails if the user downloaded the LSTM-only English data for a language\n    // and then uses `worker.reinitialize` to switch to the Legacy engine.\n    // However, the correct data will still be downloaded after initialization fails\n    // and this can be avoided entirely if the user loads the correct data ahead of time.\n    const langsArr = typeof langs === 'string' ? langs.split('+') : langs;\n    const _langs = langsArr.filter((x) => !currentLangs.includes(x));\n    currentLangs.push(..._langs);\n\n    if (_langs.length > 0) {\n      return loadLanguageInternal(_langs, jobId)\n        .then(() => initializeInternal(langs, _oem, _config, jobId));\n    }\n\n    return initializeInternal(langs, _oem, _config, jobId);\n  };\n\n  const setParameters = (params = {}, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'setParameters',\n      payload: { params },\n    }))\n  );\n\n  const recognize = async (image, opts = {}, output = {\n    blocks: true, text: true, hocr: true, tsv: true,\n  }, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'recognize',\n      payload: { image: await loadImage(image), options: opts, output },\n    }))\n  );\n\n  const getPDF = (title = 'Tesseract OCR Result', textonly = false, jobId) => {\n    console.log('`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead.');\n    return startJob(createJob({\n      id: jobId,\n      action: 'getPDF',\n      payload: { title, textonly },\n    }));\n  };\n\n  const detect = async (image, jobId) => {\n    if (lstmOnlyCore) throw Error('`worker.detect` requires Legacy model, which was not loaded.');\n\n    return startJob(createJob({\n      id: jobId,\n      action: 'detect',\n      payload: { image: await loadImage(image) },\n    }));\n  };\n\n  const terminate = async () => {\n    if (worker !== null) {\n      /*\n      await startJob(createJob({\n        id: jobId,\n        action: 'terminate',\n      }));\n      */\n      terminateWorker(worker);\n      worker = null;\n    }\n    return Promise.resolve();\n  };\n\n  onMessage(worker, ({\n    workerId, jobId, status, action, data,\n  }) => {\n    const promiseId = `${action}-${jobId}`;\n    if (status === 'resolve') {\n      log(`[${workerId}]: Complete ${jobId}`);\n      let d = data;\n      if (action === 'recognize') {\n        d = circularize(data);\n      } else if (action === 'getPDF') {\n        d = Array.from({ ...data, length: Object.keys(data).length });\n      }\n      resolves[promiseId]({ jobId, data: d });\n    } else if (status === 'reject') {\n      rejects[promiseId](data);\n      if (action === 'load') workerResReject(data);\n      if (errorHandler) {\n        errorHandler(data);\n      } else {\n        throw Error(data);\n      }\n    } else if (status === 'progress') {\n      logger({ ...data, userJobId: jobId });\n    }\n  });\n\n  const resolveObj = {\n    id,\n    worker,\n    setResolve,\n    setReject,\n    load,\n    writeText,\n    readText,\n    removeFile,\n    FS,\n    loadLanguage,\n    initialize,\n    reinitialize,\n    setParameters,\n    recognize,\n    getPDF,\n    detect,\n    terminate,\n  };\n\n  loadInternal()\n    .then(() => loadLanguageInternal(langs))\n    .then(() => initializeInternal(langs, oem, config))\n    .then(() => workerResResolve(resolveObj))\n    .catch(() => {});\n\n  return workerRes;\n};\n","const createWorker = require('./createWorker');\n\nconst recognize = async (image, langs, options) => {\n  const worker = await createWorker(langs, 1, options);\n  return worker.recognize(image)\n    .finally(async () => {\n      await worker.terminate();\n    });\n};\n\nconst detect = async (image, options) => {\n  const worker = await createWorker('osd', 0, options);\n  return worker.detect(image)\n    .finally(async () => {\n      await worker.terminate();\n    });\n};\n\nmodule.exports = {\n  recognize,\n  detect,\n};\n","/*\n * languages with existing tesseract traineddata\n * https://tesseract-ocr.github.io/tessdoc/Data-Files#data-files-for-version-400-november-29-2016\n */\n\n/**\n * @typedef {object} Languages\n * @property {string} AFR Afrikaans\n * @property {string} AMH Amharic\n * @property {string} ARA Arabic\n * @property {string} ASM Assamese\n * @property {string} AZE Azerbaijani\n * @property {string} AZE_CYRL Azerbaijani - Cyrillic\n * @property {string} BEL Belarusian\n * @property {string} BEN Bengali\n * @property {string} BOD Tibetan\n * @property {string} BOS Bosnian\n * @property {string} BUL Bulgarian\n * @property {string} CAT Catalan; Valencian\n * @property {string} CEB Cebuano\n * @property {string} CES Czech\n * @property {string} CHI_SIM Chinese - Simplified\n * @property {string} CHI_TRA Chinese - Traditional\n * @property {string} CHR Cherokee\n * @property {string} CYM Welsh\n * @property {string} DAN Danish\n * @property {string} DEU German\n * @property {string} DZO Dzongkha\n * @property {string} ELL Greek, Modern (1453-)\n * @property {string} ENG English\n * @property {string} ENM English, Middle (1100-1500)\n * @property {string} EPO Esperanto\n * @property {string} EST Estonian\n * @property {string} EUS Basque\n * @property {string} FAS Persian\n * @property {string} FIN Finnish\n * @property {string} FRA French\n * @property {string} FRK German Fraktur\n * @property {string} FRM French, Middle (ca. 1400-1600)\n * @property {string} GLE Irish\n * @property {string} GLG Galician\n * @property {string} GRC Greek, Ancient (-1453)\n * @property {string} GUJ Gujarati\n * @property {string} HAT Haitian; Haitian Creole\n * @property {string} HEB Hebrew\n * @property {string} HIN Hindi\n * @property {string} HRV Croatian\n * @property {string} HUN Hungarian\n * @property {string} IKU Inuktitut\n * @property {string} IND Indonesian\n * @property {string} ISL Icelandic\n * @property {string} ITA Italian\n * @property {string} ITA_OLD Italian - Old\n * @property {string} JAV Javanese\n * @property {string} JPN Japanese\n * @property {string} KAN Kannada\n * @property {string} KAT Georgian\n * @property {string} KAT_OLD Georgian - Old\n * @property {string} KAZ Kazakh\n * @property {string} KHM Central Khmer\n * @property {string} KIR Kirghiz; Kyrgyz\n * @property {string} KOR Korean\n * @property {string} KUR Kurdish\n * @property {string} LAO Lao\n * @property {string} LAT Latin\n * @property {string} LAV Latvian\n * @property {string} LIT Lithuanian\n * @property {string} MAL Malayalam\n * @property {string} MAR Marathi\n * @property {string} MKD Macedonian\n * @property {string} MLT Maltese\n * @property {string} MSA Malay\n * @property {string} MYA Burmese\n * @property {string} NEP Nepali\n * @property {string} NLD Dutch; Flemish\n * @property {string} NOR Norwegian\n * @property {string} ORI Oriya\n * @property {string} PAN Panjabi; Punjabi\n * @property {string} POL Polish\n * @property {string} POR Portuguese\n * @property {string} PUS Pushto; Pashto\n * @property {string} RON Romanian; Moldavian; Moldovan\n * @property {string} RUS Russian\n * @property {string} SAN Sanskrit\n * @property {string} SIN Sinhala; Sinhalese\n * @property {string} SLK Slovak\n * @property {string} SLV Slovenian\n * @property {string} SPA Spanish; Castilian\n * @property {string} SPA_OLD Spanish; Castilian - Old\n * @property {string} SQI Albanian\n * @property {string} SRP Serbian\n * @property {string} SRP_LATN Serbian - Latin\n * @property {string} SWA Swahili\n * @property {string} SWE Swedish\n * @property {string} SYR Syriac\n * @property {string} TAM Tamil\n * @property {string} TEL Telugu\n * @property {string} TGK Tajik\n * @property {string} TGL Tagalog\n * @property {string} THA Thai\n * @property {string} TIR Tigrinya\n * @property {string} TUR Turkish\n * @property {string} UIG Uighur; Uyghur\n * @property {string} UKR Ukrainian\n * @property {string} URD Urdu\n * @property {string} UZB Uzbek\n * @property {string} UZB_CYRL Uzbek - Cyrillic\n * @property {string} VIE Vietnamese\n * @property {string} YID Yiddish\n */\n\n/**\n  * @type {Languages}\n  */\nmodule.exports = {\n  AFR: 'afr',\n  AMH: 'amh',\n  ARA: 'ara',\n  ASM: 'asm',\n  AZE: 'aze',\n  AZE_CYRL: 'aze_cyrl',\n  BEL: 'bel',\n  BEN: 'ben',\n  BOD: 'bod',\n  BOS: 'bos',\n  BUL: 'bul',\n  CAT: 'cat',\n  CEB: 'ceb',\n  CES: 'ces',\n  CHI_SIM: 'chi_sim',\n  CHI_TRA: 'chi_tra',\n  CHR: 'chr',\n  CYM: 'cym',\n  DAN: 'dan',\n  DEU: 'deu',\n  DZO: 'dzo',\n  ELL: 'ell',\n  ENG: 'eng',\n  ENM: 'enm',\n  EPO: 'epo',\n  EST: 'est',\n  EUS: 'eus',\n  FAS: 'fas',\n  FIN: 'fin',\n  FRA: 'fra',\n  FRK: 'frk',\n  FRM: 'frm',\n  GLE: 'gle',\n  GLG: 'glg',\n  GRC: 'grc',\n  GUJ: 'guj',\n  HAT: 'hat',\n  HEB: 'heb',\n  HIN: 'hin',\n  HRV: 'hrv',\n  HUN: 'hun',\n  IKU: 'iku',\n  IND: 'ind',\n  ISL: 'isl',\n  ITA: 'ita',\n  ITA_OLD: 'ita_old',\n  JAV: 'jav',\n  JPN: 'jpn',\n  KAN: 'kan',\n  KAT: 'kat',\n  KAT_OLD: 'kat_old',\n  KAZ: 'kaz',\n  KHM: 'khm',\n  KIR: 'kir',\n  KOR: 'kor',\n  KUR: 'kur',\n  LAO: 'lao',\n  LAT: 'lat',\n  LAV: 'lav',\n  LIT: 'lit',\n  MAL: 'mal',\n  MAR: 'mar',\n  MKD: 'mkd',\n  MLT: 'mlt',\n  MSA: 'msa',\n  MYA: 'mya',\n  NEP: 'nep',\n  NLD: 'nld',\n  NOR: 'nor',\n  ORI: 'ori',\n  PAN: 'pan',\n  POL: 'pol',\n  POR: 'por',\n  PUS: 'pus',\n  RON: 'ron',\n  RUS: 'rus',\n  SAN: 'san',\n  SIN: 'sin',\n  SLK: 'slk',\n  SLV: 'slv',\n  SPA: 'spa',\n  SPA_OLD: 'spa_old',\n  SQI: 'sqi',\n  SRP: 'srp',\n  SRP_LATN: 'srp_latn',\n  SWA: 'swa',\n  SWE: 'swe',\n  SYR: 'syr',\n  TAM: 'tam',\n  TEL: 'tel',\n  TGK: 'tgk',\n  TGL: 'tgl',\n  THA: 'tha',\n  TIR: 'tir',\n  TUR: 'tur',\n  UIG: 'uig',\n  UKR: 'ukr',\n  URD: 'urd',\n  UZB: 'uzb',\n  UZB_CYRL: 'uzb_cyrl',\n  VIE: 'vie',\n  YID: 'yid',\n};\n","/*\n * PSM = Page Segmentation Mode\n */\nmodule.exports = {\n  OSD_ONLY: '0',\n  AUTO_OSD: '1',\n  AUTO_ONLY: '2',\n  AUTO: '3',\n  SINGLE_COLUMN: '4',\n  SINGLE_BLOCK_VERT_TEXT: '5',\n  SINGLE_BLOCK: '6',\n  SINGLE_LINE: '7',\n  SINGLE_WORD: '8',\n  CIRCLE_WORD: '9',\n  SINGLE_CHAR: '10',\n  SPARSE_TEXT: '11',\n  SPARSE_TEXT_OSD: '12',\n  RAW_LINE: '13',\n};\n","/**\n *\n * Entry point for tesseract.js, should be the entry when bundling.\n *\n * @fileoverview entry point for tesseract.js\n * @author Kevin Kwok <antimatter15@gmail.com>\n * @author Guillermo Webster <gui@mit.edu>\n * @author Jerome Wu <jeromewus@gmail.com>\n */\nrequire('regenerator-runtime/runtime');\nconst createScheduler = require('./createScheduler');\nconst createWorker = require('./createWorker');\nconst Tesseract = require('./Tesseract');\nconst languages = require('./constants/languages');\nconst OEM = require('./constants/OEM');\nconst PSM = require('./constants/PSM');\nconst { setLogging } = require('./utils/log');\n\nmodule.exports = {\n  languages,\n  OEM,\n  PSM,\n  createScheduler,\n  createWorker,\n  setLogging,\n  ...Tesseract,\n};\n","<template>\n  <div class=\"fixed inset-0 z-50 bg-charcoal-900 flex flex-col\">\n    <!-- Header -->\n    <div class=\"flex items-center justify-between p-4 bg-charcoal-900/80\">\n      <button\n        @click=\"$emit('close')\"\n        class=\"p-2 rounded-lg text-white/80 hover:text-white hover:bg-white/10 transition-colors\"\n      >\n        <XMarkIcon class=\"w-6 h-6\" />\n      </button>\n\n      <h2 class=\"text-lg font-semibold text-white\">Scan Emirates ID</h2>\n\n      <button\n        v-if=\"hasFlash\"\n        @click=\"toggleFlash\"\n        class=\"p-2 rounded-lg text-white/80 hover:text-white hover:bg-white/10 transition-colors\"\n      >\n        <BoltIcon v-if=\"!flashOn\" class=\"w-6 h-6\" />\n        <BoltSlashIcon v-else class=\"w-6 h-6\" />\n      </button>\n      <div v-else class=\"w-10 h-10\"></div>\n    </div>\n\n    <!-- Camera View -->\n    <div class=\"flex-1 relative\">\n      <!-- Video Element -->\n      <video\n        ref=\"videoElement\"\n        class=\"w-full h-full object-cover\"\n        playsinline\n        muted\n        autoplay\n      ></video>\n\n      <!-- Canvas for processing (hidden) -->\n      <canvas\n        ref=\"canvasElement\"\n        class=\"hidden\"\n      ></canvas>\n\n      <!-- Scanning Overlay -->\n      <div class=\"absolute inset-0 flex items-center justify-center\">\n        <!-- ID Card Frame -->\n        <div class=\"relative w-80 h-48 max-w-[90vw] max-h-[40vh] border-2 rounded-lg transition-colors duration-300\"\n             :class=\"documentDetected ? 'border-emerald-400 shadow-lg shadow-emerald-400/50' : 'border-emerald-500'\">\n          <!-- Corner indicators -->\n          <div class=\"absolute -top-1 -left-1 w-6 h-6 border-t-4 border-l-4 rounded-tl transition-colors duration-300\"\n               :class=\"documentDetected ? 'border-emerald-300' : 'border-emerald-400'\"></div>\n          <div class=\"absolute -top-1 -right-1 w-6 h-6 border-t-4 border-r-4 rounded-tr transition-colors duration-300\"\n               :class=\"documentDetected ? 'border-emerald-300' : 'border-emerald-400'\"></div>\n          <div class=\"absolute -bottom-1 -left-1 w-6 h-6 border-b-4 border-l-4 rounded-bl transition-colors duration-300\"\n               :class=\"documentDetected ? 'border-emerald-300' : 'border-emerald-400'\"></div>\n          <div class=\"absolute -bottom-1 -right-1 w-6 h-6 border-b-4 border-r-4 rounded-br transition-colors duration-300\"\n               :class=\"documentDetected ? 'border-emerald-300' : 'border-emerald-400'\"></div>\n\n          <!-- Scanning line animation -->\n          <div\n            v-if=\"isScanning && documentDetected\"\n            class=\"absolute left-0 right-0 h-0.5 bg-emerald-400 opacity-80 animate-scan\"\n          ></div>\n\n          <!-- Document detected indicator -->\n          <div\n            v-if=\"documentDetected\"\n            class=\"absolute top-2 left-2 bg-gray-600 text-white text-xs px-2 py-1 rounded-full\"\n          >\n            Document detected\n          </div>\n        </div>\n      </div>\n\n      <!-- Dark overlay outside scanning area -->\n      <div class=\"absolute inset-0 bg-charcoal-900/60 mask-id-scanner\"></div>\n\n      <!-- Error State -->\n      <div\n        v-if=\"error\"\n        class=\"absolute inset-0 flex items-center justify-center bg-charcoal-900/90\"\n      >\n        <div class=\"bg-white rounded-xl p-6 mx-4 text-center max-w-md\">\n          <ExclamationTriangleIcon class=\"w-12 h-12 text-red-500 mx-auto mb-4\" />\n          <h3 class=\"text-lg font-semibold text-charcoal-900 mb-2\">\n            Camera Error\n          </h3>\n          <p class=\"text-charcoal-600 mb-4\">\n            {{ error }}\n          </p>\n          <div class=\"flex space-x-3\">\n            <button\n              @click=\"initializeCamera\"\n              class=\"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\n            >\n              Try Again\n            </button>\n            <button\n              @click=\"$emit('close')\"\n              class=\"flex-1 px-4 py-2 bg-charcoal-100 text-charcoal-700 rounded-lg hover:bg-charcoal-200 transition-colors\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Processing State -->\n      <div\n        v-if=\"processing\"\n        class=\"absolute inset-0 flex items-center justify-center bg-charcoal-900/90\"\n      >\n        <div class=\"bg-white rounded-xl p-6 mx-4 text-center max-w-md\">\n          <ArrowPathIcon class=\"w-12 h-12 text-gray-700 mx-auto mb-4 animate-spin\" />\n          <h3 class=\"text-lg font-semibold text-charcoal-900 mb-2\">\n            Processing ID\n          </h3>\n          <p class=\"text-charcoal-600\">\n            Extracting information from Emirates ID...\n          </p>\n        </div>\n      </div>\n    </div>\n\n    <!-- Bottom Controls -->\n    <div class=\"p-6 bg-charcoal-900/80\">\n      <!-- Status -->\n      <div class=\"text-center mb-4\">\n        <p v-if=\"!cameraReady\" class=\"text-white/80 text-sm\">\n          Initializing camera...\n        </p>\n        <p v-else-if=\"!isScanning\" class=\"text-white/80 text-sm\">\n          {{ documentDetected ? 'Document detected - ready to scan' : scanStatus }}\n        </p>\n        <p v-else class=\"text-emerald-400 text-sm font-medium\">\n          {{ documentDetected ? 'Scanning Emirates ID...' : 'Detecting document...' }}\n        </p>\n      </div>\n\n      <!-- Controls -->\n      <div class=\"flex items-center justify-center space-x-6\">\n        <!-- Camera Switch -->\n        <button\n          v-if=\"hasMultipleCameras\"\n          @click=\"switchCamera\"\n          :disabled=\"!cameraReady\"\n          class=\"p-3 rounded-full bg-white/10 text-white hover:bg-white/20 transition-colors disabled:opacity-50\"\n        >\n          <ArrowPathIcon class=\"w-6 h-6\" />\n        </button>\n        <div v-else class=\"w-12 h-12\"></div>\n\n        <!-- Scan Toggle -->\n        <button\n          @click=\"toggleScanning\"\n          :disabled=\"!cameraReady || processing\"\n          class=\"px-6 py-3 rounded-full font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n          :class=\"isScanning\n            ? 'bg-red-600 text-white hover:bg-red-700'\n            : 'bg-gray-600 text-white hover:bg-gray-700'\"\n        >\n          {{ isScanning ? 'Stop Scan' : 'Start Scan' }}\n        </button>\n\n        <!-- Manual Input -->\n        <button\n          @click=\"showManualInput = true\"\n          :disabled=\"processing\"\n          class=\"p-3 rounded-full bg-white/10 text-white hover:bg-white/20 transition-colors disabled:opacity-50\"\n        >\n          <PencilIcon class=\"w-6 h-6\" />\n        </button>\n      </div>\n\n      <!-- Help Text -->\n      <div class=\"text-center mt-4\">\n        <p class=\"text-white/60 text-xs\">\n          Position the front of the Emirates ID within the frame. Scanning will start automatically when a document is detected.\n        </p>\n      </div>\n    </div>\n\n    <!-- Manual Input Modal -->\n    <div\n      v-if=\"showManualInput\"\n      class=\"absolute inset-0 z-10 flex items-center justify-center p-4 bg-charcoal-900/80 backdrop-blur-sm\"\n    >\n      <div class=\"bg-white rounded-xl p-6 w-full max-w-md\">\n        <h3 class=\"text-lg font-semibold text-charcoal-900 mb-4\">\n          Enter Details Manually\n        </h3>\n\n        <div class=\"space-y-4\">\n          <div>\n            <label class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n              First Name\n            </label>\n            <input\n              v-model=\"manualForm.first_name\"\n              type=\"text\"\n              placeholder=\"Enter first name...\"\n              class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n            />\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n              Last Name\n            </label>\n            <input\n              v-model=\"manualForm.last_name\"\n              type=\"text\"\n              placeholder=\"Enter last name...\"\n              class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n            />\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n              Emirates ID\n            </label>\n            <input\n              v-model=\"manualForm.emirates_id\"\n              type=\"text\"\n              placeholder=\"784-1234-1234567-1\"\n              class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n            />\n          </div>\n\n          <div class=\"flex space-x-3 mt-6\">\n            <button\n              @click=\"processManualInput\"\n              :disabled=\"!manualForm.first_name || !manualForm.last_name || !manualForm.emirates_id\"\n              class=\"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              Use Details\n            </button>\n            <button\n              @click=\"showManualInput = false; clearManualForm()\"\n              class=\"flex-1 px-4 py-2 bg-charcoal-100 text-charcoal-700 rounded-lg hover:bg-charcoal-200 transition-colors\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, onMounted, onUnmounted } from 'vue'\nimport Tesseract from 'tesseract.js'\n\n// Icons\nimport {\n  XMarkIcon,\n  BoltIcon,\n  BoltSlashIcon,\n  ArrowPathIcon,\n  PencilIcon,\n  ExclamationTriangleIcon\n} from '@heroicons/vue/24/outline'\n\nexport default {\n  name: 'EmiratesIdScanner',\n  components: {\n    XMarkIcon,\n    BoltIcon,\n    BoltSlashIcon,\n    ArrowPathIcon,\n    PencilIcon,\n    ExclamationTriangleIcon\n  },\n  emits: ['close', 'data-extracted'],\n  setup(props, { emit }) {\n    // Refs\n    const videoElement = ref(null)\n    const canvasElement = ref(null)\n\n    // State\n    const cameraReady = ref(false)\n    const isScanning = ref(false)\n    const processing = ref(false)\n    const documentDetected = ref(false)\n    const hasMultipleCameras = ref(false)\n    const hasFlash = ref(false)\n    const flashOn = ref(false)\n    const error = ref('')\n    const scanStatus = ref('Position Emirates ID in frame')\n    const showManualInput = ref(false)\n\n    const manualForm = reactive({\n      first_name: '',\n      last_name: '',\n      emirates_id: ''\n    })\n\n    // Camera stream and constraints\n    let currentStream = null\n    let scanInterval = null\n    let availableCameras = []\n\n    // Methods\n    const initializeCamera = async () => {\n      try {\n        error.value = ''\n\n        // Get available cameras\n        const devices = await navigator.mediaDevices.enumerateDevices()\n        availableCameras = devices.filter(device => device.kind === 'videoinput')\n        hasMultipleCameras.value = availableCameras.length > 1\n\n        // Request camera permissions (prefer back camera for document scanning)\n        const constraints = {\n          video: {\n            facingMode: 'environment', // Use back camera\n            width: { ideal: 1920 },\n            height: { ideal: 1080 }\n          },\n          audio: false\n        }\n\n        currentStream = await navigator.mediaDevices.getUserMedia(constraints)\n\n        if (videoElement.value) {\n          videoElement.value.srcObject = currentStream\n\n          // Wait for video to be ready\n          await new Promise((resolve) => {\n            videoElement.value.onloadedmetadata = resolve\n          })\n\n          // Check for flash capability\n          const videoTrack = currentStream.getVideoTracks()[0]\n          const capabilities = videoTrack.getCapabilities()\n          hasFlash.value = !!capabilities.torch\n\n          cameraReady.value = true\n\n          // Auto-start scanning\n          startScanning()\n        }\n\n      } catch (err) {\n        console.error('Camera initialization error:', err)\n\n        if (err.name === 'NotAllowedError') {\n          error.value = 'Camera permission denied. Please allow camera access and try again.'\n        } else if (err.name === 'NotFoundError') {\n          error.value = 'No camera found. Please ensure your device has a camera.'\n        } else if (err.name === 'NotReadableError') {\n          error.value = 'Camera is being used by another application.'\n        } else {\n          error.value = 'Unable to access camera. Please check your device settings.'\n        }\n\n        cameraReady.value = false\n      }\n    }\n\n    const switchCamera = async () => {\n      if (!hasMultipleCameras.value) return\n\n      // Stop current stream\n      if (currentStream) {\n        currentStream.getTracks().forEach(track => track.stop())\n      }\n\n      cameraReady.value = false\n\n      // Reinitialize with different camera\n      await initializeCamera()\n    }\n\n    const toggleFlash = async () => {\n      if (!hasFlash.value || !currentStream) return\n\n      try {\n        const videoTrack = currentStream.getVideoTracks()[0]\n        await videoTrack.applyConstraints({\n          advanced: [{ torch: !flashOn.value }]\n        })\n        flashOn.value = !flashOn.value\n      } catch (err) {\n        console.error('Flash toggle error:', err)\n      }\n    }\n\n    const startScanning = () => {\n      if (!cameraReady.value || isScanning.value || processing.value) return\n\n      isScanning.value = true\n      scanStatus.value = 'Scanning...'\n\n      // Start scanning loop\n      scanInterval = setInterval(() => {\n        detectDocumentAndScan()\n      }, 500) // Check every 500ms for better performance\n    }\n\n    const stopScanning = () => {\n      isScanning.value = false\n      scanStatus.value = 'Scanning paused'\n\n      if (scanInterval) {\n        clearInterval(scanInterval)\n        scanInterval = null\n      }\n    }\n\n    const toggleScanning = () => {\n      if (isScanning.value) {\n        stopScanning()\n      } else {\n        startScanning()\n      }\n    }\n\n    const detectDocumentAndScan = async () => {\n      if (!videoElement.value || !canvasElement.value || !isScanning.value || processing.value) return\n\n      try {\n        const video = videoElement.value\n        const canvas = canvasElement.value\n        const context = canvas.getContext('2d')\n\n        // Set canvas size to match video\n        canvas.width = video.videoWidth\n        canvas.height = video.videoHeight\n\n        // Draw current video frame to canvas\n        context.drawImage(video, 0, 0, canvas.width, canvas.height)\n\n        // Check if there's a document-like rectangular shape in the frame\n        const hasDocument = await hasDocumentInFrame(canvas)\n        documentDetected.value = hasDocument\n\n        // Only process OCR if document is detected and we're not already processing\n        if (hasDocument && !processing.value) {\n          // Wait a bit to ensure document is stable\n          setTimeout(async () => {\n            if (documentDetected.value && !processing.value) {\n              const imageData = canvas.toDataURL('image/jpeg', 0.9)\n              await processOCR(imageData)\n            }\n          }, 1000) // 1 second delay to ensure document is stable\n        }\n\n      } catch (err) {\n        console.error('Emirates ID detection error:', err)\n        documentDetected.value = false\n      }\n    }\n\n    const scanEmiratesId = async () => {\n      if (!videoElement.value || !canvasElement.value || !isScanning.value || processing.value) return\n\n      try {\n        const video = videoElement.value\n        const canvas = canvasElement.value\n        const context = canvas.getContext('2d')\n\n        // Set canvas size to match video\n        canvas.width = video.videoWidth\n        canvas.height = video.videoHeight\n\n        // Draw current video frame to canvas\n        context.drawImage(video, 0, 0, canvas.width, canvas.height)\n\n        // Check if there's a document-like rectangular shape in the frame\n        if (await hasDocumentInFrame(canvas)) {\n          // Convert canvas to image data for OCR\n          const imageData = canvas.toDataURL('image/jpeg', 0.9)\n\n          // Process with OCR\n          await processOCR(imageData)\n        }\n\n      } catch (err) {\n        console.error('Emirates ID scanning error:', err)\n      }\n    }\n\n    const hasDocumentInFrame = async (canvas) => {\n      try {\n        const context = canvas.getContext('2d')\n        const imageData = context.getImageData(0, 0, canvas.width, canvas.height)\n\n        // Simple edge detection to check if there's a rectangular document\n        // This is a basic implementation - you could use more sophisticated algorithms\n        const data = imageData.data\n        let edgeCount = 0\n        const threshold = 30 // Edge detection threshold\n\n        // Sample a few rows and columns to detect edges\n        for (let y = canvas.height * 0.3; y < canvas.height * 0.7; y += 10) {\n          for (let x = canvas.width * 0.2; x < canvas.width * 0.8; x += 10) {\n            const index = (y * canvas.width + x) * 4\n            const currentPixel = data[index] // Red channel\n\n            // Check right neighbor\n            if (x < canvas.width - 1) {\n              const rightIndex = (y * canvas.width + (x + 1)) * 4\n              const rightPixel = data[rightIndex]\n              if (Math.abs(currentPixel - rightPixel) > threshold) {\n                edgeCount++\n              }\n            }\n\n            // Check bottom neighbor\n            if (y < canvas.height - 1) {\n              const bottomIndex = ((y + 1) * canvas.width + x) * 4\n              const bottomPixel = data[bottomIndex]\n              if (Math.abs(currentPixel - bottomPixel) > threshold) {\n                edgeCount++\n              }\n            }\n          }\n        }\n\n        // If we detect enough edges, assume there's a document\n        // This is a heuristic - adjust the threshold based on testing\n        return edgeCount > 50\n\n      } catch (err) {\n        console.error('Document detection error:', err)\n        return false\n      }\n    }\n\n    const preprocessImage = (imageData) => {\n      // Create a canvas for image processing\n      const canvas = document.createElement('canvas')\n      const ctx = canvas.getContext('2d')\n\n      // Create an image from the data\n      const img = new Image()\n      img.src = imageData\n\n      // Set canvas dimensions\n      canvas.width = img.width\n      canvas.height = img.height\n\n      // Draw the image\n      ctx.drawImage(img, 0, 0)\n\n      // Get image data for processing\n      const imageDataObj = ctx.getImageData(0, 0, canvas.width, canvas.height)\n      const data = imageDataObj.data\n\n      // Apply contrast and brightness adjustments\n      for (let i = 0; i < data.length; i += 4) {\n        // Increase contrast and brightness for better OCR\n        const contrast = 1.5\n        const brightness = 20\n\n        data[i] = Math.min(255, Math.max(0, (data[i] - 128) * contrast + 128 + brightness))     // Red\n        data[i + 1] = Math.min(255, Math.max(0, (data[i + 1] - 128) * contrast + 128 + brightness)) // Green\n        data[i + 2] = Math.min(255, Math.max(0, (data[i + 2] - 128) * contrast + 128 + brightness)) // Blue\n      }\n\n      // Put the processed image data back\n      ctx.putImageData(imageDataObj, 0, 0)\n\n      // Return the processed image as data URL\n      return canvas.toDataURL('image/png')\n    }\n\n    const processOCR = async (imageData) => {\n      try {\n        processing.value = true\n        stopScanning()\n\n        // Preprocess the image for better OCR\n        const preprocessedImage = preprocessImage(imageData)\n\n        // Use Tesseract.js for OCR with improved settings\n        const { data: { text } } = await Tesseract.recognize(\n          preprocessedImage,\n          'eng+ara', // Support both English and Arabic\n          {\n            logger: m => console.log(m), // Log progress\n            tessedit_char_whitelist: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789- ',\n            preserve_interword_spaces: '1',\n            tessedit_pageseg_mode: '6' // Uniform block of text\n          }\n        )\n\n        // console.log('Full OCR Text:', text)\n\n        // Extract Emirates ID data from OCR text\n        const extractedData = extractEmiratesIdData(text)\n\n        // console.log('Extracted Data:', extractedData)\n\n        if (extractedData && (extractedData.first_name || extractedData.last_name || extractedData.emirates_id)) {\n          // Show success message with extracted data\n          scanStatus.value = `Extracted: ${extractedData.first_name ? extractedData.first_name + ' ' : ''}${extractedData.last_name ? extractedData.last_name + ' ' : ''}${extractedData.emirates_id ? '(ID: ' + extractedData.emirates_id + ')' : ''}`\n\n          // Emit the extracted data\n          emit('data-extracted', extractedData)\n        } else {\n          scanStatus.value = 'No valid data found, retrying...'\n          // No valid data found, resume scanning\n          setTimeout(() => {\n            if (cameraReady.value) {\n              startScanning()\n            }\n          }, 1000)\n        }\n\n      } catch (err) {\n        console.error('OCR processing error:', err)\n        scanStatus.value = 'OCR processing failed, retrying...'\n\n        // Resume scanning after error\n        setTimeout(() => {\n          if (cameraReady.value) {\n            startScanning()\n          }\n        }, 1000)\n      } finally {\n        processing.value = false\n      }\n    }\n\n    const extractEmiratesIdData = (ocrText) => {\n      // Clean up the OCR text\n      const text = ocrText.replace(/\\s+/g, ' ').trim()\n\n      const extractedData = {\n        first_name: '',\n        last_name: '',\n        emirates_id: ''\n      }\n\n      // Pattern to match Emirates ID number (784-XXXX-XXXXXXX-X)\n      const emiratesIdPattern = /784[-\\s]?\\d{4}[-\\s]?\\d{7}[-\\s]?\\d{1}/g\n      const emiratesIdMatch = text.match(emiratesIdPattern)\n\n      if (emiratesIdMatch) {\n        // Clean up the Emirates ID (remove extra spaces/characters)\n        extractedData.emirates_id = emiratesIdMatch[0].replace(/\\s/g, '').replace(/[^\\d-]/g, '')\n\n        // Ensure proper format\n        if (extractedData.emirates_id.length >= 15) {\n          const digits = extractedData.emirates_id.replace(/-/g, '')\n          if (digits.length === 15) {\n            extractedData.emirates_id = `${digits.slice(0, 3)}-${digits.slice(3, 7)}-${digits.slice(7, 14)}-${digits.slice(14, 15)}`\n          }\n        }\n      }\n\n      // Try to extract names - Emirates ID has specific patterns\n      // Split text into lines and clean them\n      const lines = text.split('\\n').map(line => line.trim()).filter(line => line.length > 0)\n\n      // Log the OCR text for debugging\n    //   console.log('OCR Text Lines:', lines)\n\n      // Emirates ID typically has names in specific positions\n      // Look for English names (usually after Arabic text)\n      let nameFound = false\n\n      for (let i = 0; i < lines.length && !nameFound; i++) {\n        const line = lines[i]\n\n        // Skip lines that are clearly not names\n        if (/^\\d+$/.test(line) ||\n            /emirates|identity|card|authority|uae|||nationality||sex||date||birth|/i.test(line) ||\n            line.length < 2) {\n          continue\n        }\n\n        // Look for lines with English alphabetic characters only (names are usually in English)\n        if (/^[A-Z\\s]+$/i.test(line) && line.length > 2) {\n          const words = line.split(/\\s+/).filter(word => word.length > 1)\n\n          // If we have at least 2 words, treat as first name and last name\n          if (words.length >= 2) {\n            extractedData.first_name = words[0]\n            extractedData.last_name = words.slice(1).join(' ')\n            nameFound = true\n            // console.log('Name extracted:', extractedData.first_name, extractedData.last_name)\n            break\n          }\n          // If single word and looks like a name, treat as first name\n          else if (words.length === 1 && words[0].length > 2) {\n            extractedData.first_name = words[0]\n            nameFound = true\n            // console.log('Single name extracted:', extractedData.first_name)\n          }\n        }\n      }\n\n      // Alternative approach: Look for common name patterns\n      if (!nameFound) {\n        // Look for patterns like \"Name: JOHN DOE\" or \": JOHN DOE\"\n        const namePattern = /(name||)\\s*[:]\\s*([A-Z\\s]+)/i\n        const nameMatch = text.match(namePattern)\n\n        if (nameMatch && nameMatch[2]) {\n          const words = nameMatch[2].trim().split(/\\s+/).filter(word => word.length > 1)\n          if (words.length >= 2) {\n            extractedData.first_name = words[0]\n            extractedData.last_name = words.slice(1).join(' ')\n            nameFound = true\n            // console.log('Name extracted from pattern:', extractedData.first_name, extractedData.last_name)\n          }\n        }\n      }\n\n      // If still no names found, try to find any line with proper case names\n      if (!nameFound) {\n        for (const line of lines) {\n          // Look for title case names (First Letter Capital)\n          if (/^[A-Z][a-z]+(\\s+[A-Z][a-z]+)+$/.test(line)) {\n            const words = line.split(/\\s+/)\n            extractedData.first_name = words[0]\n            extractedData.last_name = words.slice(1).join(' ')\n            nameFound = true\n            // console.log('Title case name extracted:', extractedData.first_name, extractedData.last_name)\n            break\n          }\n        }\n      }\n\n      return extractedData\n    }\n\n    const processManualInput = () => {\n      emit('data-extracted', { ...manualForm })\n      showManualInput.value = false\n      clearManualForm()\n    }\n\n    const clearManualForm = () => {\n      manualForm.first_name = ''\n      manualForm.last_name = ''\n      manualForm.emirates_id = ''\n    }\n\n    const cleanup = () => {\n      // Stop scanning\n      stopScanning()\n\n      // Stop camera stream\n      if (currentStream) {\n        currentStream.getTracks().forEach(track => track.stop())\n        currentStream = null\n      }\n\n      cameraReady.value = false\n    }\n\n    // Lifecycle\n    onMounted(() => {\n      // Check for camera support\n      if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n        error.value = 'Camera not supported on this device'\n        return\n      }\n\n      initializeCamera()\n    })\n\n    onUnmounted(() => {\n      cleanup()\n    })\n\n    return {\n      videoElement,\n      canvasElement,\n      cameraReady,\n      isScanning,\n      processing,\n      documentDetected,\n      hasMultipleCameras,\n      hasFlash,\n      flashOn,\n      error,\n      scanStatus,\n      showManualInput,\n      manualForm,\n      initializeCamera,\n      switchCamera,\n      toggleFlash,\n      toggleScanning,\n      processManualInput,\n      clearManualForm\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Scanning animation */\n@keyframes scan {\n  0% {\n    top: 0;\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.6;\n  }\n  100% {\n    top: 100%;\n    opacity: 1;\n  }\n}\n\n.animate-scan {\n  animation: scan 3s ease-in-out infinite;\n}\n\n/* Mask for ID card scanning overlay */\n.mask-id-scanner {\n  mask:\n    radial-gradient(ellipse 160px 96px at center, transparent 96px, black 100px),\n    linear-gradient(black, black);\n  mask-composite: subtract;\n  -webkit-mask:\n    radial-gradient(ellipse 160px 96px at center, transparent 96px, black 100px),\n    linear-gradient(black, black);\n  -webkit-mask-composite: xor;\n}\n\n/* Smooth transitions */\n.transition-colors {\n  transition-property: color, background-color, border-color;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 200ms;\n}\n\n/* Loading animation */\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.animate-spin {\n  animation: spin 1s linear infinite;\n}\n\n/* Focus styles for better accessibility */\nbutton:focus {\n  outline: 2px solid #10b981;\n  outline-offset: 2px;\n}\n\n/* Disable user selection */\nvideo {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n/* Responsive adjustments */\n@media (max-width: 640px) {\n  .mask-id-scanner {\n    mask:\n      radial-gradient(ellipse 120px 72px at center, transparent 72px, black 76px),\n      linear-gradient(black, black);\n    mask-composite: subtract;\n    -webkit-mask:\n      radial-gradient(ellipse 120px 72px at center, transparent 72px, black 76px),\n      linear-gradient(black, black);\n    -webkit-mask-composite: xor;\n  }\n}\n\n/* High contrast mode */\n@media (prefers-contrast: high) {\n  .bg-white\\/10 {\n    background-color: rgba(255, 255, 255, 0.2);\n  }\n\n  .border-emerald-500 {\n    border-width: 3px;\n  }\n}\n\n/* Reduced motion support */\n@media (prefers-reduced-motion: reduce) {\n  .animate-scan, .animate-spin {\n    animation: none;\n  }\n\n  .transition-colors {\n    transition: none;\n  }\n}\n</style>\n","<template>\n  <div class=\"fixed inset-0 z-50 bg-charcoal-900/80 flex items-center justify-center p-4\">\n    <div class=\"bg-white rounded-xl shadow-2xl p-8 mx-4 text-center max-w-md w-full animate-scale-in\">\n      <!-- Success Icon -->\n      <div class=\"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center\">\n        <CheckCircleIcon class=\"w-10 h-10 text-gray-700\" />\n      </div>\n      \n      <!-- Success Message -->\n      <h3 class=\"text-xl font-semibold text-charcoal-900 mb-3\">\n        Gift Issued Successfully!\n      </h3>\n      \n      <p class=\"text-charcoal-600 mb-8\">\n        The gift has been successfully issued and recorded in the system.\n      </p>\n      \n      <!-- Action Buttons -->\n      <div class=\"space-y-3\">\n        <button\n          @click=\"$emit('issue-another')\"\n          class=\"w-full px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium\"\n        >\n          Issue Another Gift\n        </button>\n        \n        <button\n          @click=\"$emit('close')\"\n          class=\"w-full px-6 py-3 border border-charcoal-300 text-charcoal-700 rounded-lg hover:bg-charcoal-50 transition-colors\"\n        >\n          Back to Dashboard\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { CheckCircleIcon } from '@heroicons/vue/24/outline'\n\nexport default {\n  name: 'GiftIssueSuccessModal',\n  components: {\n    CheckCircleIcon\n  },\n  emits: ['close', 'issue-another']\n}\n</script>\n\n<style scoped>\n@keyframes scale-in {\n  0% {\n    opacity: 0;\n    transform: scale(0.95);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n.animate-scale-in {\n  animation: scale-in 0.3s ease-out;\n}\n\n/* Prevent body scroll when modal is open */\nbody:has(.fixed) {\n  overflow: hidden;\n}\n</style>\n","<template>\n  <div class=\"min-h-screen bg-desert-sand-50 pb-safe\">\n    <!-- Simple Header with Back Button -->\n    <div class=\"absolute top-4 left-4 z-10\">\n      <button\n        @click=\"$router.push('/scan')\"\n        class=\"p-3 rounded-full bg-white/90 backdrop-blur-sm text-charcoal-600 hover:bg-white hover:text-charcoal-900 transition-colors shadow-lg\"\n      >\n        <ArrowLeftIcon class=\"w-6 h-6\" />\n      </button>\n    </div>\n\n    <!-- Loading State -->\n    <div v-if=\"loading\" class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div class=\"bg-white rounded-xl shadow-card p-6 text-center\">\n        <ArrowPathIcon class=\"w-8 h-8 mx-auto mb-4 animate-spin text-gray-700\" />\n        <p class=\"text-charcoal-600\">Loading gift details...</p>\n      </div>\n    </div>\n\n    <!-- Error State -->\n    <div v-else-if=\"error\" class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div class=\"bg-white rounded-xl shadow-card p-6 text-center\">\n        <div v-if=\"error.includes('already been issued')\" class=\"mb-4\">\n          <InformationCircleIcon class=\"w-12 h-12 mx-auto mb-4 text-blue-500\" />\n          <h3 class=\"text-lg font-semibold text-charcoal-900 mb-2\">Gift Already Issued</h3>\n        </div>\n        <div v-else class=\"mb-4\">\n          <ExclamationTriangleIcon class=\"w-12 h-12 mx-auto mb-4 text-red-500\" />\n          <h3 class=\"text-lg font-semibold text-charcoal-900 mb-2\">Unable to Issue Gift</h3>\n        </div>\n        <p class=\"text-charcoal-600 mb-4\">{{ error }}</p>\n        <div class=\"flex flex-col sm:flex-row justify-center gap-3\">\n          <button\n            @click=\"loadGiftDetails\"\n            class=\"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\n          >\n            Refresh\n          </button>\n          <!-- Show Add Interest button only when gift is already issued -->\n          <button\n            v-if=\"error.includes('already been issued')\"\n            @click=\"showAddInterest = true\"\n            class=\"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\n          >\n            Add Interest\n          </button>\n          <button\n            @click=\"$router.push('/scanner')\"\n            class=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\n          >\n            Scan Another Gift\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Main Content -->\n    <div v-else class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-24 space-y-8\">\n\n      <!-- Gift Details (Read-only) -->\n      <div class=\"bg-white rounded-xl shadow-card p-6\">\n        <h2 class=\"text-xl font-semibold text-charcoal-900 mb-6\">Gift Details</h2>\n\n        <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          <!-- Gift Image -->\n          <div class=\"lg:col-span-1\">\n            <div class=\"aspect-square rounded-lg overflow-hidden bg-charcoal-100\">\n              <img\n                v-if=\"gift.images && gift.images.length > 0\"\n                :src=\"gift.images[0].image\"\n                :alt=\"gift.gift_name\"\n                class=\"w-full h-full object-contain\"\n              />\n              <div v-else class=\"w-full h-full flex items-center justify-center\">\n                <GiftIcon class=\"w-16 h-16 text-charcoal-400\" />\n              </div>\n            </div>\n          </div>\n\n            <!-- Gift Information Table -->\n            <div class=\"lg:col-span-2\">\n              <div class=\"flex items-center justify-between mb-4\">\n                <h3 class=\"text-2xl font-bold text-charcoal-900\">{{ gift.gift_name }}</h3>\n                <button\n                  v-if=\"gift.additional_attributes && gift.additional_attributes.length > 0\"\n                  @click=\"showAdditionalDetails = true\"\n                  class=\"text-sm text-gray-700 hover:text-gray-800 font-medium flex items-center\"\n                >\n                  <InformationCircleIcon class=\"w-4 h-4 mr-1\" />\n                  View Details\n                </button>\n              </div>\n\n              <p v-if=\"gift.description\" class=\"text-charcoal-600 mb-4\">{{ gift.description }}</p>\n\n              <div class=\"bg-charcoal-50 rounded-lg p-4\">\n                <table class=\"w-full\">\n                  <tbody class=\"space-y-2\">\n                    <tr class=\"border-b border-charcoal-200 last:border-b-0\">\n                      <td class=\"py-2 text-sm font-medium text-charcoal-500 w-1/3\">Category</td>\n                      <td class=\"py-2 text-charcoal-900 capitalize\">{{ gift.category }}</td>\n                    </tr>\n                    <tr class=\"border-b border-charcoal-200 last:border-b-0\">\n                      <td class=\"py-2 text-sm font-medium text-charcoal-500 w-1/3\">Gift Code</td>\n                      <td class=\"py-2 text-charcoal-900 font-mono\">{{ gift.barcode_value }}</td>\n                    </tr>\n                    <tr>\n                      <td class=\"py-2 text-sm font-medium text-charcoal-500 w-1/3\">Status</td>\n                      <td class=\"py-2\">\n                        <span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n                          {{ gift.status }}\n                        </span>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n        </div>\n      </div>\n\n      <!-- Action Selection (when gift is available) -->\n      <div v-if=\"!selectedAction\" class=\"bg-white rounded-xl shadow-card p-4\">\n        <h3 class=\"text-lg font-medium text-charcoal-900 mb-4 text-center\">Choose Action</h3>\n        <div class=\"flex flex-col sm:flex-row gap-3 justify-center\">\n          <button\n            @click=\"selectAction('dispatch')\"\n            class=\"flex items-center justify-center px-4 py-3 border-2 border-charcoal-200 rounded-lg hover:border-gray-500 hover:bg-gray-50 transition-all duration-200 min-h-[44px] touch-manipulation\"\n          >\n            <GiftIcon class=\"w-5 h-5 mr-2 text-gray-600\" />\n            <span class=\"text-sm font-medium text-charcoal-900\">Gift Dispatch</span>\n          </button>\n          \n          <button\n            @click=\"selectAction('interest')\"\n            class=\"flex items-center justify-center px-4 py-3 border-2 border-charcoal-200 rounded-lg hover:border-gray-500 hover:bg-gray-50 transition-all duration-200 min-h-[44px] touch-manipulation\"\n          >\n            <DocumentTextIcon class=\"w-5 h-5 mr-2 text-gray-600\" />\n            <span class=\"text-sm font-medium text-charcoal-900\">Add Interest</span>\n          </button>\n        </div>\n      </div>\n\n      <!-- Back to Action Selection (when action is selected) -->\n      <div v-if=\"selectedAction && selectedAction === 'dispatch'\" class=\"bg-white rounded-xl shadow-card p-4\">\n        <button\n          @click=\"selectedAction = ''\"\n          class=\"flex items-center text-charcoal-600 hover:text-charcoal-800 transition-colors min-h-[44px] touch-manipulation\"\n        >\n          <ArrowLeftIcon class=\"w-4 h-4 mr-2\" />\n          Back to Action Selection\n        </button>\n      </div>\n\n      <!-- Person Details Form -->\n      <form v-if=\"selectedAction === 'dispatch'\" @submit.prevent=\"submitGiftIssue\" class=\"space-y-8\">\n\n        <!-- Basic Information -->\n        <div class=\"bg-white rounded-xl shadow-card p-6\">\n          <div class=\"flex items-center justify-between mb-6\">\n            <h2 class=\"text-xl font-semibold text-charcoal-900\">Person Details</h2>\n            <button\n              type=\"button\"\n              @click=\"showEmiratesIdScanner = true\"\n              class=\"flex items-center px-3 py-2 text-sm bg-charcoal-100 text-charcoal-700 rounded-lg hover:bg-charcoal-200 transition-colors\"\n            >\n              <DocumentTextIcon class=\"w-4 h-4 mr-2\" />\n              Scan Emirates ID Document\n            </button>\n          </div>\n\n          <!-- Recipient Selection Section -->\n          <div class=\"mb-8\">\n            <h3 class=\"text-lg font-medium text-charcoal-800 mb-4 border-b border-charcoal-200 pb-2\">Recipient Information</h3>\n            \n            <!-- Recipient Selection Mode -->\n            <div class=\"mb-6\">\n              <label class=\"block text-sm font-medium text-charcoal-700 mb-3\">\n                Choose how to add recipient information:\n              </label>\n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <button\n                  type=\"button\"\n                  @click=\"recipientMode = 'existing'\"\n                  :class=\"[\n                    'flex items-center justify-center p-4 border-2 rounded-xl transition-all duration-200 min-h-[64px] touch-manipulation relative overflow-hidden',\n                    recipientMode === 'existing' \n                      ? 'border-blue-500 bg-blue-50 text-blue-900 shadow-md' \n                      : 'border-charcoal-200 hover:border-blue-300 hover:bg-blue-25 text-charcoal-700'\n                  ]\"\n                >\n                  <div class=\"flex items-center\">\n                    <div class=\"mr-3 flex-shrink-0\">\n                      <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"></path>\n                      </svg>\n                    </div>\n                    <div class=\"text-left\">\n                      <div class=\"font-semibold\">Select Existing</div>\n                      <div class=\"text-xs mt-1 opacity-75\">Choose from saved recipients</div>\n                    </div>\n                  </div>\n                  <!-- Selected indicator -->\n                  <div v-if=\"recipientMode === 'existing'\" class=\"absolute top-2 right-2\">\n                    <svg class=\"w-5 h-5 text-blue-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\"></path>\n                    </svg>\n                  </div>\n                </button>\n                \n                <button\n                  type=\"button\"\n                  @click=\"recipientMode = 'new'\"\n                  :class=\"[\n                    'flex items-center justify-center p-4 border-2 rounded-xl transition-all duration-200 min-h-[64px] touch-manipulation relative overflow-hidden',\n                    recipientMode === 'new' \n                      ? 'border-green-500 bg-green-50 text-green-900 shadow-md' \n                      : 'border-charcoal-200 hover:border-green-300 hover:bg-green-25 text-charcoal-700'\n                  ]\"\n                >\n                  <div class=\"flex items-center\">\n                    <div class=\"mr-3 flex-shrink-0\">\n                      <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"></path>\n                      </svg>\n                    </div>\n                    <div class=\"text-left\">\n                      <div class=\"font-semibold\">Create New</div>\n                      <div class=\"text-xs mt-1 opacity-75\">Add new recipient details</div>\n                    </div>\n                  </div>\n                  <!-- Selected indicator -->\n                  <div v-if=\"recipientMode === 'new'\" class=\"absolute top-2 right-2\">\n                    <svg class=\"w-5 h-5 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\"></path>\n                    </svg>\n                  </div>\n                </button>\n              </div>\n            </div>\n\n            <!-- Existing Recipient Selection -->\n            <div v-if=\"recipientMode === 'existing'\" class=\"mb-6\">\n              <label class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                Search and Select Recipient <span class=\"text-red-500\">*</span>\n              </label>\n              <div class=\"relative recipient-search-container\">\n                <input\n                  v-model=\"recipientSearch\"\n                  @input=\"searchRecipients\"\n                  @focus=\"showRecipientDropdown = true\"\n                  type=\"text\"\n                  placeholder=\"Search by name, mobile number, or Emirates ID...\"\n                  class=\"w-full px-4 py-3 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n                  :class=\"{ 'border-red-500': errors.selectedRecipient && recipientMode === 'existing' }\"\n                />\n                \n                <!-- Clear Selected Recipient -->\n                <button\n                  v-if=\"selectedRecipient\"\n                  type=\"button\"\n                  @click=\"clearSelectedRecipient\"\n                  class=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-charcoal-400 hover:text-charcoal-600\"\n                >\n                  <XMarkIcon class=\"w-5 h-5\" />\n                </button>\n                \n                <!-- Recipient Dropdown -->\n                <div v-if=\"showRecipientDropdown && searchResults.length > 0 && !selectedRecipient\" \n                     class=\"absolute z-20 w-full mt-1 bg-white border border-charcoal-300 rounded-lg shadow-lg max-h-60 overflow-y-auto\">\n                  <div\n                    v-for=\"recipient in searchResults\"\n                    :key=\"recipient.name\"\n                    @click=\"selectRecipient(recipient)\"\n                    class=\"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0\"\n                  >\n                    <div class=\"font-medium text-charcoal-900\">{{ recipient.owner_full_name }}</div>\n                    <div class=\"text-sm text-charcoal-600\">Coordinator: {{ recipient.coordinator_full_name }}</div>\n                    <div class=\"text-sm text-charcoal-500\">{{ recipient.coordinator_mobile_no }}</div>\n                  </div>\n                </div>\n              </div>\n              \n              <!-- Selected Recipient Info -->\n              <div v-if=\"selectedRecipient\" class=\"mt-3 p-4 bg-green-50 border border-green-200 rounded-lg\">\n                <div class=\"flex items-center justify-between\">\n                  <div>\n                    <div class=\"font-medium text-green-900\">{{ selectedRecipient.owner_full_name }}</div>\n                    <div class=\"text-sm text-green-700\">Coordinator: {{ selectedRecipient.coordinator_full_name }}</div>\n                    <div class=\"text-sm text-green-600\">{{ selectedRecipient.coordinator_mobile_no }}</div>\n                  </div>\n                  <button\n                    type=\"button\"\n                    @click=\"clearSelectedRecipient\"\n                    class=\"text-green-600 hover:text-green-800\"\n                  >\n                    <XMarkIcon class=\"w-5 h-5\" />\n                  </button>\n                </div>\n              </div>\n              \n              <p v-if=\"errors.selectedRecipient && recipientMode === 'existing'\" class=\"mt-2 text-sm text-red-600\">\n                {{ errors.selectedRecipient }}\n              </p>\n            </div>\n\n            <!-- Create New Recipient Button -->\n            <div v-if=\"recipientMode === 'new'\" class=\"mb-6\">\n              <button\n                type=\"button\"\n                @click=\"showCreateRecipientModal = true\"\n                class=\"w-full flex items-center justify-center px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-gray-400 hover:text-gray-700 transition-all duration-200\"\n              >\n                <svg class=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"></path>\n                </svg>\n                Click to Create New Recipient\n              </button>\n              \n              <!-- New Recipient Created Info -->\n              <div v-if=\"newlyCreatedRecipient\" class=\"mt-3 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n                <div class=\"flex items-center justify-between\">\n                  <div>\n                    <div class=\"font-medium text-blue-900\">{{ newlyCreatedRecipient.owner_full_name }}</div>\n                    <div class=\"text-sm text-blue-700\">Coordinator: {{ newlyCreatedRecipient.coordinator_full_name }}</div>\n                    <div class=\"text-sm text-blue-600\">{{ newlyCreatedRecipient.coordinator_mobile_no }}</div>\n                  </div>\n                  <button\n                    type=\"button\"\n                    @click=\"editNewRecipient\"\n                    class=\"text-blue-600 hover:text-blue-800 text-sm font-medium\"\n                  >\n                    Edit\n                  </button>\n                </div>\n              </div>\n              \n              <p v-if=\"errors.newRecipient && recipientMode === 'new'\" class=\"mt-2 text-sm text-red-600\">\n                {{ errors.newRecipient }}\n              </p>\n            </div>\n          </div>\n\n          <!-- Form Fields (always visible, readonly when recipient selected) -->\n          <div class=\"space-y-6\">\n\n          <!-- Owner Details Section -->\n          <div class=\"mb-8\">\n            <h3 class=\"text-lg font-medium text-charcoal-800 mb-4 border-b border-charcoal-200 pb-2\">Owner Details</h3>\n            <div class=\"grid grid-cols-1 gap-6\">\n              <div>\n                <label for=\"owner_full_name\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                  Owner Full Name *\n                </label>\n                <input\n                  id=\"owner_full_name\"\n                  v-model=\"form.owner_full_name\"\n                  type=\"text\"\n                  required\n                  :readonly=\"!!selectedRecipient || !!newlyCreatedRecipient\"\n                  class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n                  :class=\"{ 'bg-gray-50': !!selectedRecipient || !!newlyCreatedRecipient }\"\n                  placeholder=\"Enter owner full name\"\n                />\n                <p v-if=\"errors.owner_full_name\" class=\"mt-1 text-sm text-red-600\">{{ errors.owner_full_name }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Coordinator Details Section -->\n          <div class=\"mb-8\">\n            <h3 class=\"text-lg font-medium text-charcoal-800 mb-4 border-b border-charcoal-200 pb-2\">Coordinator Details</h3>\n            <div class=\"grid grid-cols-1 gap-6\">\n              <div>\n                <label for=\"coordinator_full_name\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                  Coordinator Full Name *\n                </label>\n                <input\n                  id=\"coordinator_full_name\"\n                  v-model=\"form.coordinator_full_name\"\n                  type=\"text\"\n                  required\n                  :readonly=\"!!selectedRecipient || !!newlyCreatedRecipient\"\n                  class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n                  :class=\"{ 'bg-gray-50': !!selectedRecipient || !!newlyCreatedRecipient }\"\n                  placeholder=\"Enter coordinator full name\"\n                />\n                <p v-if=\"errors.coordinator_full_name\" class=\"mt-1 text-sm text-red-600\">{{ errors.coordinator_full_name }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Personal Information Section -->\n          <div class=\"mb-8\">\n            <h3 class=\"text-lg font-medium text-charcoal-800 mb-4 border-b border-charcoal-200 pb-2\">Contact Information</h3>\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label for=\"mobile_number\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                  Mobile Number *\n                </label>\n                <input\n                  id=\"mobile_number\"\n                  v-model=\"form.mobile_number\"\n                  type=\"tel\"\n                  required\n                  :readonly=\"!!selectedRecipient || !!newlyCreatedRecipient\"\n                  class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n                  :class=\"{ 'bg-gray-50': !!selectedRecipient || !!newlyCreatedRecipient }\"\n                  placeholder=\"+971 50 123 4567\"\n                />\n                <p v-if=\"errors.mobile_number\" class=\"mt-1 text-sm text-red-600\">{{ errors.mobile_number }}</p>\n              </div>\n\n              <div>\n                <label for=\"emirates_id\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                  Emirates ID (Optional)\n                </label>\n                <input\n                  id=\"emirates_id\"\n                  v-model=\"form.emirates_id\"\n                  type=\"text\"\n                  pattern=\"[0-9]{3}-[0-9]{4}-[0-9]{7}-[0-9]{1}\"\n                  :readonly=\"!!selectedRecipient || !!newlyCreatedRecipient\"\n                  class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n                  :class=\"{ 'bg-gray-50': !!selectedRecipient || !!newlyCreatedRecipient }\"\n                  placeholder=\"784-1234-1234567-1\"\n                />\n                <p v-if=\"errors.emirates_id\" class=\"mt-1 text-sm text-red-600\">{{ errors.emirates_id }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Address Field -->\n          <div class=\"mb-6\">\n            <h3 class=\"text-lg font-medium text-charcoal-800 mb-4 border-b border-charcoal-200 pb-2\">Additional Information</h3>\n            <div>\n              <label for=\"address\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                Address (Optional)\n              </label>\n              <textarea\n                id=\"address\"\n                v-model=\"form.address\"\n                rows=\"3\"\n                :readonly=\"!!selectedRecipient || !!newlyCreatedRecipient\"\n                class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent resize-vertical\"\n                :class=\"{ 'bg-gray-50': !!selectedRecipient || !!newlyCreatedRecipient }\"\n                placeholder=\"Enter full address\"\n              ></textarea>\n              <p v-if=\"errors.address\" class=\"mt-1 text-sm text-red-600\">{{ errors.address }}</p>\n            </div>\n          </div>\n        </div>\n        </div>\n\n        <!-- Photo Capture -->\n        <div class=\"bg-white rounded-xl shadow-card p-6\">\n          <h2 class=\"text-xl font-semibold text-charcoal-900 mb-6\">Person Photo</h2>\n\n          <!-- Photo Display -->\n          <div class=\"mb-6\">\n            <div v-if=\"capturedPhoto || form.person_photo\" class=\"relative inline-block\">\n              <img\n                :src=\"capturedPhoto || form.person_photo\"\n                alt=\"Person photo\"\n                class=\"w-32 h-32 rounded-lg object-cover border-2 border-charcoal-200\"\n              />\n              <button\n                type=\"button\"\n                @click=\"clearPhoto\"\n                class=\"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors\"\n              >\n                <XMarkIcon class=\"w-4 h-4\" />\n              </button>\n            </div>\n            <div v-else class=\"w-32 h-32 border-2 border-dashed border-charcoal-300 rounded-lg flex items-center justify-center bg-charcoal-50\">\n              <CameraIcon class=\"w-8 h-8 text-charcoal-400\" />\n            </div>\n          </div>\n\n          <!-- Photo Actions -->\n          <div class=\"flex flex-wrap gap-3\">\n            <button\n              type=\"button\"\n              @click=\"openCamera\"\n              class=\"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\n            >\n              <CameraIcon class=\"w-4 h-4 mr-2\" />\n              Take Photo\n            </button>\n            <button\n              type=\"button\"\n              @click=\"openGallery\"\n              class=\"flex items-center px-4 py-2 bg-charcoal-600 text-white rounded-lg hover:bg-charcoal-700 transition-colors\"\n            >\n              <PhotoIcon class=\"w-4 h-4 mr-2\" />\n              Choose from Gallery\n            </button>\n          </div>\n\n          <!-- Hidden file input for gallery -->\n          <input\n            ref=\"galleryInput\"\n            type=\"file\"\n            accept=\"image/*\"\n            class=\"hidden\"\n            @change=\"handleGalleryPhoto\"\n          />\n        </div>\n\n        <!-- Documents Section -->\n        <div class=\"bg-white rounded-xl shadow-card p-6\">\n          <div class=\"flex items-center justify-between mb-6\">\n            <h2 class=\"text-xl font-semibold text-charcoal-900\">Other Documents</h2>\n            <button\n              type=\"button\"\n              @click=\"addDocument\"\n              class=\"flex items-center px-3 py-2 text-sm bg-charcoal-100 text-charcoal-700 rounded-lg hover:bg-charcoal-200 transition-colors\"\n            >\n              <DocumentPlusIcon class=\"w-4 h-4 mr-2\" />\n              Add Document\n            </button>\n          </div>\n\n          <!-- Documents List -->\n          <div v-if=\"form.documents && form.documents.length > 0\" class=\"space-y-4\">\n            <div\n              v-for=\"(document, index) in form.documents\"\n              :key=\"index\"\n              class=\"border border-charcoal-200 rounded-lg p-4\"\n            >\n              <!-- Single Row Layout for Document Type, Attachment, and Description -->\n              <div class=\"grid grid-cols-1 lg:grid-cols-12 gap-4 items-end mb-3\">\n                <div class=\"lg:col-span-3\">\n                  <label class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                    Document Type *\n                  </label>\n                  <select\n                    v-model=\"document.document_type\"\n                    class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n                    required\n                  >\n                    <option value=\"\">Select type</option>\n                    <option value=\"Emirates ID Front\">Emirates ID Front</option>\n                    <option value=\"Emirates ID Back\">Emirates ID Back</option>\n                    <option value=\"Passport\">Passport</option>\n                    <option value=\"Visa\">Visa</option>\n                    <option value=\"Employment Letter\">Employment Letter</option>\n                    <option value=\"Others\">Others</option>\n                  </select>\n                </div>\n\n                <div class=\"lg:col-span-3\">\n                  <label class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                    Document File *\n                  </label>\n                  <div class=\"flex items-center space-x-2\">\n                    <input\n                      type=\"file\"\n                      :id=\"`document_file_${index}`\"\n                      :ref=\"`documentInput_${index}`\"\n                      accept=\"image/*,.pdf,.doc,.docx\"\n                      class=\"hidden\"\n                      @change=\"handleDocumentUpload($event, index)\"\n                    />\n                    <button\n                      type=\"button\"\n                      @click=\"$refs[`documentInput_${index}`][0].click()\"\n                      class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-700 bg-white hover:bg-charcoal-50 transition-colors\"\n                    >\n                      {{ document.document_attachment ? 'Change File' : 'Choose File' }}\n                    </button>\n                  </div>\n                  <p v-if=\"document.document_attachment\" class=\"mt-1 text-xs text-green-600\">\n                    File uploaded successfully\n                  </p>\n                </div>\n\n                <div class=\"lg:col-span-4\">\n                  <label class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                    Description\n                  </label>\n                  <input\n                    v-model=\"document.description\"\n                    type=\"text\"\n                    class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n                    placeholder=\"Optional description\"\n                  />\n                </div>\n\n                <div class=\"lg:col-span-2 flex justify-end\">\n                  <button\n                    type=\"button\"\n                    @click=\"removeDocument(index)\"\n                    class=\"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors\"\n                    title=\"Remove Document\"\n                  >\n                    <TrashIcon class=\"w-5 h-5\" />\n                  </button>\n                </div>\n              </div>\n\n              <!-- Document Preview -->\n              <div v-if=\"document.document_attachment\" class=\"mt-4 p-3 bg-gray-50 rounded-lg\">\n                <div class=\"flex items-center space-x-3\">\n                  <div class=\"flex-shrink-0\">\n                    <DocumentTextIcon class=\"w-8 h-8 text-blue-500\" />\n                  </div>\n                  <div class=\"flex-1 min-w-0\">\n                    <p class=\"text-sm font-medium text-charcoal-900 truncate\">\n                      {{ document.fileName || 'Document' }}\n                    </p>\n                    <p class=\"text-xs text-charcoal-500\">\n                      {{ document.document_type || 'Document type not specified' }}\n                    </p>\n                  </div>\n                  <div class=\"flex-shrink-0\">\n                    <button\n                      type=\"button\"\n                      @click=\"viewDocument(document)\"\n                      class=\"px-3 py-1 text-xs bg-charcoal-100 text-charcoal-700 rounded-md hover:bg-charcoal-200 transition-colors\"\n                    >\n                      View\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Empty State -->\n          <div v-else class=\"text-center py-8 border-2 border-dashed border-charcoal-300 rounded-lg\">\n            <DocumentTextIcon class=\"w-12 h-12 mx-auto text-charcoal-400 mb-4\" />\n            <p class=\"text-charcoal-600 mb-4\">No documents added yet</p>\n            <button\n              type=\"button\"\n              @click=\"addDocument\"\n              class=\"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\n            >\n              Add First Document\n            </button>\n          </div>\n        </div>\n\n        <!-- Submit -->\n        <div class=\"flex justify-center pt-6 pb-20 sm:pb-6\">\n          <button\n            type=\"submit\"\n            :disabled=\"submitting\"\n            class=\"w-full sm:w-auto px-8 py-3 border border-transparent text-sm font-medium rounded-lg text-white bg-gray-600 hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            <span v-if=\"submitting\" class=\"flex items-center justify-center\">\n              <ArrowPathIcon class=\"w-4 h-4 mr-2 animate-spin\" />\n              Issuing Gift...\n            </span>\n            <span v-else>Dispatch Gift</span>\n          </button>\n        </div>\n      </form>\n    </div>\n\n    <!-- Create Recipient Modal -->\n    <CreateRecipientModal\n      :show=\"showCreateRecipientModal\"\n      :edit-data=\"newlyCreatedRecipient\"\n      @close=\"showCreateRecipientModal = false\"\n      @created=\"handleRecipientCreated\"\n    />\n\n    <!-- Success Modal -->\n    <GiftIssueSuccessModal\n      v-if=\"showSuccessModal\"\n      @close=\"handleSuccessModalClose\"\n      @issue-another=\"handleIssueAnother\"\n    />\n\n    <!-- Camera Modal -->\n    <CameraModal\n      v-if=\"showCamera\"\n      @close=\"showCamera = false\"\n      @photo-captured=\"handleCapturedPhoto\"\n    />\n\n    <!-- Emirates ID Scanner Modal -->\n    <EmiratesIdScanner\n      v-if=\"showEmiratesIdScanner\"\n      @close=\"showEmiratesIdScanner = false\"\n      @data-extracted=\"handleEmiratesIdData\"\n    />\n\n    <!-- Add Interest Modal -->\n    <InterestForm\n      :show=\"showAddInterest\"\n      :gift-id=\"gift.name || route.params.id\"\n      @close=\"handleInterestClose\"\n      @success=\"handleInterestSuccess\"\n    />\n\n    <!-- Additional Details Modal -->\n    <div\n      v-if=\"showAdditionalDetails\"\n      class=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-charcoal-900/80 backdrop-blur-sm\"\n    >\n      <div class=\"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto\">\n        <div class=\"flex items-center justify-between mb-4\">\n          <h3 class=\"text-lg font-semibold text-charcoal-900\">\n            Additional Gift Details\n          </h3>\n          <button\n            @click=\"showAdditionalDetails = false\"\n            class=\"p-2 text-charcoal-500 hover:text-charcoal-700 rounded-lg hover:bg-charcoal-100 transition-colors\"\n          >\n            <XMarkIcon class=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        <div class=\"space-y-4\">\n          <!-- Gift Images -->\n          <div v-if=\"gift.images && gift.images.length > 1\">\n            <h4 class=\"font-medium text-charcoal-900 mb-3\">Gift Images</h4>\n            <div class=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n              <div\n                v-for=\"(image, index) in gift.images\"\n                :key=\"index\"\n                class=\"aspect-square rounded-lg overflow-hidden bg-charcoal-100\"\n              >\n                <img\n                  :src=\"image.image\"\n                  :alt=\"`Gift image ${index + 1}`\"\n                  class=\"w-full h-full object-cover\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <!-- Additional Attributes -->\n          <div v-if=\"gift.additional_attributes && gift.additional_attributes.length > 0\">\n            <h4 class=\"font-medium text-charcoal-900 mb-3\">Additional Attributes</h4>\n            <div class=\"bg-charcoal-50 rounded-lg p-4\">\n              <table class=\"w-full\">\n                <tbody>\n                  <tr\n                    v-for=\"attr in gift.additional_attributes\"\n                    :key=\"attr.attribute_name\"\n                    class=\"border-b border-charcoal-200 last:border-b-0\"\n                  >\n                    <td class=\"py-3 text-sm font-medium text-charcoal-600 w-1/3\">{{ attr.attribute_name }}</td>\n                    <td class=\"py-3 text-charcoal-900\">{{ attr.attribute_value }}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n\n          <!-- Gift Metadata -->\n          <div>\n            <h4 class=\"font-medium text-charcoal-900 mb-3\">Gift Information</h4>\n            <div class=\"bg-charcoal-50 rounded-lg p-4\">\n              <table class=\"w-full\">\n                <tbody>\n                  <tr class=\"border-b border-charcoal-200\">\n                    <td class=\"py-3 text-sm font-medium text-charcoal-600 w-1/3\">Created</td>\n                    <td class=\"py-3 text-charcoal-900\">{{ formatDate(gift.creation) }}</td>\n                  </tr>\n                  <tr class=\"border-b border-charcoal-200\">\n                    <td class=\"py-3 text-sm font-medium text-charcoal-600 w-1/3\">Last Modified</td>\n                    <td class=\"py-3 text-charcoal-900\">{{ formatDate(gift.modified) }}</td>\n                  </tr>\n                  <tr>\n                    <td class=\"py-3 text-sm font-medium text-charcoal-600 w-1/3\">Created By</td>\n                    <td class=\"py-3 text-charcoal-900\">{{ gift.owner }}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"flex justify-end mt-6\">\n          <button\n            @click=\"showAdditionalDetails = false\"\n            class=\"px-4 py-2 bg-charcoal-100 text-charcoal-700 rounded-lg hover:bg-charcoal-200 transition-colors\"\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, onMounted } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { useNotifications } from '@composables/useNotifications'\nimport { GiftAPI, GiftIssueAPI, FileAPI } from '@services/api'\n\n// Icons\nimport {\n  ArrowLeftIcon,\n  ArrowPathIcon,\n  GiftIcon,\n  CameraIcon,\n  PhotoIcon,\n  XMarkIcon,\n  DocumentTextIcon,\n  ExclamationTriangleIcon,\n  InformationCircleIcon,\n  DocumentPlusIcon,\n  TrashIcon\n} from '@heroicons/vue/24/outline'\n\n// Components\nimport CameraModal from '@components/CameraModal.vue'\nimport EmiratesIdScanner from '@components/EmiratesIdScanner.vue'\nimport GiftIssueSuccessModal from '@components/GiftIssueSuccessModal.vue'\nimport InterestForm from '@components/InterestForm.vue'\nimport CreateRecipientModal from '@components/CreateRecipientModal.vue'\n\nexport default {\n  name: 'GiftIssueFlow',\n  components: {\n    ArrowLeftIcon,\n    ArrowPathIcon,\n    GiftIcon,\n    CameraIcon,\n    PhotoIcon,\n    XMarkIcon,\n    DocumentTextIcon,\n    ExclamationTriangleIcon,\n    InformationCircleIcon,\n    DocumentPlusIcon,\n    TrashIcon,\n    CameraModal,\n    EmiratesIdScanner,\n    GiftIssueSuccessModal,\n    InterestForm,\n    CreateRecipientModal\n  },\n  setup() {\n    const router = useRouter()\n    const route = useRoute()\n    const { showNotification } = useNotifications()\n\n    // State\n    const loading = ref(true)\n    const submitting = ref(false)\n    const error = ref('')\n    const gift = ref({})\n    const showCamera = ref(false)\n    const showEmiratesIdScanner = ref(false)\n    const showAdditionalDetails = ref(false)\n    const showSuccessModal = ref(false)\n    const showAddInterest = ref(false)\n    const selectedAction = ref('')\n    const capturedPhoto = ref('')\n    const galleryInput = ref(null)\n    const errors = ref({})\n    \n    // Recipient search and management\n    const recipientSearch = ref('')\n    const searchResults = ref([])\n    const showRecipientDropdown = ref(false)\n    const selectedRecipient = ref(null)\n    const recipientMode = ref('existing') // 'existing' or 'new'\n    const showCreateRecipientModal = ref(false)\n    const newlyCreatedRecipient = ref(null)\n\n    const form = reactive({\n      // Required fields - Updated to use full names\n      owner_full_name: '',\n      coordinator_full_name: '',\n      mobile_number: '',\n\n      // Optional fields\n      emirates_id: '',\n      address: '',\n\n      // Other fields\n      person_photo: '',\n      date: new Date().toISOString().split('T')[0],\n      documents: [],\n    })\n\n    // Methods\n    const selectAction = (action) => {\n      selectedAction.value = action\n      if (action === 'interest') {\n        showAddInterest.value = true\n      }\n    }\n\n    const loadGiftDetails = async () => {\n      try {\n        loading.value = true\n        error.value = ''\n\n        const giftId = route.params.id\n        if (!giftId) {\n          throw new Error('Gift Code is required')\n        }\n\n        const result = await GiftAPI.getDetails(giftId)\n\n        if (!result.success) {\n          throw new Error(result.error || 'Failed to load gift details')\n        }\n\n        // The API returns { gift: {...}, issue_history: {...} }\n        // We need to extract the gift data\n        const giftData = result.data.gift || result.data\n\n        // Debug logging\n        // console.log('Gift API Response:', result.data)\n        // console.log('Extracted Gift Data:', giftData)\n\n        gift.value = giftData\n\n        // Check if gift is still available\n        if (gift.value.status !== 'Available') {\n          let message = `This gift is currently \"${gift.value.status}\"`\n\n          if (gift.value.status === 'Issued') {\n            const issueDate = gift.value.issued_date || 'unknown date'\n            const personName = `${gift.value.owner_full_name || ''}`.trim()\n            message += personName\n              ? ` and was issued to ${personName} on ${issueDate}`\n              : ` on ${issueDate}`\n            message += '.'\n\n            // For issued gifts, show as info instead of error\n            showNotification(message, 'info')\n\n            // Still set error to prevent form submission, but with a more friendly message\n            error.value = `This gift has already been issued. ${message}`\n          } else {\n            // For other statuses (like Reserved, Damaged, etc.), show as error\n            message += '. Only \"Available\" gifts can be issued.'\n            throw new Error(message)\n          }\n        }\n\n      } catch (err) {\n        console.error('Failed to load gift details:', err)\n        error.value = err.message\n      } finally {\n        loading.value = false\n      }\n    }\n\n    const openCamera = () => {\n      showCamera.value = true\n    }\n\n    const openGallery = () => {\n      galleryInput.value?.click()\n    }\n\n    const handleGalleryPhoto = async (event) => {\n      const file = event.target.files[0]\n      if (file) {\n        await uploadPhoto(file)\n      }\n    }\n\n    const handleCapturedPhoto = async (photoBlob) => {\n      showCamera.value = false\n      await uploadPhoto(photoBlob)\n    }\n\n    const uploadPhoto = async (file) => {\n      try {\n        // console.log('Starting photo upload...', file)\n\n        // Show preview immediately\n        const reader = new FileReader()\n        reader.onload = (e) => {\n          capturedPhoto.value = e.target.result\n        //   console.log('Photo preview set successfully')\n        }\n        reader.readAsDataURL(file)\n\n        // Upload to server\n        // console.log('Uploading to server...')\n        const uploadResult = await FileAPI.upload(file, true) // Upload as private\n        // console.log('Upload result:', uploadResult)\n\n        if (uploadResult && uploadResult.success) {\n          form.person_photo = uploadResult.data.file_url\n        //   console.log('Photo URL saved:', uploadResult.data.file_url)\n          showNotification('Photo uploaded successfully', 'success')\n        } else {\n          throw new Error(uploadResult?.error || 'Failed to upload photo')\n        }\n\n      } catch (err) {\n        console.error('Photo upload error:', err)\n        showNotification(`Failed to upload photo: ${err.message}`, 'error')\n        // Keep the preview even if upload fails\n        // capturedPhoto.value = ''\n      }\n    }\n\n    const clearPhoto = () => {\n      capturedPhoto.value = ''\n      form.person_photo = ''\n      if (galleryInput.value) {\n        galleryInput.value.value = ''\n      }\n    }\n\n    const handleEmiratesIdData = (data) => {\n      showEmiratesIdScanner.value = false\n\n      // Only update if not using selected recipient\n      if (!selectedRecipient.value) {\n        if (data.first_name && data.last_name) {\n          form.owner_full_name = `${data.first_name} ${data.last_name}`.trim()\n        }\n        if (data.emirates_id) {\n          form.emirates_id = data.emirates_id\n        }\n      }\n\n      showNotification('Emirates ID data extracted successfully', 'success')\n    }\n\n    // Recipient search methods\n    const searchRecipients = async () => {\n      if (!recipientSearch.value || recipientSearch.value.length < 2) {\n        searchResults.value = []\n        showRecipientDropdown.value = false\n        return\n      }\n\n      try {\n        const response = await fetch('/api/method/gift.api_v2.search_recipients', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-Frappe-CSRF-Token': window.csrf_token || ''\n          },\n          body: JSON.stringify({\n            search_term: recipientSearch.value,\n            limit: 10\n          })\n        })\n\n        const result = await response.json()\n        if (result.message && result.message.success) {\n          searchResults.value = result.message.data || []\n          showRecipientDropdown.value = searchResults.value.length > 0\n        } else {\n          searchResults.value = []\n          showRecipientDropdown.value = false\n        }\n      } catch (error) {\n        console.error('Error searching recipients:', error)\n        searchResults.value = []\n        showRecipientDropdown.value = false\n      }\n    }\n\n    const selectRecipient = (recipient) => {\n      selectedRecipient.value = recipient\n      recipientSearch.value = `${recipient.owner_full_name} - ${recipient.coordinator_full_name}`\n      showRecipientDropdown.value = false\n      \n      // Populate form with recipient data\n      form.owner_full_name = recipient.owner_full_name\n      form.coordinator_full_name = recipient.coordinator_full_name\n      form.mobile_number = recipient.coordinator_mobile_no\n      form.emirates_id = recipient.coordinator_emirates_id || ''\n      form.address = recipient.address || ''\n      \n      // Clear any errors\n      delete errors.selectedRecipient\n    }\n\n    const clearSelectedRecipient = () => {\n      selectedRecipient.value = null\n      recipientSearch.value = ''\n      \n      // Clear form fields\n      form.owner_full_name = ''\n      form.coordinator_full_name = ''\n      form.mobile_number = ''\n      form.emirates_id = ''\n      form.address = ''\n    }\n\n    // New recipient management methods\n    const editNewRecipient = () => {\n      showCreateRecipientModal.value = true\n    }\n\n    const handleRecipientCreated = (recipient) => {\n      newlyCreatedRecipient.value = recipient\n      showCreateRecipientModal.value = false\n      \n      // Populate form with new recipient data\n      form.owner_full_name = recipient.owner_full_name\n      form.coordinator_full_name = recipient.coordinator_full_name\n      form.mobile_number = recipient.coordinator_mobile_no\n      form.emirates_id = recipient.coordinator_emirates_id || ''\n      form.address = recipient.address || ''\n      \n      // Clear any errors\n      delete errors.newRecipient\n      \n      showNotification('Recipient created and selected successfully', 'success')\n    }\n\n    const clearNewRecipient = () => {\n      newlyCreatedRecipient.value = null\n      // Clear form fields\n      form.owner_full_name = ''\n      form.coordinator_full_name = ''\n      form.mobile_number = ''\n      form.emirates_id = ''\n      form.address = ''\n    }\n\n    // Document methods\n    const addDocument = () => {\n      form.documents.push({\n        document_type: '',\n        document_attachment: '',\n        description: ''\n      })\n    }\n\n    const removeDocument = (index) => {\n      form.documents.splice(index, 1)\n    }\n\n    const handleDocumentUpload = async (event, index) => {\n      const file = event.target.files[0]\n      if (!file) return\n\n      try {\n        // console.log('Uploading document...', file)\n\n        // Upload to server\n        const uploadResult = await FileAPI.upload(file, true) // Upload as private\n        // console.log('Document upload result:', uploadResult)\n\n        if (uploadResult && uploadResult.success) {\n          form.documents[index].document_attachment = uploadResult.data.file_url\n          form.documents[index].fileName = file.name\n        //   console.log('Document URL saved:', uploadResult.data.file_url)\n          showNotification('Document uploaded successfully', 'success')\n        } else {\n          throw new Error(uploadResult?.error || 'Failed to upload document')\n        }\n\n      } catch (err) {\n        console.error('Document upload error:', err)\n        showNotification(`Failed to upload document: ${err.message}`, 'error')\n      }\n    }\n\n    const viewDocument = (document) => {\n      if (document.document_attachment) {\n        window.open(document.document_attachment, '_blank')\n      }\n    }\n\n    const validateForm = async () => {\n      errors.value = {}\n\n      // Recipient mode validation\n      if (recipientMode.value === 'existing' && !selectedRecipient.value) {\n        errors.value.selectedRecipient = 'Please select an existing recipient'\n      }\n\n      if (recipientMode.value === 'new' && !newlyCreatedRecipient.value) {\n        errors.value.newRecipient = 'Please create a new recipient'\n      }\n\n      // If we have a selected recipient, data should already be populated\n      if (selectedRecipient.value || newlyCreatedRecipient.value) {\n        // Skip manual validation since data comes from recipient\n        return Object.keys(errors.value).length === 0\n      }\n\n      // Manual field validation (only when no recipient is selected)\n      // Owner name validation (required)\n      if (!form.owner_full_name.trim()) {\n        errors.value.owner_full_name = 'Owner full name is required'\n      }\n\n      // Coordinator name validation (required)\n      if (!form.coordinator_full_name.trim()) {\n        errors.value.coordinator_full_name = 'Coordinator full name is required'\n      }\n\n      // Mobile number validation (required)\n      if (!form.mobile_number.trim()) {\n        errors.value.mobile_number = 'Mobile number is required'\n      } else {\n        // Basic mobile number format validation\n        const cleanMobile = form.mobile_number.replace(/\\s+/g, '').replace(/[-+()]/g, '')\n        if (!/^\\d{8,15}$/.test(cleanMobile)) {\n          errors.value.mobile_number = 'Please enter a valid mobile number'\n        }\n      }\n\n      // Emirates ID validation (optional but if provided, must be valid)\n      if (form.emirates_id && form.emirates_id.trim()) {\n        try {\n          const validation = await GiftIssueAPI.validateEmiratesId(form.emirates_id)\n          if (!validation.success) {\n            errors.value.emirates_id = validation.error\n          } else if (!validation.data.valid) {\n            errors.value.emirates_id = validation.data.error\n          } else {\n            // Update form with properly formatted Emirates ID\n            form.emirates_id = validation.data.formatted_id\n          }\n        } catch (err) {\n          // If validation fails, show a warning but don't block submission\n          console.warn('Emirates ID validation failed:', err)\n          errors.value.emirates_id = 'Unable to validate Emirates ID format'\n        }\n      }\n\n      return Object.keys(errors.value).length === 0\n    }\n\n    const submitGiftIssue = async () => {\n      const isValid = await validateForm()\n      if (!isValid) return\n\n      try {\n        submitting.value = true\n\n        const issueData = {\n          gift: gift.value.name,\n          // Use Gift Recipient if selected\n          gift_recipient: selectedRecipient.value?.name || null,\n          // Required fields\n          owner_full_name: form.owner_full_name,\n          coordinator_full_name: form.coordinator_full_name,\n          mobile_number: form.mobile_number,\n\n          // Optional fields\n          emirates_id: form.emirates_id,\n          address: form.address,\n\n          // Other fields\n          person_photo: form.person_photo,\n          date: form.date,\n          documents: form.documents.filter(doc => doc.document_type && doc.document_attachment)\n        }\n\n        // Use the new API endpoint\n        const response = await fetch('/api/method/gift.api_v2.create_gift_issue_v2', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(issueData)\n        })\n\n        const result = await response.json()\n\n        if (!result.message || !result.message.name) {\n          throw new Error(result.exc || result.error || 'Failed to dispatch gift')\n        }\n\n        // Show success modal instead of redirect\n        showSuccessModal.value = true\n\n      } catch (err) {\n        console.error('Failed to submit gift issue:', err)\n        showNotification(err.message || 'Failed to dispatch gift', 'error')\n      } finally {\n        submitting.value = false\n      }\n    }\n\n    // Success modal handlers\n    const handleSuccessModalClose = () => {\n      showSuccessModal.value = false\n      router.push('/')\n    }\n\n    const handleIssueAnother = () => {\n      showSuccessModal.value = false\n      router.push('/scan')\n    }\n\n    // Interest handlers\n    const handleInterestSuccess = () => {\n      showAddInterest.value = false\n      selectedAction.value = ''\n      router.push('/')\n    }\n\n    const handleInterestClose = () => {\n      showAddInterest.value = false\n      selectedAction.value = ''\n    }\n\n    // Utility functions\n    const formatDate = (dateString) => {\n      if (!dateString) return 'N/A'\n\n      try {\n        const date = new Date(dateString)\n        return new Intl.DateTimeFormat('en-GB', {\n          year: 'numeric',\n          month: 'short',\n          day: '2-digit',\n          hour: '2-digit',\n          minute: '2-digit'\n        }).format(date)\n      } catch (err) {\n        return dateString\n      }\n    }\n\n    // Lifecycle\n    onMounted(() => {\n      loadGiftDetails()\n      \n      // Close recipient dropdown when clicking outside\n      document.addEventListener('click', (e) => {\n        if (!e.target.closest('.recipient-search-container')) {\n          showRecipientDropdown.value = false\n        }\n      })\n    })\n\n    return {\n      loading,\n      submitting,\n      error,\n      gift,\n      form,\n      errors,\n      route,\n      showCamera,\n      showEmiratesIdScanner,\n      showAdditionalDetails,\n      showSuccessModal,\n      showAddInterest,\n      selectedAction,\n      capturedPhoto,\n      galleryInput,\n      // Recipient search and management\n      recipientSearch,\n      searchResults,\n      showRecipientDropdown,\n      selectedRecipient,\n      recipientMode,\n      showCreateRecipientModal,\n      newlyCreatedRecipient,\n      searchRecipients,\n      selectRecipient,\n      clearSelectedRecipient,\n      editNewRecipient,\n      handleRecipientCreated,\n      clearNewRecipient,\n      // Existing methods\n      selectAction,\n      loadGiftDetails,\n      openCamera,\n      openGallery,\n      handleGalleryPhoto,\n      handleCapturedPhoto,\n      clearPhoto,\n      handleEmiratesIdData,\n      addDocument,\n      removeDocument,\n      handleDocumentUpload,\n      viewDocument,\n      submitGiftIssue,\n      handleSuccessModalClose,\n      handleIssueAnother,\n      handleInterestSuccess,\n      handleInterestClose,\n      formatDate\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Form styling */\ninput:focus,\nselect:focus,\ntextarea:focus {\n  outline: none !important;\n  border-color: #10b981;\n  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);\n}\n\n/* Loading animation */\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.animate-spin {\n  animation: spin 1s linear infinite;\n}\n\n/* Transitions */\n.transition-colors {\n  transition-property: color, background-color, border-color;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 200ms;\n}\n\n/* Disabled state */\nbutton:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* Photo preview styling */\n.aspect-square {\n  aspect-ratio: 1 / 1;\n}\n\n/* Accessibility */\n/* PWA and Touch Optimizations */\n.touch-manipulation {\n  touch-action: manipulation;\n  -webkit-tap-highlight-color: transparent;\n}\n\n/* Ensure buttons are touch-friendly on all devices */\nbutton {\n  min-height: 44px; /* iOS accessibility guidelines */\n  touch-action: manipulation;\n  -webkit-tap-highlight-color: transparent;\n}\n\n/* Action buttons specific styling */\nbutton[class*=\"border-charcoal-200\"] {\n  -webkit-appearance: none;\n  appearance: none;\n  user-select: none;\n  -webkit-user-select: none;\n}\n\n/* Mobile viewport fixes */\n@media (max-width: 768px) {\n  .min-h-screen {\n    min-height: 100vh;\n    min-height: 100dvh; /* Dynamic viewport height */\n  }\n\n  /* Ensure bottom padding accounts for mobile browsers */\n  .pb-24 {\n    padding-bottom: 8rem; /* Increased from default */\n  }\n\n  /* Make buttons more touch-friendly */\n  button {\n    min-height: 44px; /* iOS accessibility guidelines */\n    touch-action: manipulation;\n  }\n\n  /* Prevent zoom on input focus */\n  input, select, textarea {\n    font-size: 16px;\n  }\n\n  /* Action buttons responsive layout */\n  .flex.flex-col.sm\\\\:flex-row {\n    gap: 0.75rem;\n  }\n\n  .flex.flex-col.sm\\\\:flex-row button {\n    width: 100%;\n    justify-content: center;\n  }\n}\n\n/* iOS safe area handling */\n@supports (padding-bottom: env(safe-area-inset-bottom)) {\n  .pb-safe {\n    padding-bottom: calc(6rem + env(safe-area-inset-bottom));\n  }\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .animate-spin {\n    animation: none !important;\n  }\n\n  .transition-colors {\n    transition: none !important;\n  }\n}\n\n/* High contrast mode */\n@media (prefers-contrast: high) {\n  .shadow-card {\n    border: 1px solid #374151;\n  }\n\n  input, select, textarea {\n    border-width: 2px;\n  }\n}\n</style>\n"],"names":["render","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","_sfc_main","XMarkIcon","BoltIcon","BoltSlashIcon","ArrowPathIcon","ExclamationTriangleIcon","CameraIcon","props","emit","videoElement","ref","canvasElement","cameraReady","isFrontCamera","hasMultipleCameras","hasFlash","flashOn","error","currentStream","availableCameras","initializeCamera","__async","device","constraints","resolve","capabilities","err","switchCamera","track","toggleFlash","capturePhoto","video","canvas","context","blob","cleanup","onMounted","onUnmounted","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_8","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_createVNode","_component_CameraIcon","$setup","args","_normalizeClass","_createBlock","_component_BoltSlashIcon","_component_BoltIcon","_component_ArrowPathIcon","_component_XMarkIcon","_hoisted_9","_hoisted_10","_component_ExclamationTriangleIcon","_toDisplayString","runtime","exports","Op","hasOwn","defineProperty","obj","key","desc","undefined","$Symbol","iteratorSymbol","asyncIteratorSymbol","toStringTagSymbol","define","value","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","Context","makeInvokeMethod","tryCatch","fn","arg","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","prototype","method","genFun","ctor","AsyncIterator","PromiseImpl","invoke","reject","record","result","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","iter","state","doneResult","delegate","delegateResult","maybeInvokeDelegate","methodName","info","pushTryEntry","locs","entry","resetTryEntry","val","object","keys","next","iterable","iteratorMethod","i","skipTempReset","name","rootEntry","rootRecord","exception","handle","loc","caught","hasCatch","hasFinally","type","finallyEntry","afterLoc","finallyLoc","tryLoc","thrown","resultName","nextLoc","module","accidentalStrictMode","getId","prefix","cnt","require$$0","jobCounter","createJob","_id","action","payload","id","logging","log","_logging","this","require$$1","require$$2","schedulerCounter","createScheduler","workers","runningWorkers","jobQueue","getQueueLen","getNumWorkers","dequeue","wIds","queue","job","w","wid","isElectron","isElectron_1","getEnvironment","env","require","isBrowser","resolveURL","s","resolvePaths","options","opts","__spreadValues","circularize","page","blocks","paragraphs","lines","words","symbols","block","paragraph","line","word","sym","__spreadProps","OEM","defaultOptions","version","defaultOptions_1","spawnWorker","workerPath","workerBlobURL","worker","terminateWorker","onMessage","handler","data","send","packet","readFromBlobOrFile","fileReader","code","loadImage","image","c","loadImage_1","require$$3","require$$4","require$$5","browser","require$$6","workerCounter","createWorker","_0","langs","oem","_options","config","_a","logger","errorHandler","__objRest","resolves","rejects","currentLangs","currentOem","currentConfig","lstmOnlyCore","workerResReject","workerResResolve","workerRes","workerError","event","setResolve","promiseId","res","setReject","rej","startJob","jobId","load","loadInternal","writeText","path","text","readText","removeFile","FS","loadLanguage","loadLanguageInternal","_langs","initialize","initializeInternal","_oem","_config","reinitialize","x","setParameters","params","recognize","_1","output","getPDF","title","textonly","detect","terminate","workerId","status","d","resolveObj","Tesseract","languages","PSM","setLogging","require$$7","src","PencilIcon","isScanning","processing","documentDetected","scanStatus","showManualInput","manualForm","reactive","scanInterval","startScanning","detectDocumentAndScan","stopScanning","toggleScanning","hasDocument","hasDocumentInFrame","imageData","processOCR","edgeCount","threshold","y","index","currentPixel","rightIndex","rightPixel","bottomIndex","bottomPixel","preprocessImage","ctx","img","imageDataObj","preprocessedImage","m","extractedData","extractEmiratesIdData","ocrText","emiratesIdPattern","emiratesIdMatch","digits","nameFound","namePattern","nameMatch","processManualInput","clearManualForm","_hoisted_7","_hoisted_15","_hoisted_21","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_6","_hoisted_20","_hoisted_23","_hoisted_24","_component_PencilIcon","_hoisted_26","$event","_vModelText","_hoisted_30","CheckCircleIcon","_component_CheckCircleIcon","ArrowLeftIcon","GiftIcon","PhotoIcon","DocumentTextIcon","InformationCircleIcon","DocumentPlusIcon","TrashIcon","CameraModal","EmiratesIdScanner","GiftIssueSuccessModal","InterestForm","CreateRecipientModal","router","useRouter","route","useRoute","showNotification","useNotifications","loading","submitting","gift","showCamera","showEmiratesIdScanner","showAdditionalDetails","showSuccessModal","showAddInterest","selectedAction","capturedPhoto","galleryInput","errors","recipientSearch","searchResults","showRecipientDropdown","selectedRecipient","recipientMode","showCreateRecipientModal","newlyCreatedRecipient","form","selectAction","loadGiftDetails","giftId","GiftAPI","giftData","message","issueDate","personName","openCamera","openGallery","handleGalleryPhoto","file","uploadPhoto","handleCapturedPhoto","photoBlob","reader","e","uploadResult","FileAPI","clearPhoto","handleEmiratesIdData","searchRecipients","selectRecipient","recipient","clearSelectedRecipient","editNewRecipient","handleRecipientCreated","clearNewRecipient","addDocument","removeDocument","handleDocumentUpload","viewDocument","document","validateForm","cleanMobile","validation","GiftIssueAPI","submitGiftIssue","issueData","doc","handleSuccessModalClose","handleIssueAnother","handleInterestSuccess","handleInterestClose","formatDate","dateString","date","_hoisted_22","_hoisted_25","_hoisted_32","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_42","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_66","_hoisted_67","_hoisted_70","_hoisted_71","_hoisted_76","_hoisted_79","_hoisted_80","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_88","_hoisted_89","_hoisted_91","_hoisted_92","_hoisted_96","_hoisted_98","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_109","_hoisted_114","_hoisted_115","_hoisted_116","_hoisted_118","_hoisted_121","_hoisted_122","_hoisted_123","_hoisted_124","_hoisted_125","_hoisted_126","_hoisted_127","_hoisted_128","_hoisted_129","_hoisted_130","_hoisted_131","_hoisted_132","_component_ArrowLeftIcon","_component_InformationCircleIcon","_component_GiftIcon","_hoisted_31","_component_DocumentTextIcon","_hoisted_33","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_43","_Fragment","_renderList","_hoisted_48","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_60","_hoisted_65","_hoisted_69","_hoisted_73","_hoisted_75","_hoisted_78","_hoisted_81","_hoisted_83","_component_PhotoIcon","_component_DocumentPlusIcon","_hoisted_87","_vModelSelect","_hoisted_94","_hoisted_95","_component_TrashIcon","_hoisted_100","_hoisted_107","_hoisted_108","_hoisted_111","_component_CreateRecipientModal","_component_GiftIssueSuccessModal","_component_CameraModal","_component_EmiratesIdScanner","_component_InterestForm","_hoisted_113","_hoisted_117","_hoisted_120","attr"],"mappings":"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CA,OAAAM,EACF,EC6FAO,GAAiB,CACf,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,SAAU,WACV,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,QAAS,UACT,QAAS,UACT,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,QAAS,UACT,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,QAAS,UACT,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,QAAS,UACT,IAAK,MACL,IAAK,MACL,SAAU,WACV,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,SAAU,WACV,IAAK,MACL,IAAK,KACP,ECtNAC,GAAiB,CACf,SAAU,IACV,SAAU,IACV,UAAW,IACX,KAAM,IACN,cAAe,IACf,uBAAwB,IACxB,aAAc,IACd,YAAa,IACb,YAAa,IACb,YAAa,IACb,YAAa,KACb,YAAa,KACb,gBAAiB,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","x_google_ignoreList":[0,1,2,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]}