var re=Object.defineProperty,te=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var A=(f,r,d)=>r in f?re(f,r,{enumerable:!0,configurable:!0,writable:!0,value:d}):f[r]=d,U=(f,r)=>{for(var d in r||(r={}))le.call(r,d)&&A(f,d,r[d]);if(q)for(var d of q(r))se.call(r,d)&&A(f,d,r[d]);return f},B=(f,r)=>te(f,oe(r));var E=(f,r,d)=>new Promise((e,c)=>{var _=o=>{try{n(d.next(o))}catch(x){c(x)}},g=o=>{try{n(d.throw(o))}catch(x){c(x)}},n=o=>o.done?e(o.value):Promise.resolve(o.value).then(_,g);n((d=d.apply(f,r)).next())});import{_ as X,A as H,u as W,y as I,p as R,D as S,e as V,c as i,f as m,o as a,a as t,g as C,H as L,w as y,h as k,v as w,n as h,t as u,X as T,F as P,k as ne,aa as ie}from"./index-DXfJHqnU.js";const ae={name:"CreateRecipientModal",components:{XMarkIcon:H},props:{show:{type:Boolean,default:!1},editData:{type:Object,default:null}},emits:["close","created"],setup(f,{emit:r}){const{showNotification:d}=W(),e=I({owner_full_name:"",coordinator_full_name:"",mobile_number:"",emirates_id:"",address:"",person_photo:""}),c=I({}),_=R(!1);S(()=>f.editData,l=>{l&&Object.assign(e,l)},{immediate:!0}),S(()=>f.show,l=>{l||g()});const g=()=>{Object.assign(e,{owner_full_name:"",coordinator_full_name:"",mobile_number:"",emirates_id:"",address:"",person_photo:""}),Object.keys(c).forEach(l=>delete c[l]),_.value=!1},n=()=>{if(Object.keys(c).forEach(l=>delete c[l]),e.owner_full_name.trim()||(c.owner_full_name="Owner full name is required"),e.coordinator_full_name.trim()||(c.coordinator_full_name="Coordinator full name is required"),!e.mobile_number.trim())c.mobile_number="Mobile number is required";else{const l=e.mobile_number.replace(/[\s\-\+\(\)]/g,"");[/^971(50|51|52|54|55|56|58)\d{7}$/,/^(50|51|52|54|55|56|58)\d{7}$/].some(j=>j.test(l))||(c.mobile_number="Please enter a valid UAE mobile number (e.g., 971501234567 or 501234567)")}if(e.emirates_id&&e.emirates_id.trim()){const l=e.emirates_id.replace(/[\s\-]/g,"");/^\d{15}$/.test(l)?l.startsWith("784")||(c.emirates_id="Emirates ID should start with 784"):c.emirates_id="Emirates ID must be 15 digits"}return Object.keys(c).length===0},o=()=>E(this,null,function*(){if(n()){_.value=!0;try{let l=e.mobile_number.replace(/[\s\-\+\(\)]/g,"");!l.startsWith("971")&&l.length===9&&(l="971"+l);const v=yield(yield fetch("/api/method/gift.api_v2.create_or_get_recipient",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},body:JSON.stringify({owner_full_name:e.owner_full_name.trim(),coordinator_full_name:e.coordinator_full_name.trim(),mobile_number:l,emirates_id:e.emirates_id.trim()||null,address:e.address.trim()||null,person_photo:e.person_photo||null})})).json();if(v.message&&v.message.success)d("Recipient created successfully","success"),r("created",v.message.data),x();else if(v.exc&&v.exc.includes("already registered"))c.mobile_number="This mobile number is already registered with different names. Please use a different number or select the existing recipient.";else throw new Error(v.exc||v.message||"Failed to create recipient")}catch(l){console.error("Error creating recipient:",l),l.message.includes("already registered")?c.mobile_number="This mobile number is already registered":d(`Failed to create recipient: ${l.message}`,"error")}finally{_.value=!1}}}),x=()=>{r("close")};return{form:e,errors:c,submitting:_,createRecipient:o,closeModal:x,validateForm:n}}},de={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},ce={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},me={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full"},ue={class:"bg-white px-6 pt-6 pb-4"},fe={class:"flex justify-between items-center mb-6"},be={class:"bg-charcoal-50 rounded-lg p-4"},_e={key:0,class:"mt-1 text-sm text-red-600"},xe={class:"bg-charcoal-50 rounded-lg p-4"},pe={class:"space-y-4"},ge={key:0,class:"mt-1 text-sm text-red-600"},he={key:0,class:"mt-1 text-sm text-red-600"},ve={key:0,class:"mt-1 text-sm text-red-600"},ye={class:"bg-charcoal-50 rounded-lg p-4"},we={key:0,class:"mt-1 text-sm text-red-600"},ke={class:"flex justify-end space-x-3 pt-4 border-t border-charcoal-200"},Re=["disabled"],Ce={key:0,class:"flex items-center"},Me={key:1};function Ee(f,r,d,e,c,_){const g=V("XMarkIcon");return d.show?(a(),i("div",de,[t("div",ce,[t("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:r[0]||(r[0]=(...n)=>e.closeModal&&e.closeModal(...n))},[...r[9]||(r[9]=[t("div",{class:"absolute inset-0 bg-charcoal-500 opacity-75"},null,-1)])]),t("div",me,[t("div",ue,[t("div",fe,[r[10]||(r[10]=t("div",null,[t("h3",{class:"text-xl font-semibold text-charcoal-900"},"Create New Recipient"),t("p",{class:"text-sm text-charcoal-600 mt-1"}," Add recipient details that can be reused for future gifts ")],-1)),t("button",{onClick:r[1]||(r[1]=(...n)=>e.closeModal&&e.closeModal(...n)),class:"text-charcoal-400 hover:text-charcoal-600 transition-colors"},[C(g,{class:"w-6 h-6"})])]),t("form",{onSubmit:r[8]||(r[8]=L((...n)=>e.createRecipient&&e.createRecipient(...n),["prevent"])),class:"space-y-6"},[t("div",be,[r[12]||(r[12]=t("h4",{class:"text-sm font-medium text-charcoal-900 mb-4"},"Owner Details",-1)),t("div",null,[r[11]||(r[11]=t("label",{for:"owner_full_name",class:"block text-sm font-medium text-charcoal-700 mb-2"},[k(" Owner Full Name "),t("span",{class:"text-red-500"},"*")],-1)),y(t("input",{id:"owner_full_name","onUpdate:modelValue":r[2]||(r[2]=n=>e.form.owner_full_name=n),type:"text",required:"",class:h(["w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent",{"border-red-500":e.errors.owner_full_name}]),placeholder:"Enter owner full name"},null,2),[[w,e.form.owner_full_name]]),e.errors.owner_full_name?(a(),i("p",_e,u(e.errors.owner_full_name),1)):m("",!0)])]),t("div",xe,[r[16]||(r[16]=t("h4",{class:"text-sm font-medium text-charcoal-900 mb-4"},"Coordinator Details",-1)),t("div",pe,[t("div",null,[r[13]||(r[13]=t("label",{for:"coordinator_full_name",class:"block text-sm font-medium text-charcoal-700 mb-2"},[k(" Coordinator Full Name "),t("span",{class:"text-red-500"},"*")],-1)),y(t("input",{id:"coordinator_full_name","onUpdate:modelValue":r[3]||(r[3]=n=>e.form.coordinator_full_name=n),type:"text",required:"",class:h(["w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent",{"border-red-500":e.errors.coordinator_full_name}]),placeholder:"Enter coordinator full name"},null,2),[[w,e.form.coordinator_full_name]]),e.errors.coordinator_full_name?(a(),i("p",ge,u(e.errors.coordinator_full_name),1)):m("",!0)]),t("div",null,[r[14]||(r[14]=t("label",{for:"mobile_number",class:"block text-sm font-medium text-charcoal-700 mb-2"},[k(" Mobile Number "),t("span",{class:"text-red-500"},"*")],-1)),y(t("input",{id:"mobile_number","onUpdate:modelValue":r[4]||(r[4]=n=>e.form.mobile_number=n),type:"tel",required:"",class:h(["w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent",{"border-red-500":e.errors.mobile_number}]),placeholder:"Enter mobile number"},null,2),[[w,e.form.mobile_number]]),e.errors.mobile_number?(a(),i("p",he,u(e.errors.mobile_number),1)):m("",!0)]),t("div",null,[r[15]||(r[15]=t("label",{for:"emirates_id",class:"block text-sm font-medium text-charcoal-700 mb-2"}," Emirates ID ",-1)),y(t("input",{id:"emirates_id","onUpdate:modelValue":r[5]||(r[5]=n=>e.form.emirates_id=n),type:"text",class:h(["w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent",{"border-red-500":e.errors.emirates_id}]),placeholder:"Enter Emirates ID (optional)"},null,2),[[w,e.form.emirates_id]]),e.errors.emirates_id?(a(),i("p",ve,u(e.errors.emirates_id),1)):m("",!0)])])]),t("div",ye,[r[18]||(r[18]=t("h4",{class:"text-sm font-medium text-charcoal-900 mb-4"},"Additional Details",-1)),t("div",null,[r[17]||(r[17]=t("label",{for:"address",class:"block text-sm font-medium text-charcoal-700 mb-2"}," Address ",-1)),y(t("textarea",{id:"address","onUpdate:modelValue":r[6]||(r[6]=n=>e.form.address=n),rows:"3",class:h(["w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent",{"border-red-500":e.errors.address}]),placeholder:"Enter address (optional)"},null,2),[[w,e.form.address]]),e.errors.address?(a(),i("p",we,u(e.errors.address),1)):m("",!0)])]),t("div",ke,[t("button",{type:"button",onClick:r[7]||(r[7]=(...n)=>e.closeModal&&e.closeModal(...n)),class:"px-4 py-2 text-sm font-medium text-charcoal-700 bg-charcoal-100 border border-charcoal-300 rounded-lg hover:bg-charcoal-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-charcoal-500 transition-colors"}," Cancel "),t("button",{type:"submit",disabled:e.submitting,class:"px-4 py-2 text-sm font-medium text-white bg-gray-600 border border-transparent rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[e.submitting?(a(),i("span",Ce,[...r[19]||(r[19]=[t("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),k(" Creating... ",-1)])])):(a(),i("span",Me,"Create Recipient"))],8,Re)])],32)])])])])):m("",!0)}const Ie=X(ae,[["render",Ee],["__scopeId","data-v-d29e9789"]]),je={name:"InterestForm",components:{XMarkIcon:H,CreateRecipientModal:Ie},props:{show:{type:Boolean,default:!1},giftId:{type:String,required:!0}},emits:["close","success"],setup(f,{emit:r}){const{showNotification:d}=W(),e=R("existing"),c=R(null),_=R(null),g=R(!1),n=R(""),o=R([]),x=R(!1),l=I({owner_full_name:"",coordinator_full_name:"",mobile_number:"",emirates_id:"",address:""}),b=I({}),v=R(!1),j=()=>E(this,null,function*(){if(n.value.length<2){o.value=[],x.value=!1;return}try{const p=yield(yield fetch("/api/method/gift.api_v2.search_recipients",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token||""},body:JSON.stringify({search_term:n.value})})).json();p.message&&p.message.success?(o.value=p.message.data||[],x.value=o.value.length>0):(o.value=[],x.value=!1)}catch(s){console.error("Error searching recipients:",s),o.value=[],x.value=!1}}),J=s=>{c.value=s,n.value=`${s.owner_full_name} - ${s.coordinator_full_name}`,x.value=!1,l.owner_full_name=s.owner_full_name,l.coordinator_full_name=s.coordinator_full_name,l.mobile_number=s.coordinator_mobile_no,l.emirates_id=s.coordinator_emirates_id||"",l.address=s.address||"",delete b.selectedRecipient},G=()=>{c.value=null,n.value="",x.value=!1,l.owner_full_name="",l.coordinator_full_name="",l.mobile_number="",l.emirates_id="",l.address=""},K=s=>{_.value=s,g.value=!1,l.owner_full_name=s.owner_full_name,l.coordinator_full_name=s.coordinator_full_name,l.mobile_number=s.coordinator_mobile_no,l.emirates_id=s.coordinator_emirates_id||"",l.address=s.address||"",delete b.newRecipient},Q=()=>{g.value=!0},Y=()=>{_.value=null,l.owner_full_name="",l.coordinator_full_name="",l.mobile_number="",l.emirates_id="",l.address=""},D=()=>{const s=l.mobile_number.trim();if(!s)return b.mobile_number="Mobile number is required",!1;const p=s.replace(/[\s\-\+\(\)]/g,"");return[/^971(50|51|52|54|55|56|58)\d{7}$/,/^(50|51|52|54|55|56|58)\d{7}$/].some(ee=>ee.test(p))?(delete b.mobile_number,!0):(b.mobile_number="Please enter a valid UAE mobile number",!1)},F=()=>{const s=l.emirates_id.trim();if(s.length===0)return delete b.emirates_id,!0;const p=s.replace(/[\s\-]/g,"");return/^\d{15}$/.test(p)?p.startsWith("784")?(delete b.emirates_id,!0):(b.emirates_id="Emirates ID should start with 784",!1):(b.emirates_id="Emirates ID must be exactly 15 digits",!1)},Z=()=>{Object.keys(b).forEach(p=>delete b[p]);let s=!0;return e.value==="existing"&&!c.value&&(b.selectedRecipient="Please select an existing recipient",s=!1),e.value==="new"&&!_.value&&(l.owner_full_name.trim()||(b.owner_full_name="Owner full name is required",s=!1),l.coordinator_full_name.trim()||(b.coordinator_full_name="Coordinator full name is required",s=!1),D()||(s=!1),F()||(s=!1)),s},$=()=>E(this,null,function*(){if(!Z()){d("Please fix the errors in the form","error");return}try{v.value=!0;let s={gift:f.giftId};if(e.value==="existing"&&c.value)s.gift_recipient=c.value.name;else if(e.value==="new"&&_.value)s.gift_recipient=_.value.name;else{const M=l.mobile_number.replace(/[\s\-\+\(\)]/g,""),z=l.emirates_id.replace(/[\s\-]/g,"");s=B(U({},s),{owner_full_name:l.owner_full_name.trim(),coordinator_full_name:l.coordinator_full_name.trim(),mobile_number:M.startsWith("971")?M:`971${M}`,emirates_id:z,address:l.address.trim()||null})}const p=yield ie.create(s);p.success?(d("Interest recorded successfully","success"),r("success",p.data),O()):d(p.error||"Failed to record interest","error")}catch(s){console.error("Failed to submit interest:",s),d("Failed to record interest. Please try again.","error")}finally{v.value=!1}}),N=()=>{Object.keys(l).forEach(s=>{l[s]=""}),Object.keys(b).forEach(s=>delete b[s]),c.value=null,_.value=null,n.value="",e.value="existing"},O=()=>{N(),r("close")};return S(()=>f.show,s=>{s&&N()}),{recipientMode:e,selectedRecipient:c,newlyCreatedRecipient:_,showCreateRecipientModal:g,recipientSearch:n,searchResults:o,showRecipientDropdown:x,searchRecipients:j,selectRecipient:J,clearSelectedRecipient:G,handleRecipientCreated:K,editNewRecipient:Q,clearNewRecipient:Y,form:l,errors:b,submitting:v,submitInterest:$,resetForm:N,closeModal:O,validateMobileNumber:D,validateEmiratesId:F}}},Ne={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Se={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ve={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full"},De={class:"bg-white px-4 sm:px-6 pt-6 pb-4"},Fe={class:"flex justify-between items-center mb-6"},Oe={class:"mb-6"},ze={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},qe={key:0,class:"absolute top-2 right-2"},Ae={key:0,class:"absolute top-2 right-2"},Ue={key:0,class:"mb-6"},Be={class:"relative"},Te={key:1,class:"absolute z-20 w-full mt-1 bg-white border border-charcoal-300 rounded-lg shadow-lg max-h-48 overflow-y-auto"},Pe=["onClick"],Xe={class:"font-medium text-charcoal-900 text-sm"},He={class:"text-xs text-charcoal-600"},We={class:"text-xs text-charcoal-500"},Le={key:0,class:"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg"},Je={class:"flex items-center justify-between"},Ge={class:"font-medium text-green-900 text-sm"},Ke={class:"text-xs text-green-700"},Qe={class:"text-xs text-green-600"},Ye={key:1,class:"mt-1 text-sm text-red-600"},Ze={key:1,class:"mb-6"},$e={key:0,class:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg"},er={class:"flex items-center justify-between"},rr={class:"font-medium text-blue-900 text-sm"},tr={class:"text-xs text-blue-700"},or={class:"text-xs text-blue-600"},lr={class:"flex space-x-2"},sr={key:1,class:"mt-1 text-sm text-red-600"},nr={key:2,class:"space-y-6"},ir={class:"bg-charcoal-50 rounded-lg p-4"},ar=["readonly"],dr={key:0,class:"mt-1 text-sm text-red-600"},cr={class:"bg-charcoal-50 rounded-lg p-4"},mr={class:"space-y-4"},ur=["readonly"],fr={key:0,class:"mt-1 text-sm text-red-600"},br=["readonly"],_r={key:0,class:"mt-1 text-sm text-red-600"},xr=["readonly"],pr={key:0,class:"mt-1 text-sm text-red-600"},gr={class:"bg-charcoal-50 rounded-lg p-4"},hr=["readonly"],vr={key:0,class:"mt-1 text-sm text-red-600"},yr={class:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-charcoal-200"},wr=["disabled"],kr={key:0,class:"flex items-center justify-center"},Rr={key:1};function Cr(f,r,d,e,c,_){const g=V("XMarkIcon"),n=V("CreateRecipientModal");return a(),i(P,null,[d.show?(a(),i("div",Ne,[t("div",Se,[t("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:r[0]||(r[0]=(...o)=>e.closeModal&&e.closeModal(...o))},[...r[20]||(r[20]=[t("div",{class:"absolute inset-0 bg-charcoal-500 opacity-75"},null,-1)])]),t("div",Ve,[t("div",De,[t("div",Fe,[r[21]||(r[21]=t("div",null,[t("h3",{class:"text-xl font-semibold text-charcoal-900"},"Express Interest"),t("p",{class:"text-sm text-charcoal-600 mt-1"}," Add your interest for this gift. We'll keep your details for future reference. ")],-1)),t("button",{onClick:r[1]||(r[1]=(...o)=>e.closeModal&&e.closeModal(...o)),class:"text-charcoal-400 hover:text-charcoal-600 transition-colors"},[C(g,{class:"w-6 h-6"})])]),t("form",{onSubmit:r[18]||(r[18]=L((...o)=>e.submitInterest&&e.submitInterest(...o),["prevent"])),class:"space-y-6"},[t("div",Oe,[r[26]||(r[26]=t("label",{class:"block text-sm font-medium text-charcoal-700 mb-3"}," Choose how to add recipient information: ",-1)),t("div",ze,[t("button",{type:"button",onClick:r[2]||(r[2]=o=>e.recipientMode="existing"),class:h(["flex items-center justify-center p-4 border-2 rounded-xl transition-all duration-200 min-h-[60px] touch-manipulation relative overflow-hidden",e.recipientMode==="existing"?"border-blue-500 bg-blue-50 text-blue-900 shadow-md":"border-charcoal-200 hover:border-blue-300 hover:bg-blue-25 text-charcoal-700"])},[r[23]||(r[23]=T('<div class="flex items-center" data-v-144549f6><div class="mr-3 flex-shrink-0" data-v-144549f6><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-144549f6><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" data-v-144549f6></path></svg></div><div class="text-left" data-v-144549f6><div class="font-semibold text-sm" data-v-144549f6>Select Existing</div><div class="text-xs mt-1 opacity-75" data-v-144549f6>Choose from saved recipients</div></div></div>',1)),e.recipientMode==="existing"?(a(),i("div",qe,[...r[22]||(r[22]=[t("svg",{class:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)])])):m("",!0)],2),t("button",{type:"button",onClick:r[3]||(r[3]=o=>e.recipientMode="new"),class:h(["flex items-center justify-center p-4 border-2 rounded-xl transition-all duration-200 min-h-[60px] touch-manipulation relative overflow-hidden",e.recipientMode==="new"?"border-green-500 bg-green-50 text-green-900 shadow-md":"border-charcoal-200 hover:border-green-300 hover:bg-green-25 text-charcoal-700"])},[r[25]||(r[25]=T('<div class="flex items-center" data-v-144549f6><div class="mr-3 flex-shrink-0" data-v-144549f6><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-144549f6><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" data-v-144549f6></path></svg></div><div class="text-left" data-v-144549f6><div class="font-semibold text-sm" data-v-144549f6>Create New</div><div class="text-xs mt-1 opacity-75" data-v-144549f6>Add new recipient details</div></div></div>',1)),e.recipientMode==="new"?(a(),i("div",Ae,[...r[24]||(r[24]=[t("svg",{class:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)])])):m("",!0)],2)])]),e.recipientMode==="existing"?(a(),i("div",Ue,[r[27]||(r[27]=t("label",{class:"block text-sm font-medium text-charcoal-700 mb-2"},[k(" Search and Select Recipient "),t("span",{class:"text-red-500"},"*")],-1)),t("div",Be,[y(t("input",{"onUpdate:modelValue":r[4]||(r[4]=o=>e.recipientSearch=o),onInput:r[5]||(r[5]=(...o)=>e.searchRecipients&&e.searchRecipients(...o)),onFocus:r[6]||(r[6]=o=>e.showRecipientDropdown=!0),type:"text",placeholder:"Search by name, mobile number, or Emirates ID...",class:h(["w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent",{"border-red-500":e.errors.selectedRecipient}])},null,34),[[w,e.recipientSearch]]),e.selectedRecipient?(a(),i("button",{key:0,type:"button",onClick:r[7]||(r[7]=(...o)=>e.clearSelectedRecipient&&e.clearSelectedRecipient(...o)),class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-charcoal-400 hover:text-charcoal-600"},[C(g,{class:"w-4 h-4"})])):m("",!0),e.showRecipientDropdown&&e.searchResults.length>0&&!e.selectedRecipient?(a(),i("div",Te,[(a(!0),i(P,null,ne(e.searchResults,o=>(a(),i("div",{key:o.name,onClick:x=>e.selectRecipient(o),class:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0"},[t("div",Xe,u(o.owner_full_name),1),t("div",He,"Coordinator: "+u(o.coordinator_full_name),1),t("div",We,u(o.coordinator_mobile_no),1)],8,Pe))),128))])):m("",!0)]),e.selectedRecipient?(a(),i("div",Le,[t("div",Je,[t("div",null,[t("div",Ge,u(e.selectedRecipient.owner_full_name),1),t("div",Ke,"Coordinator: "+u(e.selectedRecipient.coordinator_full_name),1),t("div",Qe,u(e.selectedRecipient.coordinator_mobile_no),1)]),t("button",{type:"button",onClick:r[8]||(r[8]=(...o)=>e.clearSelectedRecipient&&e.clearSelectedRecipient(...o)),class:"text-green-600 hover:text-green-800"},[C(g,{class:"w-4 h-4"})])])])):m("",!0),e.errors.selectedRecipient?(a(),i("p",Ye,u(e.errors.selectedRecipient),1)):m("",!0)])):m("",!0),e.recipientMode==="new"?(a(),i("div",Ze,[t("button",{type:"button",onClick:r[9]||(r[9]=o=>e.showCreateRecipientModal=!0),class:"w-full flex items-center justify-center px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-gray-400 hover:text-gray-700 transition-all duration-200 min-h-[48px] touch-manipulation"},[...r[28]||(r[28]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),k(" Click to Create New Recipient ",-1)])]),e.newlyCreatedRecipient?(a(),i("div",$e,[t("div",er,[t("div",null,[t("div",rr,u(e.newlyCreatedRecipient.owner_full_name),1),t("div",tr,"Coordinator: "+u(e.newlyCreatedRecipient.coordinator_full_name),1),t("div",or,u(e.newlyCreatedRecipient.coordinator_mobile_no),1)]),t("div",lr,[t("button",{type:"button",onClick:r[10]||(r[10]=(...o)=>e.editNewRecipient&&e.editNewRecipient(...o)),class:"text-blue-600 hover:text-blue-800 text-xs font-medium"}," Edit "),t("button",{type:"button",onClick:r[11]||(r[11]=(...o)=>e.clearNewRecipient&&e.clearNewRecipient(...o)),class:"text-red-600 hover:text-red-800 text-xs font-medium"}," Clear ")])])])):m("",!0),e.errors.newRecipient?(a(),i("p",sr,u(e.errors.newRecipient),1)):m("",!0)])):m("",!0),e.recipientMode==="new"&&!e.newlyCreatedRecipient||e.recipientMode==="existing"&&!e.selectedRecipient?(a(),i("div",nr,[t("div",ir,[r[30]||(r[30]=t("h4",{class:"text-sm font-medium text-charcoal-900 mb-4"},"Owner Details",-1)),t("div",null,[r[29]||(r[29]=t("label",{for:"owner_full_name",class:"block text-sm font-medium text-charcoal-700 mb-2"},[k(" Owner Full Name "),t("span",{class:"text-red-500"},"*")],-1)),y(t("input",{id:"owner_full_name","onUpdate:modelValue":r[12]||(r[12]=o=>e.form.owner_full_name=o),type:"text",required:"",readonly:!!e.selectedRecipient||!!e.newlyCreatedRecipient,class:h(["w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent",{"border-red-500":e.errors.owner_full_name,"bg-gray-50":!!e.selectedRecipient||!!e.newlyCreatedRecipient}]),placeholder:"Enter owner full name"},null,10,ar),[[w,e.form.owner_full_name]]),e.errors.owner_full_name?(a(),i("p",dr,u(e.errors.owner_full_name),1)):m("",!0)])]),t("div",cr,[r[34]||(r[34]=t("h4",{class:"text-sm font-medium text-charcoal-900 mb-4"},"Coordinator Details",-1)),t("div",mr,[t("div",null,[r[31]||(r[31]=t("label",{for:"coordinator_full_name",class:"block text-sm font-medium text-charcoal-700 mb-2"},[k(" Coordinator Full Name "),t("span",{class:"text-red-500"},"*")],-1)),y(t("input",{id:"coordinator_full_name","onUpdate:modelValue":r[13]||(r[13]=o=>e.form.coordinator_full_name=o),type:"text",required:"",readonly:!!e.selectedRecipient||!!e.newlyCreatedRecipient,class:h(["w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent",{"border-red-500":e.errors.coordinator_full_name,"bg-gray-50":!!e.selectedRecipient||!!e.newlyCreatedRecipient}]),placeholder:"Enter coordinator full name"},null,10,ur),[[w,e.form.coordinator_full_name]]),e.errors.coordinator_full_name?(a(),i("p",fr,u(e.errors.coordinator_full_name),1)):m("",!0)]),t("div",null,[r[32]||(r[32]=t("label",{for:"mobile_number",class:"block text-sm font-medium text-charcoal-700 mb-2"},[k(" Mobile Number "),t("span",{class:"text-red-500"},"*")],-1)),y(t("input",{id:"mobile_number","onUpdate:modelValue":r[14]||(r[14]=o=>e.form.mobile_number=o),type:"tel",required:"",readonly:!!e.selectedRecipient||!!e.newlyCreatedRecipient,class:h(["w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent",{"border-red-500":e.errors.mobile_number,"bg-gray-50":!!e.selectedRecipient||!!e.newlyCreatedRecipient}]),placeholder:"Enter mobile number"},null,10,br),[[w,e.form.mobile_number]]),e.errors.mobile_number?(a(),i("p",_r,u(e.errors.mobile_number),1)):m("",!0)]),t("div",null,[r[33]||(r[33]=t("label",{for:"emirates_id",class:"block text-sm font-medium text-charcoal-700 mb-2"}," Emirates ID ",-1)),y(t("input",{id:"emirates_id","onUpdate:modelValue":r[15]||(r[15]=o=>e.form.emirates_id=o),type:"text",readonly:!!e.selectedRecipient||!!e.newlyCreatedRecipient,class:h(["w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent",{"border-red-500":e.errors.emirates_id,"bg-gray-50":!!e.selectedRecipient||!!e.newlyCreatedRecipient}]),placeholder:"Enter Emirates ID (optional)"},null,10,xr),[[w,e.form.emirates_id]]),e.errors.emirates_id?(a(),i("p",pr,u(e.errors.emirates_id),1)):m("",!0)])])]),t("div",gr,[r[36]||(r[36]=t("h4",{class:"text-sm font-medium text-charcoal-900 mb-4"},"Address",-1)),t("div",null,[r[35]||(r[35]=t("label",{for:"address",class:"block text-sm font-medium text-charcoal-700 mb-2"}," Address ",-1)),y(t("textarea",{id:"address","onUpdate:modelValue":r[16]||(r[16]=o=>e.form.address=o),rows:"3",readonly:!!e.selectedRecipient||!!e.newlyCreatedRecipient,class:h(["w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent",{"border-red-500":e.errors.address,"bg-gray-50":!!e.selectedRecipient||!!e.newlyCreatedRecipient}]),placeholder:"Enter address (optional)"},null,10,hr),[[w,e.form.address]]),e.errors.address?(a(),i("p",vr,u(e.errors.address),1)):m("",!0)])])])):m("",!0),t("div",yr,[t("button",{type:"button",onClick:r[17]||(r[17]=(...o)=>e.closeModal&&e.closeModal(...o)),class:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-charcoal-700 bg-charcoal-100 border border-charcoal-300 rounded-lg hover:bg-charcoal-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-charcoal-500 transition-colors min-h-[44px] touch-manipulation"}," Cancel "),t("button",{type:"submit",disabled:e.submitting,class:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-white bg-gray-600 border border-transparent rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors min-h-[44px] touch-manipulation"},[e.submitting?(a(),i("span",kr,[...r[37]||(r[37]=[t("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),k(" Submitting... ",-1)])])):(a(),i("span",Rr,"Express Interest"))],8,wr)])],32)])])])])):m("",!0),C(n,{show:e.showCreateRecipientModal,"edit-data":e.newlyCreatedRecipient,onClose:r[19]||(r[19]=o=>e.showCreateRecipientModal=!1),onCreated:e.handleRecipientCreated},null,8,["show","edit-data","onCreated"])],64)}const Ir=X(je,[["render",Cr],["__scopeId","data-v-144549f6"]]);export{Ie as C,Ir as I};
//# sourceMappingURL=InterestForm-Cl3e1yb1.js.map
