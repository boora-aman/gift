{"version":3,"file":"GiftForm-QMECSCxH.js","sources":["../../../../frontend/src/components/GiftForm.vue"],"sourcesContent":["<template>\n\t<form @submit.prevent=\"handleSubmit\" class=\"space-y-8 pb-24 lg:pb-0\">\n\t\t<!-- Status Warning for Non-Available Gifts -->\n\t\t<div v-if=\"isEditMode && !isFieldEditable\" class=\"bg-amber-50 border border-amber-200 rounded-lg p-4\">\n\t\t\t<div class=\"flex items-start\">\n\t\t\t\t<ExclamationTriangleIcon class=\"w-5 h-5 text-amber-600 mt-0.5 mr-3 flex-shrink-0\" />\n\t\t\t\t<div>\n\t\t\t\t\t<h3 class=\"text-sm font-medium text-amber-800\">Gift Cannot Be Modified</h3>\n\t\t\t\t\t<p class=\"text-sm text-amber-700 mt-1\">\n\t\t\t\t\t\tThis gift cannot be edited because its status is \"{{ getStatusText(form.status) }}\".\n\t\t\t\t\t\tOnly gifts with \"Available\" status can be modified.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Basic Information -->\n\t\t<div class=\"bg-white rounded-xl shadow-card p-6\">\n\t\t\t<h2 class=\"text-xl font-semibold text-charcoal-900 mb-6\">Basic Information</h2>\n\n\t\t\t<div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n\t\t\t\t<!-- Status Field (Readonly) -->\n\t\t\t\t<div v-if=\"isEditMode\">\n\t\t\t\t\t<label for=\"status\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n\t\t\t\t\t\tStatus\n\t\t\t\t\t</label>\n\t\t\t\t\t<input id=\"status\" :value=\"getStatusText(form.status)\" type=\"text\" readonly :class=\"[\n\t\t\t\t\t\t'w-full px-3 py-2 border rounded-lg text-charcoal-900 bg-charcoal-50 cursor-not-allowed',\n\t\t\t\t\t\tgetStatusClasses(form.status, true)\n\t\t\t\t\t]\" />\n\t\t\t\t\t<p v-if=\"!isFieldEditable\" class=\"mt-1 text-xs text-amber-600\">\n\t\t\t\t\t\t<ExclamationTriangleIcon class=\"w-3 h-3 inline mr-1\" />\n\t\t\t\t\t\tInformation can only be edited when status is \"Available\"\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<label for=\"gift_name\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n\t\t\t\t\t\tGift Name *\n\t\t\t\t\t</label>\n\t\t\t\t\t<input id=\"gift_name\" v-model=\"form.gift_name\" type=\"text\" required :disabled=\"!isFieldEditable\"\n\t\t\t\t\t\tclass=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent disabled:bg-charcoal-50 disabled:cursor-not-allowed\"\n\t\t\t\t\t\tplaceholder=\"Enter gift name\" />\n\t\t\t\t\t<p v-if=\"errors.gift_name\" class=\"mt-1 text-sm text-red-600\">{{ errors.gift_name }}</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<label for=\"gift_id\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n\t\t\t\t\t\tUAE Ring\n\t\t\t\t\t</label>\n\t\t\t\t\t<input id=\"gift_id\" v-model=\"form.gift_id\" type=\"text\" :disabled=\"!isFieldEditable\"\n\t\t\t\t\t\tclass=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent disabled:bg-charcoal-50 disabled:cursor-not-allowed\"\n\t\t\t\t\t\tplaceholder=\"Enter UAE Ring\" />\n\t\t\t\t\t<p v-if=\"errors.gift_id\" class=\"mt-1 text-sm text-red-600\">{{ errors.gift_id }}</p>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Gender (below UAE Ring) -->\n\t\t\t\t<div class=\"pb-4\">\n\t\t\t\t\t<label for=\"gender\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n\t\t\t\t\t\tGender\n\t\t\t\t\t</label>\n\t\t\t\t\t<CustomDropdown v-model=\"form.gender\" :options=\"genderOptions\"\n\t\t\t\t\t\tplaceholder=\"Select gender (optional)\" :disabled=\"!isFieldEditable\" :show-badge=\"false\"\n\t\t\t\t\t\tlabel=\"gender\" />\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<label for=\"weight\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n\t\t\t\t\t\tWeight\n\t\t\t\t\t</label>\n\t\t\t\t\t<input id=\"weight\" v-model=\"form.weight\" type=\"number\" step=\"0.01\" min=\"0\"\n\t\t\t\t\t\t:disabled=\"!isFieldEditable\"\n\t\t\t\t\t\tclass=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent disabled:bg-charcoal-50 disabled:cursor-not-allowed\"\n\t\t\t\t\t\tplaceholder=\"Enter weight (optional)\" />\n\t\t\t\t\t<p v-if=\"errors.weight\" class=\"mt-1 text-sm text-red-600\">{{ errors.weight }}</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"pb-4\">\n\t\t\t\t\t<label for=\"category\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n\t\t\t\t\t\tCategory\n\t\t\t\t\t</label>\n\t\t\t\t\t<CustomDropdown v-model=\"form.category\" :options=\"categoryOptions\"\n\t\t\t\t\t\tplaceholder=\"Select category (optional)\" :disabled=\"categoriesLoading || !isFieldEditable\"\n\t\t\t\t\t\t:loading=\"categoriesLoading\" :show-badge=\"false\" label=\"categories\" />\n\t\t\t\t\t<p v-if=\"errors.category\" class=\"mt-1 text-sm text-red-600\">{{ errors.category }}</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<label for=\"farm_name\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n\t\t\t\t\t\tFarm Name\n\t\t\t\t\t</label>\n\t\t\t\t\t<input id=\"farm_name\" v-model=\"form.farm_name\" type=\"text\" :disabled=\"!isFieldEditable\"\n\t\t\t\t\t\tclass=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent disabled:bg-charcoal-50 disabled:cursor-not-allowed\"\n\t\t\t\t\t\tplaceholder=\"Enter farm name (optional)\" />\n\t\t\t\t\t<p v-if=\"errors.farm_name\" class=\"mt-1 text-sm text-red-600\">{{ errors.farm_name }}</p>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\n\t\t\t<div class=\"mt-6\">\n\t\t\t\t<label for=\"description\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n\t\t\t\t\tDescription\n\t\t\t\t</label>\n\t\t\t\t<textarea id=\"description\" v-model=\"form.description\" rows=\"4\" :disabled=\"!isFieldEditable\"\n\t\t\t\t\tclass=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent disabled:bg-charcoal-50 disabled:cursor-not-allowed\"\n\t\t\t\t\tplaceholder=\"Enter gift description\"></textarea>\n\t\t\t\t<p v-if=\"errors.description\" class=\"mt-1 text-sm text-red-600\">{{ errors.description }}</p>\n\t\t\t</div>\n\t\t</div>\n\n\n\n\t\t<!-- Images -->\n\t\t<div class=\"bg-white rounded-xl shadow-card p-6\">\n\t\t\t<div class=\"flex items-center justify-between mb-6\">\n\t\t\t\t<h2 class=\"text-xl font-semibold text-charcoal-900\">Images</h2>\n\t\t\t\t<button type=\"button\" @click=\"$refs.fileInput.click()\" :disabled=\"!isFieldEditable\"\n\t\t\t\t\tclass=\"px-4 py-2 text-sm font-medium text-gray-800 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-charcoal-50 disabled:text-charcoal-500 disabled:border-charcoal-200\">\n\t\t\t\t\tUpload Images\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<input ref=\"fileInput\" type=\"file\" multiple accept=\"image/*\" @change=\"handleFileUpload\" class=\"hidden\"\n\t\t\t\t:disabled=\"!isFieldEditable\" />\n\n\t\t\t<div v-if=\"form.gift_images.length === 0\"\n\t\t\t\tclass=\"text-center py-8 text-charcoal-500 border-2 border-dashed border-charcoal-200 rounded-lg\">\n\t\t\t\t<div class=\"mx-auto w-12 h-12 text-charcoal-400 mb-4\">\n\t\t\t\t\t<PhotoIcon class=\"w-full h-full\" />\n\t\t\t\t</div>\n\t\t\t\t<p class=\"text-sm\">No images uploaded yet.</p>\n\t\t\t\t<p class=\"text-xs mt-1\">Click \"Upload Images\" to add photos of this gift.</p>\n\t\t\t</div>\n\n\t\t\t<div v-else class=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n\t\t\t\t<div v-for=\"(image, index) in form.gift_images\" :key=\"index\" class=\"relative group\">\n\t\t\t\t\t<div class=\"aspect-square rounded-lg overflow-hidden bg-charcoal-100\">\n\t\t\t\t\t\t<img :src=\"getImageUrl(image.image)\" :alt=\"`Gift image ${index + 1}`\"\n\t\t\t\t\t\t\tclass=\"w-full h-full object-cover\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<button type=\"button\" @click=\"removeImage(index)\" :disabled=\"!isFieldEditable\"\n\t\t\t\t\t\tclass=\"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-charcoal-400\">\n\t\t\t\t\t\t<XMarkIcon class=\"w-4 h-4\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Import Barcode Section (only shown in create mode) -->\n\t\t<div v-if=\"!isEditMode\" class=\"bg-white rounded-xl shadow-card p-6\">\n\t\t\t<h2 class=\"text-xl font-semibold text-charcoal-900 mb-6\">Barcode Configuration</h2>\n\n\t\t\t<div class=\"space-y-4\">\n\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t<input id=\"import_barcode\" v-model=\"form.import_barcode\" type=\"checkbox\"\n\t\t\t\t\t\t:disabled=\"!isFieldEditable\"\n\t\t\t\t\t\tclass=\"h-4 w-4 text-gray-600 focus:ring-gray-500 border-charcoal-300 rounded disabled:opacity-50 disabled:cursor-not-allowed\" />\n\t\t\t\t\t<label for=\"import_barcode\" class=\"ml-2 block text-sm text-charcoal-900\">\n\t\t\t\t\t\tImport Barcode\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<p class=\"text-sm text-charcoal-600\">\n\t\t\t\t\tCheck this if you want to specify a custom barcode id. Otherwise, a barcode will be auto-generated.\n\t\t\t\t</p>\n\n\t\t\t\t<div v-if=\"form.import_barcode\" class=\"space-y-2\">\n\t\t\t\t\t<label for=\"barcode_value\" class=\"block text-sm font-medium text-charcoal-700\">\n\t\t\t\t\t\tBarcode ID *\n\t\t\t\t\t</label>\n\t\t\t\t\t<input id=\"barcode_value\" v-model=\"form.barcode_value\" type=\"text\" :required=\"form.import_barcode\"\n\t\t\t\t\t\t:disabled=\"!isFieldEditable\"\n\t\t\t\t\t\tclass=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent disabled:bg-charcoal-50 disabled:cursor-not-allowed\"\n\t\t\t\t\t\tplaceholder=\"Enter barcode ID\" />\n\t\t\t\t\t<p v-if=\"errors.barcode_value\" class=\"mt-1 text-sm text-red-600\">{{ errors.barcode_value }}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Form Actions - Sticky at bottom for PWA -->\n\t\t<div class=\"lg:flex lg:justify-end\">\n\t\t\t<!-- Desktop version -->\n\t\t\t<div class=\"hidden lg:block\">\n\t\t\t\t<button type=\"submit\" :disabled=\"loading || (isEditMode && !isFieldEditable)\"\n\t\t\t\t\tclass=\"px-8 py-3 text-sm font-medium text-white bg-gray-600 rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-charcoal-400\">\n\t\t\t\t\t<ArrowPathIcon v-if=\"saving === 'submit'\" class=\"inline w-4 h-4 mr-2 animate-spin\" />\n\t\t\t\t\t{{ isEditMode ? (saving === 'submit' ? 'Updating Gift...' : 'Update Gift') : (loading ? 'Creating Gift...' : 'Create Gift') }}\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<!-- Mobile PWA version - Fixed at bottom -->\n\t\t\t<div class=\"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-charcoal-200 p-4 z-[9999]\"\n\t\t\t\tstyle=\"padding-bottom: max(1rem, env(safe-area-inset-bottom));\">\n\t\t\t\t<button type=\"submit\" :disabled=\"loading || (isEditMode && !isFieldEditable)\"\n\t\t\t\t\tclass=\"w-full px-8 py-4 text-base font-medium text-white bg-gray-600 rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-charcoal-400 shadow-lg\">\n\t\t\t\t\t<ArrowPathIcon v-if=\"saving === 'submit'\" class=\"inline w-4 h-4 mr-2 animate-spin\" />\n\t\t\t\t\t{{ isEditMode ? (saving === 'submit' ? 'Updating Gift...' : 'Update Gift') : (loading ? 'Creating Gift...' : 'Create Gift') }}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</form>\n</template>\n\n<script>\nimport { ref, reactive, computed, watch, onMounted } from 'vue'\nimport { useNotifications } from '@composables/useNotifications'\nimport { GiftAPI, FileAPI } from '@services/api'\n\n// Components\nimport CustomDropdown from './CustomDropdown.vue'\n\n// Icons\nimport {\n\tTrashIcon,\n\tPhotoIcon,\n\tXMarkIcon,\n\tArrowPathIcon,\n\tExclamationTriangleIcon\n} from '@heroicons/vue/24/outline'\n\nexport default {\n\tname: 'GiftForm',\n\tcomponents: {\n\t\tTrashIcon,\n\t\tPhotoIcon,\n\t\tXMarkIcon,\n\t\tArrowPathIcon,\n\t\tExclamationTriangleIcon,\n\t\tCustomDropdown\n\t},\n\tprops: {\n\t\tinitialData: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({})\n\t\t},\n\t\tisEditMode: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tgiftStatus: {\n\t\t\ttype: String,\n\t\t\tdefault: 'Available'\n\t\t}\n\t},\n\temits: ['submit'],\n\tsetup(props, { emit }) {\n\t\tconst { showNotification } = useNotifications()\n\n\t\t// Form data\n\t\tconst form = reactive({\n\t\t\tgift_name: '',\n\t\t\tgift_id: '',\n\t\t\tgender: '',\n\t\t\tcategory: '',\n\t\t\tdescription: '',\n\t\t\tstatus: 'Available',\n\t\t\tfarm_name: '',\n\t\t\tweight: '',\n\t\t\timport_barcode: false,\n\t\t\tbarcode_value: '',\n\t\t\tgift_additional_attributes: [],\n\t\t\tgift_images: []\n\t\t})\n\n\t\t// UI state\n\t\tconst errors = ref({})\n\t\tconst loading = ref(false)\n\t\tconst saving = ref('')\n\t\tconst categories = ref([])\n\t\tconst categoriesLoading = ref(false)\n\t\tconst fileInput = ref(null)\n\n\t\t// Computed properties\n\t\tconst isFieldEditable = computed(() => {\n\t\t\treturn !props.isEditMode || props.giftStatus === 'Available'\n\t\t})\n\n\t\tconst categoryOptions = computed(() => {\n\t\t\treturn categories.value.map(category => ({\n\t\t\t\tvalue: category.name,\n\t\t\t\tlabel: category.category_name\n\t\t\t}))\n\t\t})\n\n\t\t// Static options for gender dropdown\n\t\tconst genderOptions = [\n\t\t\t{ value: 'Male', label: 'Male' },\n\t\t\t{ value: 'Female', label: 'Female' }\n\t\t]\n\n\t\t// Methods\n\t\tconst loadCategories = async () => {\n\t\t\ttry {\n\t\t\t\tcategoriesLoading.value = true\n\t\t\t\tconst response = await GiftAPI.getCategories()\n\n\t\t\t\tif (response.success) {\n\t\t\t\t\t// Transform the API response to match template expectations\n\t\t\t\t\t// API returns [{\"name\": \"cat-001\", \"category_name\": \"Mobile\"}] format\n\t\t\t\t\t// We use category_name for both value and display\n\t\t\t\t\tconst rawCategories = response.data || []\n\t\t\t\t\tcategories.value = rawCategories.map(category => ({\n\t\t\t\t\t\tname: category.category_name, // Use category_name for value to match gift data\n\t\t\t\t\t\tcategory_name: category.category_name // Use category_name for display\n\t\t\t\t\t}))\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('Failed to load categories:', response.error)\n\t\t\t\t\t// Fallback to hardcoded categories\n\t\t\t\t\tcategories.value = [\n\t\t\t\t\t\t{ name: 'Watch', category_name: 'Watch' },\n\t\t\t\t\t\t{ name: 'Mobile', category_name: 'Mobile' },\n\t\t\t\t\t\t{ name: 'Product', category_name: 'Product' },\n\t\t\t\t\t\t{ name: 'Service', category_name: 'Service' },\n\t\t\t\t\t\t{ name: 'Digital', category_name: 'Digital' }\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error loading categories:', error)\n\t\t\t\t// Fallback to hardcoded categories\n\t\t\t\tcategories.value = [\n\t\t\t\t\t{ name: 'Watch', category_name: 'Watch' },\n\t\t\t\t\t{ name: 'Mobile', category_name: 'Mobile' },\n\t\t\t\t\t{ name: 'Product', category_name: 'Product' },\n\t\t\t\t\t{ name: 'Service', category_name: 'Service' },\n\t\t\t\t\t{ name: 'Digital', category_name: 'Digital' }\n\t\t\t\t]\n\t\t\t} finally {\n\t\t\t\tcategoriesLoading.value = false\n\t\t\t}\n\t\t}\n\n\t\tconst addAttribute = () => {\n\t\t\tform.gift_additional_attributes.push({\n\t\t\t\tattribute_name: '',\n\t\t\t\tattribute_value: ''\n\t\t\t})\n\t\t}\n\n\t\tconst removeAttribute = (index) => {\n\t\t\tform.gift_additional_attributes.splice(index, 1)\n\t\t}\n\n\t\tconst handleFileUpload = async (event) => {\n\t\t\tconst files = Array.from(event.target.files)\n\n\t\t\tfor (const file of files) {\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await FileAPI.upload(file)\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\tform.gift_images.push({\n\t\t\t\t\t\t\timage: response.data.file_url\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshowNotification(`Failed to upload ${file.name}`, 'error')\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('File upload error:', error)\n\t\t\t\t\tshowNotification(`Failed to upload ${file.name}`, 'error')\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Clear the input\n\t\t\tevent.target.value = ''\n\t\t}\n\n\t\tconst removeImage = (index) => {\n\t\t\tform.gift_images.splice(index, 1)\n\t\t}\n\n\t\tconst getImageUrl = (imagePath) => {\n\t\t\tif (!imagePath) return ''\n\n\t\t\t// If it's already a full URL, return as is\n\t\t\tif (imagePath.startsWith('http://') || imagePath.startsWith('https://')) {\n\t\t\t\treturn imagePath\n\t\t\t}\n\n\t\t\t// Get base URL from API configuration or fallback to window origin\n\t\t\tconst getBaseUrl = () => {\n\t\t\t\t// In production, this should be the actual server URL\n\t\t\t\t// For development, we need to use the proxy target\n\t\t\t\tif (import.meta.env.DEV) {\n\t\t\t\t\t// During development, use the proxy target from vite config\n\t\t\t\t\treturn 'http://localhost:8008'\n\t\t\t\t}\n\t\t\t\t// In production, use the current origin\n\t\t\t\treturn window.location.origin\n\t\t\t}\n\n\t\t\tconst baseUrl = getBaseUrl()\n\n\t\t\t// If it starts with /files/, assume it's a Frappe file URL and add the base URL\n\t\t\tif (imagePath.startsWith('/files/')) {\n\t\t\t\treturn `${baseUrl}${imagePath}`\n\t\t\t}\n\n\t\t\t// If it's a relative path, add the base URL\n\t\t\tif (imagePath.startsWith('/')) {\n\t\t\t\treturn `${baseUrl}${imagePath}`\n\t\t\t}\n\n\t\t\t// If it doesn't start with / or http, assume it needs /files/ prefix\n\t\t\treturn `${baseUrl}/files/${imagePath}`\n\t\t}\n\n\t\t// Status utility functions\n\t\tconst getStatusClasses = (status, isInput = false) => {\n\t\t\tconst classes = {\n\t\t\t\tavailable: isInput ? 'border-emerald-300' : 'bg-gray-100 text-gray-800',\n\t\t\t\tissued: isInput ? 'border-blue-300' : 'bg-blue-100 text-blue-800',\n\t\t\t\texpired: isInput ? 'border-red-300' : 'bg-red-100 text-red-800',\n\t\t\t\tcancelled: isInput ? 'border-charcoal-300' : 'bg-charcoal-100 text-charcoal-800',\n\t\t\t\tredeemed: isInput ? 'border-purple-300' : 'bg-purple-100 text-purple-800'\n\t\t\t}\n\t\t\treturn classes[status?.toLowerCase()] || (isInput ? 'border-emerald-300' : 'bg-gray-100 text-gray-800')\n\t\t}\n\n\t\tconst getStatusText = (status) => {\n\t\t\tconst texts = {\n\t\t\t\tavailable: 'Available',\n\t\t\t\tissued: 'Issued',\n\t\t\t\texpired: 'Expired',\n\t\t\t\tcancelled: 'Cancelled',\n\t\t\t\tredeemed: 'Redeemed'\n\t\t\t}\n\t\t\treturn texts[status?.toLowerCase()] || 'Available'\n\t\t}\n\n\t\tconst validateForm = () => {\n\t\t\terrors.value = {}\n\n\t\t\tif (!form.gift_name.trim()) {\n\t\t\t\terrors.value.gift_name = 'Gift name is required'\n\t\t\t}\n\n\t\t\tif (!form.gift_id.trim()) {\n\t\t\t\terrors.value.gift_id = 'Gift Code is required'\n\t\t\t}\n\n\t\t\t// Category is now optional - no validation needed\n\n\t\t\t// Only validate barcode fields in create mode\n\t\t\tif (!props.isEditMode && form.import_barcode && !form.barcode_value?.trim()) {\n\t\t\t\terrors.value.barcode_value = 'Barcode ID is required when Import Barcode is checked'\n\t\t\t}\n\n\t\t\treturn Object.keys(errors.value).length === 0\n\t\t}\n\n\t\tconst handleSubmit = () => {\n\t\t\tif (!validateForm()) return\n\n\t\t\tsaving.value = 'submit'\n\n\t\t\t// Create a copy of form data\n\t\t\tconst formData = { ...form }\n\n\t\t\t// Remove barcode fields in edit mode since they shouldn't be changed\n\t\t\tif (props.isEditMode) {\n\t\t\t\tdelete formData.import_barcode\n\t\t\t\tdelete formData.barcode_value\n\t\t\t}\n\n\t\t\temit('submit', formData)\n\t\t}\n\n\t\tconst resetSaving = () => {\n\t\t\tsaving.value = ''\n\t\t}\n\n\t\t// Update form when initialData changes (for edit mode)\n\t\twatch(() => props.initialData, (newData) => {\n\t\t\tif (newData && Object.keys(newData).length > 0) {\n\t\t\t\tform.gift_name = newData.gift_name || ''\n\t\t\t\tform.gift_id = newData.gift_id || ''\n\t\t\t\tform.gender = newData.gender || ''\n\t\t\t\tform.category = newData.category || ''\n\t\t\t\tform.description = newData.description || ''\n\t\t\t\tform.status = newData.status || 'Available'\n\t\t\t\tform.farm_name = newData.farm_name || ''\n\t\t\t\tform.weight = newData.weight || ''\n\t\t\t\tform.import_barcode = newData.import_barcode || false\n\t\t\t\tform.barcode_value = newData.barcode_value || ''\n\t\t\t\tform.gift_additional_attributes = newData.gift_additional_attributes || []\n\t\t\t\tform.gift_images = newData.gift_images || []\n\t\t\t}\n\t\t}, { deep: true, immediate: true })\n\n\t\t// Lifecycle\n\t\tonMounted(() => {\n\t\t\tloadCategories()\n\t\t})\n\n\t\treturn {\n\t\t\tform,\n\t\t\terrors,\n\t\t\tloading,\n\t\t\tsaving,\n\t\t\tcategories,\n\t\t\tcategoriesLoading,\n\t\t\tcategoryOptions,\n\t\t\tgenderOptions,\n\t\t\tfileInput,\n\t\t\tisFieldEditable,\n\t\t\taddAttribute,\n\t\t\tremoveAttribute,\n\t\t\thandleFileUpload,\n\t\t\tremoveImage,\n\t\t\tgetImageUrl,\n\t\t\tgetStatusClasses,\n\t\t\tgetStatusText,\n\t\t\thandleSubmit,\n\t\t\tresetSaving\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n/* Custom styles if needed */\n.shadow-card {\n\tbox-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n}\n\n/* Better dropdown styling */\nselect {\n\tbackground-image: none;\n\t-webkit-appearance: none;\n\t-moz-appearance: none;\n\tappearance: none;\n}\n\n/* Ensure dropdown options are visible */\nselect option {\n\tbackground-color: white;\n\tcolor: #374151;\n\tpadding: 8px 12px;\n}\n\n/* PWA-specific adjustments */\n@media (max-width: 1023px) {\n\n\t/* Ensure form has proper bottom spacing on mobile for fixed button */\n\tform {\n\t\tmargin-bottom: 100px;\n\t}\n\n\t/* Ensure dropdowns work properly in PWA */\n\tselect {\n\t\tposition: relative;\n\t\tz-index: 1;\n\t\tmin-height: 42px;\n\t\tfont-size: 16px;\n\t\t/* Prevent zoom on iOS */\n\t}\n\n\t/* Style the dropdown container */\n\t.relative {\n\t\tz-index: 10;\n\t}\n\n\t/* Better spacing for mobile forms */\n\t.space-y-8>*+* {\n\t\tmargin-top: 1.5rem;\n\t}\n}\n\n/* iOS PWA specific fixes */\n@supports (-webkit-touch-callout: none) {\n\tselect {\n\t\tfont-size: 16px;\n\t\t/* Prevent zoom on iOS */\n\t\tbackground-color: white;\n\t\tborder-radius: 8px;\n\t}\n\n\t/* Ensure options are properly styled on iOS */\n\tselect option {\n\t\tbackground-color: white;\n\t\tcolor: #374151;\n\t}\n}\n\n/* Ensure fixed button doesn't interfere with main content */\n@media (max-width: 1023px) {\n\t.fixed.bottom-0 {\n\t\tbox-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);\n\t}\n}\n\n/* High contrast mode support */\n@media (prefers-contrast: high) {\n\tselect {\n\t\tborder: 2px solid #374151;\n\t}\n\n\t.fixed.bottom-0 {\n\t\tborder-top: 2px solid #374151;\n\t}\n}\n</style>\n"],"names":["_sfc_main","TrashIcon","PhotoIcon","XMarkIcon","ArrowPathIcon","ExclamationTriangleIcon","CustomDropdown","props","emit","showNotification","useNotifications","form","reactive","errors","ref","loading","saving","categories","categoriesLoading","fileInput","isFieldEditable","computed","categoryOptions","category","genderOptions","loadCategories","__async","response","GiftAPI","rawCategories","error","addAttribute","removeAttribute","index","handleFileUpload","event","files","file","FileAPI","removeImage","getImageUrl","imagePath","baseUrl","getStatusClasses","status","isInput","getStatusText","validateForm","_a","handleSubmit","formData","__spreadValues","resetSaving","watch","newData","onMounted","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_13","_hoisted_16","_hoisted_20","_hoisted_23","_hoisted_24","_hoisted_28","_hoisted_30","_hoisted_34","_hoisted_35","_hoisted_40","_hoisted_41","_createElementBlock","$setup","args","$props","_openBlock","_hoisted_1","_createElementVNode","_createVNode","_component_ExclamationTriangleIcon","_cache","_toDisplayString","_hoisted_6","_normalizeClass","_hoisted_8","$event","_vModelText","_hoisted_10","_hoisted_12","_component_CustomDropdown","_hoisted_15","_hoisted_17","_hoisted_19","_hoisted_22","_ctx","_hoisted_25","_hoisted_27","_component_PhotoIcon","_hoisted_29","_Fragment","image","_component_XMarkIcon","_hoisted_33","_vModelCheckbox","_hoisted_37","_hoisted_39","_createBlock","_component_ArrowPathIcon","_createTextVNode","_hoisted_43"],"mappings":"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"}