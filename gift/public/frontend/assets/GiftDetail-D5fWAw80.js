var A=(v,e,d)=>new Promise((o,I)=>{var j=h=>{try{_(d.next(h))}catch(y){I(y)}},M=h=>{try{_(d.throw(h))}catch(y){I(y)}},_=h=>h.done?o(h.value):Promise.resolve(h.value).then(j,M);_((d=d.apply(v,e)).next())});import{c as l,o as r,a as t,_ as Ct,s as Dt,T as Mt,ab as Bt,A as Pt,ac as At,ad as jt,ae as Gt,q as Tt,$ as Et,af as Nt,a1 as St,Z as Ut,W as Vt,K as Lt,l as Ft,ag as Ht,e as g,f as m,g as c,t as i,h as x,H as Y,n as it,F as $,k as tt,N as zt,w as ot,ah as ct,v as Ot,x as Rt,m as qt,u as Yt,p as f,y as Qt,z as Wt,a4 as Xt,G as st,L as Zt,aa as Kt,ai as Jt}from"./index-DXfJHqnU.js";import{I as $t}from"./InterestForm-Cl3e1yb1.js";import{r as te}from"./TrashIcon-BtZczJiP.js";function ee(v,e){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})])}function oe(v,e){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})])}function se(v,e){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"})])}const ae={name:"GiftDetail",components:{AppImage:Ht,InterestForm:$t,ArrowLeftIcon:Ft,GiftIcon:Lt,PencilIcon:Vt,EllipsisVerticalIcon:Ut,DocumentDuplicateIcon:oe,TrashIcon:te,ClipboardDocumentIcon:St,PrinterIcon:se,DocumentTextIcon:Nt,UserIcon:Et,ExclamationTriangleIcon:Tt,EyeIcon:Gt,QrCodeIcon:jt,CheckCircleIcon:At,XMarkIcon:Pt,ArrowTopRightOnSquareIcon:ee,StarIcon:Bt,TagIcon:Mt,ArrowPathIcon:Dt},setup(){const v=Rt(),e=qt(),{showNotification:d}=Yt(),o=f(!0),I=f(null),j=f(!1),M=f(!1),_=f(null),h=f(!1),y=f(!1),B=f(""),b=f(navigator.onLine),C=f(!1),G=f(null),N=f(!1),S=f(!1),D=f("auto"),k=f(""),w=f(""),U=f(!1),u=Qt({}),V=f({}),Q=f([]),W=f(null),X=f([]),T=f(!1),L=()=>{b.value=!0,d("Connection restored","success")},F=()=>{b.value=!1,d("You are offline. Some features may not work.","warning")},H=()=>A(this,null,function*(){try{o.value=!0;const s=v.params.id;if(!b.value){I.value="You are offline. Please check your connection and try again.";return}const n=yield st.getDetails(s);n.success?(Object.assign(u,n.data.gift),V.value=n.data.issue_history||{}):I.value=n.error||"Failed to load gift details"}catch(s){console.error("Failed to load gift:",s),b.value?I.value="Failed to load gift details. Please try again.":I.value="You are offline. Please check your connection and try again."}finally{o.value=!1}}),z=()=>A(this,null,function*(){try{j.value=!0;const s=v.params.id;if(!b.value){console.error("Offline - cannot load dispatch history");return}const n=yield Zt.getDispatchHistory(s);n.success?Q.value=n.data.dispatch_history||[]:console.error("Failed to load dispatch history:",n.error)}catch(s){console.error("Failed to load dispatch history:",s)}finally{j.value=!1}}),E=()=>A(this,null,function*(){try{T.value=!0;const s=v.params.id;if(!b.value){console.error("Offline - cannot load interests");return}const n=yield Kt.getByGift(s);n.success?X.value=n.data||[]:console.error("Failed to load interests:",n.error)}catch(s){console.error("Failed to load interests:",s)}finally{T.value=!1}}),O=s=>{_.value&&!_.value.contains(s.target)&&(M.value=!1),G.value&&!G.value.contains(s.target)&&(C.value=!1)},Z=()=>{e.push("/gifts")},R=()=>{try{if(!b.value){d("You are offline. Please connect to the internet to dispatch gifts.","error");return}if(!u.name){d("Gift information not loaded. Please refresh and try again.","error");return}if(u.status!=="Available"){d(`This gift is ${u.status} and cannot be dispatched.`,"warning");return}e.push(`/scan/gift/${u.name}`).then(()=>{}).catch(s=>{console.error("PWA Debug: Navigation failed:",s),d("Navigation failed. Please try again.","error")})}catch(s){console.error("Error navigating to dispatch flow:",s),d("Failed to open dispatch flow. Please try again.","error")}},q=()=>{try{if(!b.value){d("You are offline. Please connect to the internet to edit gifts.","warning");return}e.push(`/gifts/${u.name}/edit`)}catch(s){console.error("Error navigating to edit gift:",s),d("Failed to open edit form. Please try again.","error")}},K=s=>{var n,p;(n=s==null?void 0:s.preventDefault)==null||n.call(s),(p=s==null?void 0:s.stopPropagation)==null||p.call(s),C.value=!1,setTimeout(()=>{R()},100)},J=s=>{var n,p;(n=s==null?void 0:s.preventDefault)==null||n.call(s),(p=s==null?void 0:s.stopPropagation)==null||p.call(s),C.value=!1,setTimeout(()=>{q()},100)},a=s=>{var n,p;(n=s==null?void 0:s.preventDefault)==null||n.call(s),(p=s==null?void 0:s.stopPropagation)==null||p.call(s),C.value=!1,setTimeout(()=>{lt()},100)},P=s=>{var n,p;(n=s==null?void 0:s.preventDefault)==null||n.call(s),(p=s==null?void 0:s.stopPropagation)==null||p.call(s),C.value=!1,setTimeout(()=>{at()},100)},et=()=>{e.push(`/gifts/new?duplicate=${u.name}`),M.value=!1},dt=()=>{d("Delete functionality will be implemented","info"),M.value=!1},mt=()=>A(this,null,function*(){try{if(navigator.clipboard&&window.isSecureContext)yield navigator.clipboard.writeText(u.barcode_value),d("Barcode ID copied to clipboard","success");else{const s=document.createElement("textarea");s.value=u.barcode_value,s.style.position="fixed",s.style.opacity="0",document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),d("Barcode ID copied to clipboard","success")}}catch(s){console.error("Copy failed:",s),d("Failed to copy barcode ID","error")}}),at=()=>{if(!u.barcode){d("No barcode available to print","error");return}if(typeof window.print=="undefined"){d("Printing is not supported on this device","error");return}try{const s=window.open("","_blank");if(!s){d("Please allow pop-ups to print the barcode","error");return}s.document.write(`
          <html>
            <head>
              <title>Barcode - ${u.barcode_value}</title>
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <style>
                @page {
                  size: A6;
                  margin: 10mm;
                }
                body {
                  margin: 0;
                  padding: 0;
                  display: flex;
                  justify-content: center;
                  align-items: center;
                  min-height: 100vh;
                  font-family: Arial, sans-serif;
                  font-size: 12pt;
                }
                .barcode-container {
                  text-align: center;
                  width: fit-content;
                }
                img {
                  width: auto;
                  height: auto;
                  max-width: none;
                  display: block;
                  margin: 0 auto;
                }
                .serial-number {
                  margin-top: 8px;
                  font-size: 12pt;
                  color: #000;
                  font-weight: bold;
                  letter-spacing: 1px;
                }
                @media print {
                  body { margin: 0; padding: 0; }
                  .barcode-container { page-break-inside: avoid; }
                }
              </style>
            </head>
            <body>
              <div class="barcode-container">
                <img src="${u.barcode}" alt="Barcode ${u.barcode_value}" onerror="this.style.display='none'" />
              </div>
            </body>
          </html>
        `),s.document.close(),s.onload=()=>{setTimeout(()=>{try{s.print()}catch(n){console.error("Print failed:",n),d("Print failed. Please try again.","error")}},500)}}catch(s){console.error("Print setup failed:",s),d("Print setup failed. Please try again.","error")}},lt=()=>A(this,null,function*(){try{o.value=!0,d("Generating barcode...","info");const s=yield st.regenerateBarcode(u.name);s.success?(u.barcode=s.data.barcode,d("Barcode generated successfully","success")):d(s.error||"Failed to generate barcode","error")}catch(s){console.error("Failed to generate barcode:",s),d("Failed to generate barcode. Please try again.","error")}finally{o.value=!1}}),ut=()=>{S.value=!0,D.value="auto",k.value="",w.value=""},rt=()=>{S.value=!1,D.value="auto",k.value="",w.value=""},ft=()=>A(this,null,function*(){try{if(w.value="",U.value=!0,D.value==="manual"){if(!k.value.trim()){w.value="Barcode ID is required";return}if(k.value.length<3){w.value="Barcode ID must be at least 3 characters long";return}}const s={gift_id:u.name,update_type:D.value,new_barcode_value:D.value==="manual"?k.value.trim():null},n=yield st.updateBarcodeValue(s);n.success?(u.barcode_value=n.data.barcode_value,u.barcode=n.data.barcode,u.import_barcode=D.value==="manual",yield H(),d("Barcode updated successfully","success"),rt()):w.value=n.error||"Failed to update barcode"}catch(s){console.error("Failed to update barcode:",s),w.value="Failed to update barcode. Please try again."}finally{U.value=!1}}),gt=(s=null)=>{const n=s||V.value;W.value=n,h.value=!0},xt=()=>{h.value=!1},ht=s=>{B.value=Jt(s),y.value=!0},bt=()=>{y.value=!1,B.value=""},pt=s=>s?s.charAt(0).toUpperCase()+s.slice(1):"General",yt=s=>s?new Date(s).toLocaleDateString("en-AE",{year:"numeric",month:"short",day:"numeric"}):"",wt=s=>{const n={Available:"bg-gray-100 text-gray-800",Issued:"bg-blue-100 text-blue-800",Dispatched:"bg-blue-100 text-blue-800",available:"bg-gray-100 text-gray-800",issued:"bg-blue-100 text-blue-800",dispatched:"bg-blue-100 text-blue-800"};return n[s]||n.Available},vt=s=>{const n={Available:"bg-gray-500",Issued:"bg-blue-500",Dispatched:"bg-blue-500",available:"bg-gray-500",issued:"bg-blue-500",dispatched:"bg-blue-500"};return n[s]||n.Available},_t=s=>({Issued:"Dispatched",issued:"Dispatched"})[s]||s||"Available",kt=s=>{if(!s)return"";const n=new Date(s),nt=Math.ceil((n-new Date)/(1e3*60*60*24));return nt<0?"text-red-600":nt<=7?"text-gold-600":""},It=s=>({0:"Draft",1:"Submitted",2:"Cancelled"})[s]||"Unknown";return Wt(()=>{H(),z(),E(),document.addEventListener("click",O),window.addEventListener("online",L),window.addEventListener("offline",F)}),Xt(()=>{document.removeEventListener("click",O),window.removeEventListener("online",L),window.removeEventListener("offline",F)}),{loading:o,error:I,loadingDispatchHistory:j,gift:u,issueHistory:V,dispatchHistory:Q,currentPersonData:W,interests:X,loadingInterests:T,showMenu:M,menuRef:_,showPersonModal:h,showImageModal:y,selectedImage:B,isOnline:b,showMobileMenu:C,mobileMenuRef:G,showAddInterest:N,showBarcodeModal:S,barcodeUpdateType:D,newBarcodeValue:k,barcodeError:w,barcodeUpdateLoading:U,goBack:Z,issueGift:R,editGift:q,duplicateGift:et,deleteGift:dt,handleIssueGift:K,handleEditGift:J,handleGenerateBarcode:a,handlePrintBarcode:P,copyCode:mt,printBarcode:at,generateBarcode:lt,loadDispatchHistory:z,loadInterests:E,openPersonModal:gt,closePersonModal:xt,openImageModal:ht,closeImageModal:bt,openBarcodeModal:ut,closeBarcodeModal:rt,updateBarcode:ft,handleInterestSuccess:()=>{d("Interest added successfully","success"),N.value=!1,E()},formatCategory:pt,formatDate:yt,getStatusClasses:wt,getStatusDotClasses:vt,getStatusText:_t,getExpiryClasses:kt,getDocStatus:It}}},le={class:"min-h-full bg-desert-sand-50"},re={key:0,class:"flex items-center justify-center min-h-screen"},ne={key:1,class:"flex items-center justify-center min-h-screen"},ie={class:"text-center"},ce={class:"text-charcoal-600 mb-4"},de={key:2},me={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6 pb-2"},ue={class:"flex items-center justify-between"},fe={class:"lg:hidden relative",ref:"mobileMenuRef"},ge={key:0,class:"absolute right-0 top-full mt-2 w-56 rounded-lg shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50",role:"menu","aria-orientation":"vertical"},xe={class:"py-1",role:"none"},he={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-safe-navbar"},be={class:"grid grid-cols-1 xl:grid-cols-4 gap-8"},pe={class:"xl:col-span-3 space-y-6"},ye={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},we={class:"bg-white rounded-xl shadow-card p-6"},ve={class:"flex items-center mb-4"},_e={class:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3"},ke={class:"space-y-4"},Ie={class:"text-charcoal-900 font-medium"},Ce={class:"text-charcoal-900 font-medium font-mono"},De={key:0},Me={class:"text-charcoal-900 font-medium font-mono"},Be={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800"},Pe={class:"flex items-center space-x-3"},Ae={key:1,class:"pt-2"},je={class:"text-charcoal-700 text-sm leading-relaxed"},Ge={class:"bg-white rounded-xl shadow-card p-6"},Te={class:"flex items-center justify-between mb-4"},Ee={class:"flex items-center"},Ne={class:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3"},Se={class:"space-y-4"},Ue={class:"flex justify-center"},Ve={key:0,class:"w-48 h-24 bg-white border-2 border-charcoal-200 rounded-lg p-2 flex items-center justify-center"},Le=["src"],Fe={key:1,class:"w-48 h-24 bg-charcoal-100 border-2 border-dashed border-charcoal-300 rounded-lg p-2 flex items-center justify-center"},He={class:"text-center"},ze={class:"flex items-center space-x-2"},Oe={class:"flex-1 bg-charcoal-100 px-3 py-2 rounded text-sm font-mono"},Re={class:"flex space-x-2"},qe={key:0,class:"bg-white rounded-xl shadow-card p-6"},Ye={class:"flex items-center mb-6"},Qe={class:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center mr-3"},We={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Xe={class:"block text-sm font-medium text-charcoal-600 mb-1"},Ze={class:"text-charcoal-900 font-medium"},Ke={key:1,class:"bg-white rounded-xl shadow-card p-6"},Je={class:"flex items-center mb-6"},$e={class:"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center mr-3"},to={class:"ml-2 text-sm text-charcoal-500"},eo={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},oo=["onClick"],so={class:"aspect-square bg-charcoal-100 rounded-lg overflow-hidden"},ao={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-opacity rounded-lg flex items-center justify-center"},lo={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ro={class:"bg-white rounded-xl shadow-card p-6"},no={class:"flex items-center justify-between mb-6"},io={class:"flex items-center"},co={class:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3"},mo={class:"text-sm text-charcoal-500"},uo={key:0,class:"text-center py-8"},fo={key:1,class:"text-center py-8"},go={key:2,class:"space-y-3"},xo={class:"flex items-start justify-between"},ho={class:"flex-1"},bo={class:"font-medium text-charcoal-900 text-sm"},po={class:"text-xs text-charcoal-600 mt-1"},yo={class:"text-xs text-charcoal-600"},wo={class:"flex items-center space-x-2"},vo=["onClick"],_o={class:"bg-white rounded-xl shadow-card p-6"},ko={class:"flex items-center justify-between mb-6"},Io={class:"flex items-center"},Co={class:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center mr-3"},Do={class:"flex items-center space-x-2"},Mo={class:"text-sm text-charcoal-500"},Bo={key:0,class:"text-center py-8"},Po={key:1,class:"text-center py-8"},Ao={key:2,class:"space-y-3"},jo={class:"flex items-start justify-between"},Go={class:"flex-1"},To={class:"font-medium text-charcoal-900 text-sm"},Eo={class:"text-xs text-charcoal-600 mt-1"},No={class:"text-xs text-charcoal-600"},So={class:"xl:col-span-1 space-y-6"},Uo={class:"bg-white rounded-xl shadow-card p-6"},Vo={class:"space-y-3"},Lo={class:"bg-white rounded-xl shadow-card p-6"},Fo={class:"space-y-4"},Ho={class:"text-sm text-charcoal-900"},zo={class:"text-sm text-charcoal-900"},Oo={class:"text-sm text-charcoal-900"},Ro={key:0},qo={class:"text-sm text-charcoal-900"},Yo={class:"bg-white rounded-xl shadow-card p-6"},Qo={class:"space-y-4"},Wo={class:"flex justify-between items-center"},Xo={class:"text-lg font-semibold text-charcoal-900"},Zo={class:"flex justify-between items-center"},Ko={class:"text-lg font-semibold text-charcoal-900"},Jo={class:"flex justify-between items-center"},$o={class:"text-lg font-semibold text-charcoal-900"},ts={class:"flex justify-between items-center"},es={class:"text-lg font-semibold text-charcoal-900"},os={key:3,class:"fixed inset-0 z-50 overflow-y-auto"},ss={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},as={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full"},ls={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},rs={class:"flex justify-between items-center mb-4"},ns={class:"flex justify-center"},is={class:"bg-charcoal-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},cs={key:4,class:"fixed inset-0 z-50 overflow-y-auto"},ds={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ms={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},us={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},fs={class:"sm:flex sm:items-start"},gs={class:"mt-3 text-center sm:mt-0 sm:text-left w-full"},xs={class:"space-y-4"},hs={key:0,class:"flex justify-center"},bs={class:"w-24 h-24 rounded-full overflow-hidden bg-charcoal-100"},ps=["src"],ys={class:"grid grid-cols-1 gap-3"},ws={class:"mt-1 text-sm text-charcoal-900"},vs={class:"mt-1 text-sm text-charcoal-900"},_s={class:"mt-1 text-sm text-charcoal-900"},ks={class:"mt-1 text-sm text-charcoal-900"},Is={key:0},Cs={class:"mt-1 text-sm text-charcoal-900"},Ds={class:"mt-1 text-sm text-charcoal-900"},Ms={class:"bg-charcoal-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Bs={key:5,class:"fixed inset-0 z-50 overflow-y-auto"},Ps={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},As={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-md sm:w-full"},js={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Gs={class:"flex justify-between items-center mb-4"},Ts={class:"space-y-4"},Es={key:0,class:"bg-charcoal-50 p-3 rounded-lg"},Ns={class:"text-charcoal-900 font-mono"},Ss={class:"space-y-3"},Us={class:"flex items-center"},Vs={class:"flex items-center"},Ls={key:1,class:"space-y-2"},Fs={key:0,class:"text-sm text-red-600"},Hs={key:2,class:"bg-blue-50 p-3 rounded-lg"},zs={class:"bg-charcoal-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Os=["disabled"],Rs={key:0,class:"mr-2"};function qs(v,e,d,o,I,j){var T,L,F,H,z,E,O,Z,R,q,K,J;const M=g("ExclamationTriangleIcon"),_=g("ArrowLeftIcon"),h=g("EllipsisVerticalIcon"),y=g("GiftIcon"),B=g("StarIcon"),b=g("PencilIcon"),C=g("ArrowPathIcon"),G=g("PrinterIcon"),N=g("QrCodeIcon"),S=g("ClipboardDocumentIcon"),D=g("TagIcon"),k=g("EyeIcon"),w=g("AppImage"),U=g("UserIcon"),u=g("DocumentTextIcon"),V=g("ArrowTopRightOnSquareIcon"),Q=g("router-link"),W=g("XMarkIcon"),X=g("InterestForm");return r(),l("div",le,[o.loading?(r(),l("div",re,[...e[30]||(e[30]=[t("div",{class:"animate-pulse text-center"},[t("div",{class:"w-16 h-16 bg-gray-100 rounded-xl mx-auto mb-4"}),t("div",{class:"h-4 bg-charcoal-200 rounded w-32 mx-auto mb-2"}),t("div",{class:"h-3 bg-charcoal-200 rounded w-24 mx-auto"})],-1)])])):o.error?(r(),l("div",ne,[t("div",ie,[c(M,{class:"w-16 h-16 text-red-500 mx-auto mb-4"}),e[32]||(e[32]=t("h3",{class:"text-lg font-semibold text-charcoal-900 mb-2"},"Gift Not Found",-1)),t("p",ce,i(o.error),1),t("button",{onClick:e[0]||(e[0]=a=>v.$router.go(-1)),class:"inline-flex items-center px-4 py-2 border border-charcoal-300 text-sm font-medium rounded-lg text-charcoal-700 bg-white hover:bg-charcoal-50 transition-colors"},[c(_,{class:"w-4 h-4 mr-2"}),e[31]||(e[31]=x(" Go Back ",-1))])])])):(r(),l("div",de,[t("div",me,[t("div",ue,[t("button",{onClick:e[1]||(e[1]=(...a)=>o.goBack&&o.goBack(...a)),class:"inline-flex items-center px-3 py-2 border border-charcoal-300 text-sm font-medium rounded-lg text-charcoal-700 bg-white hover:bg-charcoal-50 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},[c(_,{class:"w-4 h-4 mr-2"}),e[33]||(e[33]=x(" Back to Gifts ",-1))]),t("div",fe,[t("button",{onClick:e[2]||(e[2]=a=>o.showMobileMenu=!o.showMobileMenu),class:"inline-flex items-center p-2 border border-charcoal-300 rounded-lg text-charcoal-700 bg-white hover:bg-charcoal-50 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500","aria-expanded":"false","aria-haspopup":"true"},[c(h,{class:"w-5 h-5"})]),o.showMobileMenu?(r(),l("div",ge,[t("div",xe,[o.gift.status==="Available"?(r(),l("button",{key:0,onClick:e[3]||(e[3]=Y((...a)=>o.handleIssueGift&&o.handleIssueGift(...a),["prevent"])),class:"flex items-center w-full px-4 py-2 text-sm text-charcoal-700 hover:bg-charcoal-50 transition-colors",role:"menuitem"},[c(y,{class:"w-4 h-4 mr-3 text-gray-700"}),e[34]||(e[34]=x(" Dispatch this Gift ",-1))])):m("",!0),o.gift.status==="Issued"?(r(),l("button",{key:1,onClick:e[4]||(e[4]=Y(()=>{o.showMobileMenu=!1,o.showAddInterest=!0},["prevent"])),class:"flex items-center w-full px-4 py-2 text-sm text-charcoal-700 hover:bg-charcoal-50 transition-colors",role:"menuitem"},[c(B,{class:"w-4 h-4 mr-3 text-charcoal-600"}),e[35]||(e[35]=x(" Add Interest ",-1))])):m("",!0),t("button",{onClick:e[5]||(e[5]=Y((...a)=>o.handleEditGift&&o.handleEditGift(...a),["prevent"])),class:"flex items-center w-full px-4 py-2 text-sm text-charcoal-700 hover:bg-charcoal-50 transition-colors",role:"menuitem"},[c(b,{class:"w-4 h-4 mr-3 text-charcoal-600"}),e[36]||(e[36]=x(" Edit Gift ",-1))]),e[39]||(e[39]=t("hr",{class:"my-1 border-charcoal-200"},null,-1)),t("button",{onClick:e[6]||(e[6]=Y((...a)=>o.handleGenerateBarcode&&o.handleGenerateBarcode(...a),["prevent"])),class:"flex items-center w-full px-4 py-2 text-sm text-charcoal-700 hover:bg-charcoal-50 transition-colors",role:"menuitem"},[c(C,{class:"w-4 h-4 mr-3 text-charcoal-600"}),e[37]||(e[37]=x(" Update Barcode ",-1))]),t("button",{onClick:e[7]||(e[7]=Y((...a)=>o.handlePrintBarcode&&o.handlePrintBarcode(...a),["prevent"])),class:"flex items-center w-full px-4 py-2 text-sm text-charcoal-700 hover:bg-charcoal-50 transition-colors",role:"menuitem"},[c(G,{class:"w-4 h-4 mr-3 text-charcoal-600"}),e[38]||(e[38]=x(" Print Barcode ",-1))])])])):m("",!0)],512)])]),t("div",he,[t("div",be,[t("div",pe,[t("div",ye,[t("div",we,[t("div",ve,[t("div",_e,[c(y,{class:"w-5 h-5 text-blue-600"})]),e[40]||(e[40]=t("h2",{class:"text-lg font-semibold text-charcoal-900"},"Gift Information",-1))]),t("div",ke,[t("div",null,[e[41]||(e[41]=t("label",{class:"block text-sm font-medium text-charcoal-600 mb-1"},"Gift Name",-1)),t("p",Ie,i(o.gift.gift_name),1)]),t("div",null,[e[42]||(e[42]=t("label",{class:"block text-sm font-medium text-charcoal-600 mb-1"},"Gift Code",-1)),t("p",Ce,i(o.gift.gift_id),1)]),o.gift.gender?(r(),l("div",De,[e[43]||(e[43]=t("label",{class:"block text-sm font-medium text-charcoal-600 mb-1"},"Gender",-1)),t("p",Me,i(o.gift.gender),1)])):m("",!0),t("div",null,[e[44]||(e[44]=t("label",{class:"block text-sm font-medium text-charcoal-600 mb-1"},"Category",-1)),t("span",Be,i(o.formatCategory(o.gift.category)),1)]),t("div",null,[e[45]||(e[45]=t("label",{class:"block text-sm font-medium text-charcoal-600 mb-1"},"Status",-1)),t("div",Pe,[t("span",{class:it(["inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",o.getStatusClasses(o.gift.status)])},[t("span",{class:it(["w-2 h-2 rounded-full mr-2",o.getStatusDotClasses(o.gift.status)])},null,2),x(" "+i(o.getStatusText(o.gift.status)),1)],2)])]),o.gift.description?(r(),l("div",Ae,[e[46]||(e[46]=t("label",{class:"block text-sm font-medium text-charcoal-600 mb-2"},"Description",-1)),t("p",je,i(o.gift.description),1)])):m("",!0)])]),t("div",Ge,[t("div",Te,[t("div",Ee,[t("div",Ne,[c(N,{class:"w-5 h-5 text-green-600"})]),e[47]||(e[47]=t("h2",{class:"text-lg font-semibold text-charcoal-900"},"Barcode",-1))]),t("button",{onClick:e[8]||(e[8]=(...a)=>o.openBarcodeModal&&o.openBarcodeModal(...a)),class:"text-sm text-blue-600 hover:text-blue-700 font-medium"}," Update ")]),t("div",Se,[t("div",Ue,[o.gift.barcode?(r(),l("div",Ve,[t("img",{src:o.gift.barcode,alt:"Barcode",class:"w-full h-full object-contain"},null,8,Le)])):(r(),l("div",Fe,[t("div",He,[c(N,{class:"w-8 h-8 text-charcoal-400 mx-auto mb-1"}),e[48]||(e[48]=t("p",{class:"text-xs text-charcoal-500"},"No barcode",-1))])]))]),t("div",null,[e[49]||(e[49]=t("label",{class:"block text-sm font-medium text-charcoal-600 mb-1"},"Barcode ID",-1)),t("div",ze,[t("code",Oe,i(o.gift.barcode_value||"Not generated"),1),o.gift.barcode_value?(r(),l("button",{key:0,onClick:e[9]||(e[9]=(...a)=>o.copyCode&&o.copyCode(...a)),class:"p-2 text-charcoal-500 hover:text-charcoal-700 transition-colors rounded",title:"Copy barcode ID"},[c(S,{class:"w-4 h-4"})])):m("",!0)])]),t("div",Re,[t("button",{onClick:e[10]||(e[10]=(...a)=>o.openBarcodeModal&&o.openBarcodeModal(...a)),class:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-gray-600 text-sm font-medium rounded-lg text-white bg-gray-600 hover:bg-gray-700 transition-colors"},[c(C,{class:"w-4 h-4 mr-2"}),e[50]||(e[50]=x(" Update ",-1))]),o.gift.barcode?(r(),l("button",{key:0,onClick:e[11]||(e[11]=(...a)=>o.printBarcode&&o.printBarcode(...a)),class:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-charcoal-300 text-sm font-medium rounded-lg text-charcoal-700 bg-white hover:bg-charcoal-50 transition-colors"},[c(G,{class:"w-4 h-4 mr-2"}),e[51]||(e[51]=x(" Print ",-1))])):m("",!0)])])])]),o.gift.additional_attributes&&o.gift.additional_attributes.length>0?(r(),l("div",qe,[t("div",Ye,[t("div",Qe,[c(D,{class:"w-5 h-5 text-orange-600"})]),e[52]||(e[52]=t("h2",{class:"text-lg font-semibold text-charcoal-900"},"Additional Attributes",-1))]),t("div",We,[(r(!0),l($,null,tt(o.gift.additional_attributes,(a,P)=>(r(),l("div",{key:P,class:"bg-charcoal-50 rounded-lg p-4"},[t("label",Xe,i(a.attribute_name),1),t("p",Ze,i(a.attribute_value),1)]))),128))])])):m("",!0),o.gift.images&&o.gift.images.length>0?(r(),l("div",Ke,[t("div",Je,[t("div",$e,[c(k,{class:"w-5 h-5 text-pink-600"})]),e[53]||(e[53]=t("h2",{class:"text-lg font-semibold text-charcoal-900"},"Gift Images",-1)),t("span",to,"("+i(o.gift.images.length)+")",1)]),t("div",eo,[(r(!0),l($,null,tt(o.gift.images,(a,P)=>(r(),l("div",{key:P,class:"relative group cursor-pointer",onClick:et=>o.openImageModal(a.image)},[t("div",so,[c(w,{src:a.image,alt:`Gift image ${P+1}`,"image-class":"w-full h-full object-cover transition-transform group-hover:scale-105","container-class":"w-full h-full","placeholder-class":"w-full h-full"},null,8,["src","alt"])]),t("div",ao,[c(k,{class:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})])],8,oo))),128))])])):m("",!0),t("div",lo,[t("div",ro,[t("div",no,[t("div",io,[t("div",co,[c(U,{class:"w-5 h-5 text-blue-600"})]),e[54]||(e[54]=t("h2",{class:"text-lg font-semibold text-charcoal-900"},"Issued To",-1))]),t("span",mo,i(o.dispatchHistory.length)+" record"+i(o.dispatchHistory.length!==1?"s":""),1)]),o.loadingDispatchHistory?(r(),l("div",uo,[...e[55]||(e[55]=[t("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900 mx-auto"},null,-1),t("p",{class:"text-charcoal-600 mt-2 text-sm"},"Loading...",-1)])])):o.dispatchHistory.length?(r(),l("div",go,[(r(!0),l($,null,tt(o.dispatchHistory,(a,P)=>(r(),l("div",{key:a.name,class:"bg-blue-50 rounded-lg p-4"},[t("div",xo,[t("div",ho,[t("p",bo,i(`${a.owner_full_name||""} ${a.owner_full_name||""}`.trim()||"N/A"),1),t("p",po,i(a.mobile_number||"N/A"),1),t("p",yo,i(o.formatDate(a.date)),1)]),t("div",wo,[a.person_photo?(r(),l("button",{key:0,onClick:et=>o.openPersonModal(a),class:"p-1 text-charcoal-500 hover:text-charcoal-700 transition-colors rounded",title:"View person details"},[c(k,{class:"w-4 h-4"})],8,vo)):m("",!0),c(Q,{to:`/issues/${a.name}`,class:"p-1 text-charcoal-500 hover:text-charcoal-700 transition-colors rounded",title:"View dispatch details"},{default:zt(()=>[c(V,{class:"w-4 h-4"})]),_:1},8,["to"])])])]))),128))])):(r(),l("div",fo,[c(u,{class:"w-10 h-10 text-charcoal-400 mx-auto mb-3"}),e[56]||(e[56]=t("p",{class:"text-charcoal-600 text-sm"},"No dispatch records yet",-1))]))]),t("div",_o,[t("div",ko,[t("div",Io,[t("div",Co,[c(B,{class:"w-5 h-5 text-yellow-600"})]),e[57]||(e[57]=t("h2",{class:"text-lg font-semibold text-charcoal-900"},"Interested By",-1))]),t("div",Do,[t("span",Mo,i(o.interests.length)+" interest"+i(o.interests.length!==1?"s":""),1),t("button",{onClick:e[12]||(e[12]=a=>o.showAddInterest=!0),class:"text-sm text-blue-600 hover:text-blue-700 font-medium",title:"Add new interest"}," Add ")])]),o.loadingInterests?(r(),l("div",Bo,[...e[58]||(e[58]=[t("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900 mx-auto"},null,-1),t("p",{class:"text-charcoal-600 mt-2 text-sm"},"Loading...",-1)])])):o.interests.length?(r(),l("div",Ao,[(r(!0),l($,null,tt(o.interests,(a,P)=>(r(),l("div",{key:a.name,class:"bg-yellow-50 rounded-lg p-4"},[t("div",jo,[t("div",Go,[t("p",To,i(`${a.owner_full_name||""} ${a.owner_full_name||""}`.trim()||"N/A"),1),t("p",Eo,i(a.mobile_number||"N/A"),1),t("p",No,i(o.formatDate(a.creation)),1)]),e[60]||(e[60]=t("span",{class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-200 text-yellow-800"}," Interested ",-1))])]))),128))])):(r(),l("div",Po,[c(B,{class:"w-10 h-10 text-charcoal-400 mx-auto mb-3"}),e[59]||(e[59]=t("p",{class:"text-charcoal-600 text-sm"},"No interests recorded",-1)),o.gift.status==="Issued"?(r(),l("button",{key:0,onClick:e[13]||(e[13]=a=>o.showAddInterest=!0),class:"mt-2 text-sm text-blue-600 hover:text-blue-700 font-medium"}," Add the first interest ")):m("",!0)]))])])]),t("div",So,[t("div",Uo,[e[64]||(e[64]=t("h3",{class:"text-lg font-semibold text-charcoal-900 mb-4"},"Quick Actions",-1)),t("div",Vo,[o.gift.status==="Available"?(r(),l("button",{key:0,onClick:e[14]||(e[14]=(...a)=>o.issueGift&&o.issueGift(...a)),class:"w-full inline-flex items-center justify-center px-4 py-3 border border-transparent text-sm font-medium rounded-lg text-white bg-gray-600 hover:bg-gray-700 transition-colors"},[c(y,{class:"w-4 h-4 mr-2"}),e[61]||(e[61]=x(" Dispatch Gift ",-1))])):m("",!0),o.gift.status==="Issued"?(r(),l("button",{key:1,onClick:e[15]||(e[15]=a=>o.showAddInterest=!0),class:"w-full inline-flex items-center justify-center px-4 py-3 border border-transparent text-sm font-medium rounded-lg text-white bg-gray-600 hover:bg-gray-700 transition-colors"},[c(B,{class:"w-4 h-4 mr-2"}),e[62]||(e[62]=x(" Add Interest ",-1))])):m("",!0),t("button",{onClick:e[16]||(e[16]=(...a)=>o.editGift&&o.editGift(...a)),class:"w-full inline-flex items-center justify-center px-4 py-3 border border-charcoal-300 text-sm font-medium rounded-lg text-charcoal-700 bg-white hover:bg-charcoal-50 transition-colors"},[c(b,{class:"w-4 h-4 mr-2"}),e[63]||(e[63]=x(" Edit Gift ",-1))])])]),t("div",Lo,[e[69]||(e[69]=t("h3",{class:"text-lg font-semibold text-charcoal-900 mb-4"},"Metadata",-1)),t("div",Fo,[t("div",null,[e[65]||(e[65]=t("label",{class:"block text-sm font-medium text-charcoal-600 mb-1"},"Created",-1)),t("p",Ho,i(o.formatDate(o.gift.creation)),1)]),t("div",null,[e[66]||(e[66]=t("label",{class:"block text-sm font-medium text-charcoal-600 mb-1"},"Modified",-1)),t("p",zo,i(o.formatDate(o.gift.modified)),1)]),t("div",null,[e[67]||(e[67]=t("label",{class:"block text-sm font-medium text-charcoal-600 mb-1"},"Created by",-1)),t("p",Oo,i(o.gift.owner||"System"),1)]),o.gift.docstatus?(r(),l("div",Ro,[e[68]||(e[68]=t("label",{class:"block text-sm font-medium text-charcoal-600 mb-1"},"Document Status",-1)),t("p",qo,i(o.getDocStatus(o.gift.docstatus)),1)])):m("",!0)])]),t("div",Yo,[e[74]||(e[74]=t("h3",{class:"text-lg font-semibold text-charcoal-900 mb-4"},"Statistics",-1)),t("div",Qo,[t("div",Wo,[e[70]||(e[70]=t("span",{class:"text-sm text-charcoal-600"},"Total Dispatches",-1)),t("span",Xo,i(o.dispatchHistory.length),1)]),t("div",Zo,[e[71]||(e[71]=t("span",{class:"text-sm text-charcoal-600"},"Total Interests",-1)),t("span",Ko,i(o.interests.length),1)]),t("div",Jo,[e[72]||(e[72]=t("span",{class:"text-sm text-charcoal-600"},"Images",-1)),t("span",$o,i(((T=o.gift.images)==null?void 0:T.length)||0),1)]),t("div",ts,[e[73]||(e[73]=t("span",{class:"text-sm text-charcoal-600"},"Attributes",-1)),t("span",es,i(((L=o.gift.additional_attributes)==null?void 0:L.length)||0),1)])])])])])])])),o.showImageModal?(r(),l("div",os,[t("div",ss,[t("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:e[17]||(e[17]=(...a)=>o.closeImageModal&&o.closeImageModal(...a))},[...e[75]||(e[75]=[t("div",{class:"absolute inset-0 bg-charcoal-500 opacity-75"},null,-1)])]),t("div",as,[t("div",ls,[t("div",rs,[e[77]||(e[77]=t("h3",{class:"text-lg leading-6 font-medium text-charcoal-900"}," Gift Image ",-1)),t("button",{onClick:e[18]||(e[18]=(...a)=>o.closeImageModal&&o.closeImageModal(...a)),class:"text-charcoal-400 hover:text-charcoal-600 transition-colors"},[...e[76]||(e[76]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",ns,[c(w,{src:o.selectedImage,alt:"Gift Image","image-class":"max-w-full max-h-96 object-contain rounded-lg","container-class":"flex justify-center","placeholder-class":"w-32 h-32"},null,8,["src"])])]),t("div",is,[t("button",{onClick:e[19]||(e[19]=(...a)=>o.closeImageModal&&o.closeImageModal(...a)),type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-gray-600 text-base font-medium text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 sm:ml-3 sm:w-auto sm:text-sm"}," Close ")])])])])):m("",!0),o.showPersonModal?(r(),l("div",cs,[t("div",ds,[t("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:e[20]||(e[20]=(...a)=>o.closePersonModal&&o.closePersonModal(...a))},[...e[78]||(e[78]=[t("div",{class:"absolute inset-0 bg-charcoal-500 opacity-75"},null,-1)])]),t("div",ms,[t("div",us,[t("div",fs,[t("div",gs,[e[85]||(e[85]=t("h3",{class:"text-lg leading-6 font-medium text-charcoal-900 mb-4"}," Person Details ",-1)),t("div",xs,[(F=o.currentPersonData)!=null&&F.person_photo?(r(),l("div",hs,[t("div",bs,[t("img",{src:o.currentPersonData.person_photo,alt:"Person Photo",class:"w-full h-full object-cover"},null,8,ps)])])):m("",!0),t("div",ys,[t("div",null,[e[79]||(e[79]=t("label",{class:"block text-sm font-medium text-charcoal-700"},"Owner Name",-1)),t("p",ws,i(`${((H=o.currentPersonData)==null?void 0:H.owner_full_name)||""} ${((z=o.currentPersonData)==null?void 0:z.owner_full_name)||""}`.trim()||"N/A"),1)]),t("div",null,[e[80]||(e[80]=t("label",{class:"block text-sm font-medium text-charcoal-700"},"Coordinator Name",-1)),t("p",vs,i(`${((E=o.currentPersonData)==null?void 0:E.coordinator_full_name)||""} ${((O=o.currentPersonData)==null?void 0:O.coordinator_full_name)||""}`.trim()||"N/A"),1)]),t("div",null,[e[81]||(e[81]=t("label",{class:"block text-sm font-medium text-charcoal-700"},"Mobile Number",-1)),t("p",_s,i(((Z=o.currentPersonData)==null?void 0:Z.mobile_number)||"N/A"),1)]),t("div",null,[e[82]||(e[82]=t("label",{class:"block text-sm font-medium text-charcoal-700"},"Emirates ID",-1)),t("p",ks,i(((R=o.currentPersonData)==null?void 0:R.emirates_id)||"N/A"),1)]),(q=o.currentPersonData)!=null&&q.address?(r(),l("div",Is,[e[83]||(e[83]=t("label",{class:"block text-sm font-medium text-charcoal-700"},"Address",-1)),t("p",Cs,i(o.currentPersonData.address),1)])):m("",!0),t("div",null,[e[84]||(e[84]=t("label",{class:"block text-sm font-medium text-charcoal-700"},"Dispatch Date",-1)),t("p",Ds,i(o.formatDate(((K=o.currentPersonData)==null?void 0:K.issued_date)||((J=o.currentPersonData)==null?void 0:J.date))),1)])])])])])]),t("div",Ms,[t("button",{onClick:e[21]||(e[21]=(...a)=>o.closePersonModal&&o.closePersonModal(...a)),type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-gray-600 text-base font-medium text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 sm:ml-3 sm:w-auto sm:text-sm"}," Close ")])])])])):m("",!0),o.showBarcodeModal?(r(),l("div",Bs,[t("div",Ps,[t("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:e[22]||(e[22]=(...a)=>o.closeBarcodeModal&&o.closeBarcodeModal(...a))},[...e[86]||(e[86]=[t("div",{class:"absolute inset-0 bg-charcoal-500 opacity-75"},null,-1)])]),t("div",As,[t("div",js,[t("div",Gs,[e[87]||(e[87]=t("h3",{class:"text-lg leading-6 font-medium text-charcoal-900"}," Update Barcode ",-1)),t("button",{onClick:e[23]||(e[23]=(...a)=>o.closeBarcodeModal&&o.closeBarcodeModal(...a)),class:"text-charcoal-400 hover:text-charcoal-600 transition-colors"},[c(W,{class:"w-6 h-6"})])]),t("div",Ts,[o.gift.barcode_value?(r(),l("div",Es,[e[88]||(e[88]=t("div",{class:"text-sm text-charcoal-600 mb-1"},"Current Barcode ID:",-1)),t("code",Ns,i(o.gift.barcode_value),1)])):m("",!0),t("div",Ss,[t("div",Us,[ot(t("input",{id:"auto_generate","onUpdate:modelValue":e[24]||(e[24]=a=>o.barcodeUpdateType=a),type:"radio",value:"auto",class:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-charcoal-300"},null,512),[[ct,o.barcodeUpdateType]]),e[89]||(e[89]=t("label",{for:"auto_generate",class:"ml-2 block text-sm text-charcoal-900"}," Auto-generate new barcode ",-1))]),t("div",Vs,[ot(t("input",{id:"manual_entry","onUpdate:modelValue":e[25]||(e[25]=a=>o.barcodeUpdateType=a),type:"radio",value:"manual",class:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-charcoal-300"},null,512),[[ct,o.barcodeUpdateType]]),e[90]||(e[90]=t("label",{for:"manual_entry",class:"ml-2 block text-sm text-charcoal-900"}," Enter custom barcode ID ",-1))])]),o.barcodeUpdateType==="manual"?(r(),l("div",Ls,[e[91]||(e[91]=t("label",{for:"new_barcode_value",class:"block text-sm font-medium text-charcoal-700"}," New Barcode ID * ",-1)),ot(t("input",{id:"new_barcode_value","onUpdate:modelValue":e[26]||(e[26]=a=>o.newBarcodeValue=a),type:"text",required:"",class:"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent",placeholder:"Enter new barcode ID"},null,512),[[Ot,o.newBarcodeValue]]),o.barcodeError?(r(),l("p",Fs,i(o.barcodeError),1)):m("",!0)])):m("",!0),o.barcodeUpdateType==="auto"?(r(),l("div",Hs,[...e[92]||(e[92]=[t("div",{class:"flex items-center space-x-2"},[t("svg",{class:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),t("span",{class:"text-sm text-blue-700"},"A new unique barcode ID will be automatically generated")],-1)])])):m("",!0)])]),t("div",zs,[t("button",{onClick:e[27]||(e[27]=(...a)=>o.updateBarcode&&o.updateBarcode(...a)),disabled:o.barcodeUpdateLoading||o.barcodeUpdateType==="manual"&&!o.newBarcodeValue.trim(),type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-gray-600 text-base font-medium text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"},[o.barcodeUpdateLoading?(r(),l("span",Rs,[...e[93]||(e[93]=[t("svg",{class:"animate-spin -ml-1 mr-1 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):m("",!0),x(" "+i(o.barcodeUpdateLoading?"Updating...":"Update Barcode"),1)],8,Os),t("button",{onClick:e[28]||(e[28]=(...a)=>o.closeBarcodeModal&&o.closeBarcodeModal(...a)),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-charcoal-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-charcoal-700 hover:bg-charcoal-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 sm:mt-0 sm:mr-3 sm:w-auto sm:text-sm"}," Cancel ")])])])])):m("",!0),c(X,{show:o.showAddInterest,"gift-id":o.gift.name,onClose:e[29]||(e[29]=a=>o.showAddInterest=!1),onSuccess:o.handleInterestSuccess},null,8,["show","gift-id","onSuccess"])])}const Ks=Ct(ae,[["render",qs],["__scopeId","data-v-03ed76ca"]]);export{Ks as default};
//# sourceMappingURL=GiftDetail-D5fWAw80.js.map
