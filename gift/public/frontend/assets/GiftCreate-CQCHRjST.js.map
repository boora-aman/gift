{"version":3,"file":"GiftCreate-CQCHRjST.js","sources":["../../../../frontend/src/views/gifts/GiftCreate.vue"],"sourcesContent":["<template>\n\t<div class=\"min-h-full bg-desert-sand-50\">\n\t\t<div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 safe-area-padding\">\n\t\t\t<!-- Back Button -->\n\t\t\t<div class=\"mb-6\">\n\t\t\t\t<button @click=\"$router.push('/gifts')\"\n\t\t\t\t\tclass=\"inline-flex items-center px-4 py-2 text-sm font-medium text-charcoal-600 bg-white border border-charcoal-300 rounded-lg hover:bg-charcoal-50 transition-colors\">\n\t\t\t\t\t<ArrowLeftIcon class=\"w-4 h-4 mr-2\" />\n\t\t\t\t\tBack to Gift Inventory\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<GiftForm ref=\"giftFormRef\" :is-edit-mode=\"false\" @submit=\"createGift\" />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useNotifications } from '@composables/useNotifications'\nimport { GiftAPI } from '@services/api'\nimport GiftForm from '@/components/GiftForm.vue'\n\n// Icons\nimport { ArrowLeftIcon } from '@heroicons/vue/24/outline'\n\nexport default {\n\tname: 'GiftCreate',\n\tcomponents: {\n\t\tArrowLeftIcon,\n\t\tGiftForm\n\t},\n\tsetup() {\n\t\tconst router = useRouter()\n\t\tconst { showNotification } = useNotifications()\n\n\t\t// State\n\t\tconst loading = ref(false)\n\t\tconst giftFormRef = ref(null)\n\n\t\t// Methods\n\t\tconst createGift = async (formData) => {\n\t\t\ttry {\n\t\t\t\tloading.value = true\n\n\t\t\t\tconst giftData = {\n\t\t\t\t\tgift_name: formData.gift_name,\n\t\t\t\t\tgift_id: formData.gift_id,\n\t\t\t\t\tgender: formData.gender,\n\t\t\t\t\tcategory: formData.category,\n\t\t\t\t\tdescription: formData.description,\n\t\t\t\t\tstatus: formData.status,\n\t\t\t\t\timport_barcode: formData.import_barcode,\n\t\t\t\t\tbarcode_value: formData.import_barcode ? formData.barcode_value : null,\n\t\t\t\t\tgift_additional_attributes: formData.gift_additional_attributes?.filter(attr =>\n\t\t\t\t\t\tattr.attribute_name && attr.attribute_value\n\t\t\t\t\t) || [],\n\t\t\t\t\tgift_images: formData.gift_images || []\n\t\t\t\t}\n\n\t\t\t\tconst response = await GiftAPI.create(giftData)\n\n\t\t\t\tif (response.success) {\n\t\t\t\t\tshowNotification('Gift created successfully', 'success')\n\t\t\t\t\t// Redirect to the detail view of the created gift\n\t\t\t\t\trouter.push(`/gifts/${response.data.name}`)\n\t\t\t\t} else {\n\t\t\t\t\tshowNotification(response.error || 'Failed to create gift', 'error')\n\t\t\t\t}\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Failed to create gift:', error)\n\t\t\t\tshowNotification('Failed to create gift. Please try again.', 'error')\n\t\t\t} finally {\n\t\t\t\tloading.value = false\n\t\t\t\tif (giftFormRef.value) {\n\t\t\t\t\tgiftFormRef.value.resetSaving()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tloading,\n\t\t\tgiftFormRef,\n\t\t\tcreateGift\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n/* Transitions */\n.transition-colors {\n\ttransition-property: color, background-color, border-color;\n\ttransition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n\ttransition-duration: 200ms;\n}\n\n/* Accessibility */\n@media (prefers-reduced-motion: reduce) {\n\t.transition-colors {\n\t\ttransition: none !important;\n\t}\n}\n\n/* High contrast mode */\n@media (prefers-contrast: high) {\n\t.shadow-card {\n\t\tborder: 1px solid #374151;\n\t}\n}\n</style>\n"],"names":["_sfc_main","ArrowLeftIcon","GiftForm","router","useRouter","showNotification","useNotifications","loading","ref","giftFormRef","formData","__async","giftData","_a","attr","response","GiftAPI","error","_hoisted_1","_hoisted_2","_hoisted_3","_openBlock","_createElementBlock","_createElementVNode","_cache","$event","_ctx","_createVNode","_component_ArrowLeftIcon","_component_GiftForm","$setup"],"mappings":"6aA2BA,MAAKA,EAAU,CACd,KAAM,aACN,WAAY,eACXC,EACA,SAAAC,GAED,OAAQ,CACP,MAAMC,EAASC,EAAS,EAClB,CAAE,iBAAAC,CAAe,EAAMC,EAAgB,EAGvCC,EAAUC,EAAI,EAAK,EACnBC,EAAcD,EAAI,IAAI,EA2C5B,MAAO,CACN,QAAAD,EACA,YAAAE,EACA,WA3CyBC,GAAaC,EAAA,4BACtC,GAAI,CACHJ,EAAQ,MAAQ,GAEhB,MAAMK,EAAW,CAChB,UAAWF,EAAS,UACpB,QAASA,EAAS,QAClB,OAAQA,EAAS,OACjB,SAAUA,EAAS,SACnB,YAAaA,EAAS,YACtB,OAAQA,EAAS,OACjB,eAAgBA,EAAS,eACzB,cAAeA,EAAS,eAAiBA,EAAS,cAAgB,KAClE,6BAA4BG,EAAAH,EAAS,6BAAT,YAAAG,EAAqC,OAAOC,GACvEA,EAAK,gBAAkBA,EAAK,mBACxB,CAAA,EACL,YAAaJ,EAAS,aAAe,CAAA,CACtC,EAEMK,EAAW,MAAMC,EAAQ,OAAOJ,CAAQ,EAE1CG,EAAS,SACZV,EAAiB,4BAA6B,SAAS,EAEvDF,EAAO,KAAK,UAAUY,EAAS,KAAK,IAAI,EAAE,GAE1CV,EAAiBU,EAAS,OAAS,wBAAyB,OAAO,CAGrE,OAASE,EAAO,CACf,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CZ,EAAiB,2CAA4C,OAAO,CACrE,QAAA,CACCE,EAAQ,MAAQ,GACZE,EAAY,OACfA,EAAY,MAAM,YAAW,CAE/B,CACD,EAMA,CACD,CACD,EAvFMS,EAAA,CAAA,MAAM,8BAA8B,EACnCC,EAAA,CAAA,MAAM,+DAA+D,EAEpEC,EAAA,CAAA,MAAM,MAAM,qEAHnB,OAAAC,EAAA,EAAAC,EAaM,MAbNJ,EAaM,CAZLK,EAWM,MAXNJ,EAWM,CATLI,EAMM,MANNH,EAMM,CALLG,EAIS,SAAA,CAJA,QAAKC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAEC,EAAA,QAAQ,KAAI,QAAA,GAC3B,MAAM,mKACNC,EAAsCC,EAAA,CAAvB,MAAM,cAAc,CAAA,gBAAG,2BAEvC,EAAA,OAGDD,EAAyEE,EAAA,CAA/D,IAAI,cAAe,eAAc,GAAQ,SAAQC,EAAA"}