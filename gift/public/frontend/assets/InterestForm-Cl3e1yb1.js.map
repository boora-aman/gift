{"version":3,"file":"InterestForm-Cl3e1yb1.js","sources":["../../../../frontend/src/components/CreateRecipientModal.vue","../../../../frontend/src/components/InterestForm.vue"],"sourcesContent":["<template>\n  <!-- Create Recipient Modal -->\n  <div v-if=\"show\" class=\"fixed inset-0 z-50 overflow-y-auto\">\n    <div class=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n      <!-- Background overlay -->\n      <div class=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\" @click=\"closeModal\">\n        <div class=\"absolute inset-0 bg-charcoal-500 opacity-75\"></div>\n      </div>\n\n      <!-- Modal panel -->\n      <div class=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full\">\n        <div class=\"bg-white px-6 pt-6 pb-4\">\n          <!-- Form Header -->\n          <div class=\"flex justify-between items-center mb-6\">\n            <div>\n              <h3 class=\"text-xl font-semibold text-charcoal-900\">Create New Recipient</h3>\n              <p class=\"text-sm text-charcoal-600 mt-1\">\n                Add recipient details that can be reused for future gifts\n              </p>\n            </div>\n            <button @click=\"closeModal\" class=\"text-charcoal-400 hover:text-charcoal-600 transition-colors\">\n              <XMarkIcon class=\"w-6 h-6\" />\n            </button>\n          </div>\n\n          <!-- Create Recipient Form -->\n          <form @submit.prevent=\"createRecipient\" class=\"space-y-6\">\n\n            <!-- Owner Details -->\n            <div class=\"bg-charcoal-50 rounded-lg p-4\">\n              <h4 class=\"text-sm font-medium text-charcoal-900 mb-4\">Owner Details</h4>\n              <div>\n                <label for=\"owner_full_name\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                  Owner Full Name <span class=\"text-red-500\">*</span>\n                </label>\n                <input \n                  id=\"owner_full_name\" \n                  v-model=\"form.owner_full_name\" \n                  type=\"text\" \n                  required\n                  class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n                  placeholder=\"Enter owner full name\"\n                  :class=\"{ 'border-red-500': errors.owner_full_name }\" \n                />\n                <p v-if=\"errors.owner_full_name\" class=\"mt-1 text-sm text-red-600\">{{ errors.owner_full_name }}</p>\n              </div>\n            </div>\n\n            <!-- Coordinator Details -->\n            <div class=\"bg-charcoal-50 rounded-lg p-4\">\n              <h4 class=\"text-sm font-medium text-charcoal-900 mb-4\">Coordinator Details</h4>\n              <div class=\"space-y-4\">\n                <div>\n                  <label for=\"coordinator_full_name\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                    Coordinator Full Name <span class=\"text-red-500\">*</span>\n                  </label>\n                  <input \n                    id=\"coordinator_full_name\" \n                    v-model=\"form.coordinator_full_name\" \n                    type=\"text\"\n                    required\n                    class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n                    placeholder=\"Enter coordinator full name\"\n                    :class=\"{ 'border-red-500': errors.coordinator_full_name }\" \n                  />\n                  <p v-if=\"errors.coordinator_full_name\" class=\"mt-1 text-sm text-red-600\">{{ errors.coordinator_full_name }}</p>\n                </div>\n\n                <div>\n                  <label for=\"mobile_number\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                    Mobile Number <span class=\"text-red-500\">*</span>\n                  </label>\n                  <input \n                    id=\"mobile_number\" \n                    v-model=\"form.mobile_number\" \n                    type=\"tel\"\n                    required\n                    class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n                    placeholder=\"Enter mobile number\"\n                    :class=\"{ 'border-red-500': errors.mobile_number }\" \n                  />\n                  <p v-if=\"errors.mobile_number\" class=\"mt-1 text-sm text-red-600\">{{ errors.mobile_number }}</p>\n                </div>\n\n                <div>\n                  <label for=\"emirates_id\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                    Emirates ID\n                  </label>\n                  <input \n                    id=\"emirates_id\" \n                    v-model=\"form.emirates_id\" \n                    type=\"text\"\n                    class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n                    placeholder=\"Enter Emirates ID (optional)\"\n                    :class=\"{ 'border-red-500': errors.emirates_id }\" \n                  />\n                  <p v-if=\"errors.emirates_id\" class=\"mt-1 text-sm text-red-600\">{{ errors.emirates_id }}</p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Additional Details -->\n            <div class=\"bg-charcoal-50 rounded-lg p-4\">\n              <h4 class=\"text-sm font-medium text-charcoal-900 mb-4\">Additional Details</h4>\n              <div>\n                <label for=\"address\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n                  Address\n                </label>\n                <textarea \n                  id=\"address\" \n                  v-model=\"form.address\" \n                  rows=\"3\"\n                  class=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n                  placeholder=\"Enter address (optional)\"\n                  :class=\"{ 'border-red-500': errors.address }\" \n                ></textarea>\n                <p v-if=\"errors.address\" class=\"mt-1 text-sm text-red-600\">{{ errors.address }}</p>\n              </div>\n            </div>\n\n            <!-- Form Actions -->\n            <div class=\"flex justify-end space-x-3 pt-4 border-t border-charcoal-200\">\n              <button\n                type=\"button\"\n                @click=\"closeModal\"\n                class=\"px-4 py-2 text-sm font-medium text-charcoal-700 bg-charcoal-100 border border-charcoal-300 rounded-lg hover:bg-charcoal-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-charcoal-500 transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                :disabled=\"submitting\"\n                class=\"px-4 py-2 text-sm font-medium text-white bg-gray-600 border border-transparent rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                <span v-if=\"submitting\" class=\"flex items-center\">\n                  <svg class=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                    <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                  Creating...\n                </span>\n                <span v-else>Create Recipient</span>\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, watch } from 'vue'\nimport { useNotifications } from '@composables/useNotifications'\nimport { XMarkIcon } from '@heroicons/vue/24/outline'\n\nexport default {\n  name: 'CreateRecipientModal',\n  components: {\n    XMarkIcon\n  },\n  props: {\n    show: {\n      type: Boolean,\n      default: false\n    },\n    editData: {\n      type: Object,\n      default: null\n    }\n  },\n  emits: ['close', 'created'],\n  setup(props, { emit }) {\n    const { showNotification } = useNotifications()\n\n    // Form state\n    const form = reactive({\n      owner_full_name: '',\n      coordinator_full_name: '',\n      mobile_number: '',\n      emirates_id: '',\n      address: '',\n      person_photo: ''\n    })\n\n    const errors = reactive({})\n    const submitting = ref(false)\n\n    // Watch for edit data\n    watch(() => props.editData, (newData) => {\n      if (newData) {\n        Object.assign(form, newData)\n      }\n    }, { immediate: true })\n\n    // Reset form when modal is closed\n    watch(() => props.show, (show) => {\n      if (!show) {\n        resetForm()\n      }\n    })\n\n    const resetForm = () => {\n      Object.assign(form, {\n        owner_full_name: '',\n        coordinator_full_name: '',\n        mobile_number: '',\n        emirates_id: '',\n        address: '',\n        person_photo: ''\n      })\n      Object.keys(errors).forEach(key => delete errors[key])\n      submitting.value = false\n    }\n\n    const validateForm = () => {\n      Object.keys(errors).forEach(key => delete errors[key])\n\n      // Owner name validation\n      if (!form.owner_full_name.trim()) {\n        errors.owner_full_name = 'Owner full name is required'\n      }\n\n      // Coordinator name validation\n      if (!form.coordinator_full_name.trim()) {\n        errors.coordinator_full_name = 'Coordinator full name is required'\n      }\n\n      // Mobile number validation\n      if (!form.mobile_number.trim()) {\n        errors.mobile_number = 'Mobile number is required'\n      } else {\n        // Enhanced UAE mobile number validation\n        const cleanMobile = form.mobile_number.replace(/[\\s\\-\\+\\(\\)]/g, '')\n        \n        // Check patterns for UAE mobile numbers\n        const patterns = [\n          /^971(50|51|52|54|55|56|58)\\d{7}$/, // With country code 971\n          /^(50|51|52|54|55|56|58)\\d{7}$/,    // Without country code\n        ]\n        \n        const isValid = patterns.some(pattern => pattern.test(cleanMobile))\n        if (!isValid) {\n          errors.mobile_number = 'Please enter a valid UAE mobile number (e.g., 971501234567 or 501234567)'\n        }\n      }\n\n      // Emirates ID validation (optional)\n      if (form.emirates_id && form.emirates_id.trim()) {\n        const cleanEmiratesId = form.emirates_id.replace(/[\\s\\-]/g, '')\n        if (!/^\\d{15}$/.test(cleanEmiratesId)) {\n          errors.emirates_id = 'Emirates ID must be 15 digits'\n        } else if (!cleanEmiratesId.startsWith('784')) {\n          errors.emirates_id = 'Emirates ID should start with 784'\n        }\n      }\n\n      return Object.keys(errors).length === 0\n    }\n\n    const createRecipient = async () => {\n      if (!validateForm()) {\n        return\n      }\n\n      submitting.value = true\n\n      try {\n        // Normalize mobile number before sending\n        let normalizedMobile = form.mobile_number.replace(/[\\s\\-\\+\\(\\)]/g, '')\n        // Add country code if not present\n        if (!normalizedMobile.startsWith('971') && normalizedMobile.length === 9) {\n          normalizedMobile = '971' + normalizedMobile\n        }\n\n        // Call API to create recipient\n        const response = await fetch('/api/method/gift.api_v2.create_or_get_recipient', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-Frappe-CSRF-Token': window.csrf_token || ''\n          },\n          body: JSON.stringify({\n            owner_full_name: form.owner_full_name.trim(),\n            coordinator_full_name: form.coordinator_full_name.trim(),\n            mobile_number: normalizedMobile,\n            emirates_id: form.emirates_id.trim() || null,\n            address: form.address.trim() || null,\n            person_photo: form.person_photo || null\n          })\n        })\n\n        const data = await response.json()\n\n        if (data.message && data.message.success) {\n          showNotification('Recipient created successfully', 'success')\n          // Emit the created recipient data\n          emit('created', data.message.data)\n          closeModal()\n        } else if (data.exc && data.exc.includes('already registered')) {\n          // Handle duplicate mobile number error\n          errors.mobile_number = 'This mobile number is already registered with different names. Please use a different number or select the existing recipient.'\n        } else {\n          throw new Error(data.exc || data.message || 'Failed to create recipient')\n        }\n      } catch (err) {\n        console.error('Error creating recipient:', err)\n        if (err.message.includes('already registered')) {\n          errors.mobile_number = 'This mobile number is already registered'\n        } else {\n          showNotification(`Failed to create recipient: ${err.message}`, 'error')\n        }\n      } finally {\n        submitting.value = false\n      }\n    }\n\n    const closeModal = () => {\n      emit('close')\n    }\n\n    return {\n      form,\n      errors,\n      submitting,\n      createRecipient,\n      closeModal,\n      validateForm\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Mobile optimizations */\n@media (max-width: 640px) {\n  .sm\\:max-w-2xl {\n    max-width: calc(100vw - 2rem);\n  }\n}\n</style>","<template>\n\t<!-- Interest Form Modal -->\n\t<div v-if=\"show\" class=\"fixed inset-0 z-50 overflow-y-auto\">\n\t\t<div class=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n\t\t\t<!-- Background overlay -->\n\t\t\t<div class=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\" @click=\"closeModal\">\n\t\t\t\t<div class=\"absolute inset-0 bg-charcoal-500 opacity-75\"></div>\n\t\t\t</div>\n\n\t\t\t<!-- Modal panel -->\n\t\t\t<div\n\t\t\t\tclass=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full\">\n\t\t\t\t<div class=\"bg-white px-4 sm:px-6 pt-6 pb-4\">\n\t\t\t\t\t<!-- Form Header -->\n\t\t\t\t\t<div class=\"flex justify-between items-center mb-6\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h3 class=\"text-xl font-semibold text-charcoal-900\">Express Interest</h3>\n\t\t\t\t\t\t\t<p class=\"text-sm text-charcoal-600 mt-1\">\n\t\t\t\t\t\t\t\tAdd your interest for this gift. We'll keep your details for future reference.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button @click=\"closeModal\" class=\"text-charcoal-400 hover:text-charcoal-600 transition-colors\">\n\t\t\t\t\t\t\t<XMarkIcon class=\"w-6 h-6\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Interest Form -->\n\t\t\t\t\t<form @submit.prevent=\"submitInterest\" class=\"space-y-6\">\n\n\t\t\t\t\t\t<!-- Recipient Selection Mode -->\n\t\t\t\t\t\t<div class=\"mb-6\">\n\t\t\t\t\t\t\t<label class=\"block text-sm font-medium text-charcoal-700 mb-3\">\n\t\t\t\t\t\t\t\tChoose how to add recipient information:\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t@click=\"recipientMode = 'existing'\"\n\t\t\t\t\t\t\t\t\t:class=\"[\n\t\t\t\t\t\t\t\t\t\t'flex items-center justify-center p-4 border-2 rounded-xl transition-all duration-200 min-h-[60px] touch-manipulation relative overflow-hidden',\n\t\t\t\t\t\t\t\t\t\trecipientMode === 'existing' \n\t\t\t\t\t\t\t\t\t\t\t? 'border-blue-500 bg-blue-50 text-blue-900 shadow-md' \n\t\t\t\t\t\t\t\t\t\t\t: 'border-charcoal-200 hover:border-blue-300 hover:bg-blue-25 text-charcoal-700'\n\t\t\t\t\t\t\t\t\t]\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"mr-3 flex-shrink-0\">\n\t\t\t\t\t\t\t\t\t\t\t<svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"></path>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-left\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"font-semibold text-sm\">Select Existing</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-xs mt-1 opacity-75\">Choose from saved recipients</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<!-- Selected indicator -->\n\t\t\t\t\t\t\t\t\t<div v-if=\"recipientMode === 'existing'\" class=\"absolute top-2 right-2\">\n\t\t\t\t\t\t\t\t\t\t<svg class=\"w-5 h-5 text-blue-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\"></path>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t@click=\"recipientMode = 'new'\"\n\t\t\t\t\t\t\t\t\t:class=\"[\n\t\t\t\t\t\t\t\t\t\t'flex items-center justify-center p-4 border-2 rounded-xl transition-all duration-200 min-h-[60px] touch-manipulation relative overflow-hidden',\n\t\t\t\t\t\t\t\t\t\trecipientMode === 'new' \n\t\t\t\t\t\t\t\t\t\t\t? 'border-green-500 bg-green-50 text-green-900 shadow-md' \n\t\t\t\t\t\t\t\t\t\t\t: 'border-charcoal-200 hover:border-green-300 hover:bg-green-25 text-charcoal-700'\n\t\t\t\t\t\t\t\t\t]\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"mr-3 flex-shrink-0\">\n\t\t\t\t\t\t\t\t\t\t\t<svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"></path>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-left\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"font-semibold text-sm\">Create New</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-xs mt-1 opacity-75\">Add new recipient details</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<!-- Selected indicator -->\n\t\t\t\t\t\t\t\t\t<div v-if=\"recipientMode === 'new'\" class=\"absolute top-2 right-2\">\n\t\t\t\t\t\t\t\t\t\t<svg class=\"w-5 h-5 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\"></path>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Existing Recipient Selection -->\n\t\t\t\t\t\t<div v-if=\"recipientMode === 'existing'\" class=\"mb-6\">\n\t\t\t\t\t\t\t<label class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n\t\t\t\t\t\t\t\tSearch and Select Recipient <span class=\"text-red-500\">*</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div class=\"relative\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tv-model=\"recipientSearch\"\n\t\t\t\t\t\t\t\t\t@input=\"searchRecipients\"\n\t\t\t\t\t\t\t\t\t@focus=\"showRecipientDropdown = true\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Search by name, mobile number, or Emirates ID...\"\n\t\t\t\t\t\t\t\t\tclass=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg text-charcoal-900 placeholder-charcoal-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n\t\t\t\t\t\t\t\t\t:class=\"{ 'border-red-500': errors.selectedRecipient }\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<!-- Clear Selected Recipient -->\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tv-if=\"selectedRecipient\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t@click=\"clearSelectedRecipient\"\n\t\t\t\t\t\t\t\t\tclass=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-charcoal-400 hover:text-charcoal-600\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<XMarkIcon class=\"w-4 h-4\" />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<!-- Recipient Dropdown -->\n\t\t\t\t\t\t\t\t<div v-if=\"showRecipientDropdown && searchResults.length > 0 && !selectedRecipient\" \n\t\t\t\t\t\t\t\t\t\tclass=\"absolute z-20 w-full mt-1 bg-white border border-charcoal-300 rounded-lg shadow-lg max-h-48 overflow-y-auto\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tv-for=\"recipient in searchResults\"\n\t\t\t\t\t\t\t\t\t\t:key=\"recipient.name\"\n\t\t\t\t\t\t\t\t\t\t@click=\"selectRecipient(recipient)\"\n\t\t\t\t\t\t\t\t\t\tclass=\"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div class=\"font-medium text-charcoal-900 text-sm\">{{ recipient.owner_full_name }}</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-charcoal-600\">Coordinator: {{ recipient.coordinator_full_name }}</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-charcoal-500\">{{ recipient.coordinator_mobile_no }}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<!-- Selected Recipient Info -->\n\t\t\t\t\t\t\t<div v-if=\"selectedRecipient\" class=\"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\n\t\t\t\t\t\t\t\t<div class=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"font-medium text-green-900 text-sm\">{{ selectedRecipient.owner_full_name }}</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-green-700\">Coordinator: {{ selectedRecipient.coordinator_full_name }}</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-green-600\">{{ selectedRecipient.coordinator_mobile_no }}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t@click=\"clearSelectedRecipient\"\n\t\t\t\t\t\t\t\t\t\tclass=\"text-green-600 hover:text-green-800\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<XMarkIcon class=\"w-4 h-4\" />\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<p v-if=\"errors.selectedRecipient\" class=\"mt-1 text-sm text-red-600\">{{ errors.selectedRecipient }}</p>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Create New Recipient Button -->\n\t\t\t\t\t\t<div v-if=\"recipientMode === 'new'\" class=\"mb-6\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t@click=\"showCreateRecipientModal = true\"\n\t\t\t\t\t\t\t\tclass=\"w-full flex items-center justify-center px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-gray-400 hover:text-gray-700 transition-all duration-200 min-h-[48px] touch-manipulation\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg class=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"></path>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\tClick to Create New Recipient\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<!-- New Recipient Created Info -->\n\t\t\t\t\t\t\t<div v-if=\"newlyCreatedRecipient\" class=\"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\n\t\t\t\t\t\t\t\t<div class=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"font-medium text-blue-900 text-sm\">{{ newlyCreatedRecipient.owner_full_name }}</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-blue-700\">Coordinator: {{ newlyCreatedRecipient.coordinator_full_name }}</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-blue-600\">{{ newlyCreatedRecipient.coordinator_mobile_no }}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"flex space-x-2\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"editNewRecipient\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"text-blue-600 hover:text-blue-800 text-xs font-medium\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"clearNewRecipient\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"text-red-600 hover:text-red-800 text-xs font-medium\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tClear\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<p v-if=\"errors.newRecipient\" class=\"mt-1 text-sm text-red-600\">{{ errors.newRecipient }}</p>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Manual Form Fields (only shown if no recipient selected) -->\n\t\t\t\t\t\t<div v-if=\"recipientMode === 'new' && !newlyCreatedRecipient || recipientMode === 'existing' && !selectedRecipient\" class=\"space-y-6\">\n\n\t\t\t\t\t\t\t<!-- Owner Details -->\n\t\t\t\t\t\t\t<div class=\"bg-charcoal-50 rounded-lg p-4\">\n\t\t\t\t\t\t\t\t<h4 class=\"text-sm font-medium text-charcoal-900 mb-4\">Owner Details</h4>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label for=\"owner_full_name\"\n\t\t\t\t\t\t\t\t\t\tclass=\"block text-sm font-medium text-charcoal-700 mb-2\">\n\t\t\t\t\t\t\t\t\t\tOwner Full Name <span class=\"text-red-500\">*</span>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<input id=\"owner_full_name\" v-model=\"form.owner_full_name\" type=\"text\" required\n\t\t\t\t\t\t\t\t\t\t:readonly=\"!!selectedRecipient || !!newlyCreatedRecipient\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n\t\t\t\t\t\t\t\t\t\t:class=\"{ \n\t\t\t\t\t\t\t\t\t\t\t'border-red-500': errors.owner_full_name,\n\t\t\t\t\t\t\t\t\t\t\t'bg-gray-50': !!selectedRecipient || !!newlyCreatedRecipient\n\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter owner full name\" />\n\t\t\t\t\t\t\t\t\t<p v-if=\"errors.owner_full_name\" class=\"mt-1 text-sm text-red-600\">{{\n\t\t\t\t\t\t\t\t\t\terrors.owner_full_name }}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<!-- Coordinator Details -->\n\t\t\t\t\t\t\t<div class=\"bg-charcoal-50 rounded-lg p-4\">\n\t\t\t\t\t\t\t\t<h4 class=\"text-sm font-medium text-charcoal-900 mb-4\">Coordinator Details</h4>\n\t\t\t\t\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<label for=\"coordinator_full_name\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"block text-sm font-medium text-charcoal-700 mb-2\">\n\t\t\t\t\t\t\t\t\t\t\tCoordinator Full Name <span class=\"text-red-500\">*</span>\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<input id=\"coordinator_full_name\" v-model=\"form.coordinator_full_name\" type=\"text\"\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t:readonly=\"!!selectedRecipient || !!newlyCreatedRecipient\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n\t\t\t\t\t\t\t\t\t\t\t:class=\"{ \n\t\t\t\t\t\t\t\t\t\t\t\t'border-red-500': errors.coordinator_full_name,\n\t\t\t\t\t\t\t\t\t\t\t\t'bg-gray-50': !!selectedRecipient || !!newlyCreatedRecipient\n\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter coordinator full name\" />\n\t\t\t\t\t\t\t\t\t\t<p v-if=\"errors.coordinator_full_name\" class=\"mt-1 text-sm text-red-600\">{{\n\t\t\t\t\t\t\t\t\t\t\terrors.coordinator_full_name }}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<label for=\"mobile_number\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n\t\t\t\t\t\t\t\t\t\t\tMobile Number <span class=\"text-red-500\">*</span>\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<input id=\"mobile_number\" v-model=\"form.mobile_number\" type=\"tel\" required\n\t\t\t\t\t\t\t\t\t\t\t:readonly=\"!!selectedRecipient || !!newlyCreatedRecipient\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n\t\t\t\t\t\t\t\t\t\t\t:class=\"{ \n\t\t\t\t\t\t\t\t\t\t\t\t'border-red-500': errors.mobile_number,\n\t\t\t\t\t\t\t\t\t\t\t\t'bg-gray-50': !!selectedRecipient || !!newlyCreatedRecipient\n\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter mobile number\" />\n\t\t\t\t\t\t\t\t\t\t<p v-if=\"errors.mobile_number\" class=\"mt-1 text-sm text-red-600\">{{\n\t\t\t\t\t\t\t\t\t\t\terrors.mobile_number }}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<label for=\"emirates_id\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n\t\t\t\t\t\t\t\t\t\t\tEmirates ID\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<input id=\"emirates_id\" v-model=\"form.emirates_id\" type=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t:readonly=\"!!selectedRecipient || !!newlyCreatedRecipient\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n\t\t\t\t\t\t\t\t\t\t\t:class=\"{ \n\t\t\t\t\t\t\t\t\t\t\t\t'border-red-500': errors.emirates_id,\n\t\t\t\t\t\t\t\t\t\t\t\t'bg-gray-50': !!selectedRecipient || !!newlyCreatedRecipient\n\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Emirates ID (optional)\" />\n\t\t\t\t\t\t\t\t\t\t<p v-if=\"errors.emirates_id\" class=\"mt-1 text-sm text-red-600\">{{\n\t\t\t\t\t\t\t\t\t\t\terrors.emirates_id }}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<!-- Address -->\n\t\t\t\t\t\t\t<div class=\"bg-charcoal-50 rounded-lg p-4\">\n\t\t\t\t\t\t\t\t<h4 class=\"text-sm font-medium text-charcoal-900 mb-4\">Address</h4>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label for=\"address\" class=\"block text-sm font-medium text-charcoal-700 mb-2\">\n\t\t\t\t\t\t\t\t\t\tAddress\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<textarea id=\"address\" v-model=\"form.address\" rows=\"3\"\n\t\t\t\t\t\t\t\t\t\t:readonly=\"!!selectedRecipient || !!newlyCreatedRecipient\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full px-3 py-2 border border-charcoal-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent\"\n\t\t\t\t\t\t\t\t\t\t:class=\"{ \n\t\t\t\t\t\t\t\t\t\t\t'border-red-500': errors.address,\n\t\t\t\t\t\t\t\t\t\t\t'bg-gray-50': !!selectedRecipient || !!newlyCreatedRecipient\n\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter address (optional)\"></textarea>\n\t\t\t\t\t\t\t\t\t<p v-if=\"errors.address\" class=\"mt-1 text-sm text-red-600\">{{ errors.address }}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Form Actions -->\n\t\t\t\t\t\t<div class=\"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-charcoal-200\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t@click=\"closeModal\"\n\t\t\t\t\t\t\t\tclass=\"w-full sm:w-auto px-4 py-2 text-sm font-medium text-charcoal-700 bg-charcoal-100 border border-charcoal-300 rounded-lg hover:bg-charcoal-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-charcoal-500 transition-colors min-h-[44px] touch-manipulation\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t:disabled=\"submitting\"\n\t\t\t\t\t\t\t\tclass=\"w-full sm:w-auto px-4 py-2 text-sm font-medium text-white bg-gray-600 border border-transparent rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors min-h-[44px] touch-manipulation\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span v-if=\"submitting\" class=\"flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t<svg class=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" fill=\"none\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t\t<circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n\t\t\t\t\t\t\t\t\t\t<path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\tSubmitting...\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span v-else>Express Interest</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<!-- Create Recipient Modal -->\n\t<CreateRecipientModal\n\t\t:show=\"showCreateRecipientModal\"\n\t\t:edit-data=\"newlyCreatedRecipient\"\n\t\t@close=\"showCreateRecipientModal = false\"\n\t\t@created=\"handleRecipientCreated\"\n\t/>\n</template>\n<script>\nimport { ref, reactive, computed, watch } from 'vue'\nimport { GiftInterestAPI } from '@services/api'\nimport { useNotifications } from '@composables/useNotifications'\nimport { XMarkIcon } from '@heroicons/vue/24/outline'\nimport CreateRecipientModal from './CreateRecipientModal.vue'\n\nexport default {\n\tname: 'InterestForm',\n\tcomponents: {\n\t\tXMarkIcon,\n\t\tCreateRecipientModal\n\t},\n\tprops: {\n\t\tshow: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tgiftId: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t}\n\t},\n\temits: ['close', 'success'],\n\tsetup(props, { emit }) {\n\t\tconst { showNotification } = useNotifications()\n\n\t\t// Recipient selection state\n\t\tconst recipientMode = ref('existing') // 'existing' or 'new'\n\t\tconst selectedRecipient = ref(null)\n\t\tconst newlyCreatedRecipient = ref(null)\n\t\tconst showCreateRecipientModal = ref(false)\n\t\t\n\t\t// Recipient search state\n\t\tconst recipientSearch = ref('')\n\t\tconst searchResults = ref([])\n\t\tconst showRecipientDropdown = ref(false)\n\n\t\t// Form state\n\t\tconst form = reactive({\n\t\t\towner_full_name: '',\n\t\t\tcoordinator_full_name: '',\n\t\t\tmobile_number: '',\n\t\t\temirates_id: '',\n\t\t\taddress: ''\n\t\t})\n\n\t\tconst errors = reactive({})\n\t\tconst submitting = ref(false)\n\n\t\t// Recipient search functionality\n\t\tconst searchRecipients = async () => {\n\t\t\tif (recipientSearch.value.length < 2) {\n\t\t\t\tsearchResults.value = []\n\t\t\t\tshowRecipientDropdown.value = false\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst response = await fetch('/api/method/gift.api_v2.search_recipients', {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t'X-Frappe-CSRF-Token': window.csrf_token || '',\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\tsearch_term: recipientSearch.value\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t\tconst data = await response.json()\n\t\t\t\tif (data.message && data.message.success) {\n\t\t\t\t\tsearchResults.value = data.message.data || []\n\t\t\t\t\tshowRecipientDropdown.value = searchResults.value.length > 0\n\t\t\t\t} else {\n\t\t\t\t\tsearchResults.value = []\n\t\t\t\t\tshowRecipientDropdown.value = false\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error searching recipients:', error)\n\t\t\t\tsearchResults.value = []\n\t\t\t\tshowRecipientDropdown.value = false\n\t\t\t}\n\t\t}\n\n\t\tconst selectRecipient = (recipient) => {\n\t\t\tselectedRecipient.value = recipient\n\t\t\trecipientSearch.value = `${recipient.owner_full_name} - ${recipient.coordinator_full_name}`\n\t\t\tshowRecipientDropdown.value = false\n\t\t\t\n\t\t\t// Auto-fill form fields with recipient data\n\t\t\tform.owner_full_name = recipient.owner_full_name\n\t\t\tform.coordinator_full_name = recipient.coordinator_full_name\n\t\t\tform.mobile_number = recipient.coordinator_mobile_no\n\t\t\tform.emirates_id = recipient.coordinator_emirates_id || ''\n\t\t\tform.address = recipient.address || ''\n\t\t\t\n\t\t\t// Clear any existing recipient error\n\t\t\tdelete errors.selectedRecipient\n\t\t}\n\n\t\tconst clearSelectedRecipient = () => {\n\t\t\tselectedRecipient.value = null\n\t\t\trecipientSearch.value = ''\n\t\t\tshowRecipientDropdown.value = false\n\t\t\t\n\t\t\t// Clear form fields\n\t\t\tform.owner_full_name = ''\n\t\t\tform.coordinator_full_name = ''\n\t\t\tform.mobile_number = ''\n\t\t\tform.emirates_id = ''\n\t\t\tform.address = ''\n\t\t}\n\n\t\t// Create Recipient Modal handlers\n\t\tconst handleRecipientCreated = (recipient) => {\n\t\t\tnewlyCreatedRecipient.value = recipient\n\t\t\tshowCreateRecipientModal.value = false\n\t\t\t\n\t\t\t// Auto-fill form fields with newly created recipient data\n\t\t\tform.owner_full_name = recipient.owner_full_name\n\t\t\tform.coordinator_full_name = recipient.coordinator_full_name\n\t\t\tform.mobile_number = recipient.coordinator_mobile_no\n\t\t\tform.emirates_id = recipient.coordinator_emirates_id || ''\n\t\t\tform.address = recipient.address || ''\n\t\t\t\n\t\t\t// Clear any existing new recipient error\n\t\t\tdelete errors.newRecipient\n\t\t}\n\n\t\tconst editNewRecipient = () => {\n\t\t\tshowCreateRecipientModal.value = true\n\t\t}\n\n\t\tconst clearNewRecipient = () => {\n\t\t\tnewlyCreatedRecipient.value = null\n\t\t\t\n\t\t\t// Clear form fields\n\t\t\tform.owner_full_name = ''\n\t\t\tform.coordinator_full_name = ''\n\t\t\tform.mobile_number = ''\n\t\t\tform.emirates_id = ''\n\t\t\tform.address = ''\n\t\t}\n\n\t\t// Watch for clicks outside dropdown to close it\n\t\tconst handleClickOutside = (event) => {\n\t\t\tif (!event.target.closest('.relative')) {\n\t\t\t\tshowRecipientDropdown.value = false\n\t\t\t}\n\t\t}\n\n\t\t// UAE-specific validation functions\n\t\tconst validateMobileNumber = () => {\n\t\t\tconst mobile = form.mobile_number.trim()\n\t\t\tif (!mobile) {\n\t\t\t\terrors.mobile_number = 'Mobile number is required'\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\t// Remove all non-digit characters\n\t\t\tconst cleanedMobile = mobile.replace(/[\\s\\-\\+\\(\\)]/g, '')\n\n\t\t\t// UAE mobile number patterns\n\t\t\tconst patterns = [\n\t\t\t\t/^971(50|51|52|54|55|56|58)\\d{7}$/, // With country code 971\n\t\t\t\t/^(50|51|52|54|55|56|58)\\d{7}$/,    // Without country code\n\t\t\t]\n\n\t\t\tconst isValid = patterns.some(pattern => pattern.test(cleanedMobile))\n\n\t\t\tif (!isValid) {\n\t\t\t\terrors.mobile_number = 'Please enter a valid UAE mobile number'\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tdelete errors.mobile_number\n\t\t\treturn true\n\t\t}\n\n\t\tconst validateEmiratesId = () => {\n\t\t\tconst emiratesId = form.emirates_id.trim()\n\n\t\t\tif (emiratesId.length === 0) {\n\t\t\t\t// Emirates ID is optional\n\t\t\t\tdelete errors.emirates_id\n\t\t\t\treturn true\n\t\t\t}\n\n\t\t\t// Remove dashes and spaces\n\t\t\tconst cleanedId = emiratesId.replace(/[\\s\\-]/g, '')\n\n\t\t\t// Emirates ID should be exactly 15 digits\n\t\t\tif (!/^\\d{15}$/.test(cleanedId)) {\n\t\t\t\terrors.emirates_id = 'Emirates ID must be exactly 15 digits'\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\t// Basic pattern validation (784 is common prefix for UAE)\n\t\t\tif (!cleanedId.startsWith('784')) {\n\t\t\t\terrors.emirates_id = 'Emirates ID should start with 784'\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tdelete errors.emirates_id\n\t\t\treturn true\n\t\t}\n\n\t\t// Form validation\n\t\tconst validateForm = () => {\n\t\t\t// Clear previous errors\n\t\t\tObject.keys(errors).forEach(key => delete errors[key])\n\n\t\t\tlet isValid = true\n\n\t\t\t// Check recipient selection\n\t\t\tif (recipientMode.value === 'existing' && !selectedRecipient.value) {\n\t\t\t\terrors.selectedRecipient = 'Please select an existing recipient'\n\t\t\t\tisValid = false\n\t\t\t}\n\n\t\t\tif (recipientMode.value === 'new' && !newlyCreatedRecipient.value) {\n\t\t\t\t// If manual form is being used, validate manual fields\n\t\t\t\tif (!form.owner_full_name.trim()) {\n\t\t\t\t\terrors.owner_full_name = 'Owner full name is required'\n\t\t\t\t\tisValid = false\n\t\t\t\t}\n\n\t\t\t\tif (!form.coordinator_full_name.trim()) {\n\t\t\t\t\terrors.coordinator_full_name = 'Coordinator full name is required'\n\t\t\t\t\tisValid = false\n\t\t\t\t}\n\n\t\t\t\t// Validate mobile number if entered manually\n\t\t\t\tif (!validateMobileNumber()) {\n\t\t\t\t\tisValid = false\n\t\t\t\t}\n\n\t\t\t\t// Validate Emirates ID if entered manually\n\t\t\t\tif (!validateEmiratesId()) {\n\t\t\t\t\tisValid = false\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn isValid\n\t\t}\n\n\t\t// Form submission\n\t\tconst submitInterest = async () => {\n\t\t\tif (!validateForm()) {\n\t\t\t\tshowNotification('Please fix the errors in the form', 'error')\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tsubmitting.value = true\n\n\t\t\t\tlet interestData = {\n\t\t\t\t\tgift: props.giftId\n\t\t\t\t}\n\n\t\t\t\t// Use selected recipient data or form data\n\t\t\t\tif (recipientMode.value === 'existing' && selectedRecipient.value) {\n\t\t\t\t\tinterestData.gift_recipient = selectedRecipient.value.name\n\t\t\t\t} else if (recipientMode.value === 'new' && newlyCreatedRecipient.value) {\n\t\t\t\t\tinterestData.gift_recipient = newlyCreatedRecipient.value.name\n\t\t\t\t} else {\n\t\t\t\t\t// Use manual form data\n\t\t\t\t\tconst normalizedMobile = form.mobile_number.replace(/[\\s\\-\\+\\(\\)]/g, '')\n\t\t\t\t\tconst normalizedEmiratesId = form.emirates_id.replace(/[\\s\\-]/g, '')\n\n\t\t\t\t\tinterestData = {\n\t\t\t\t\t\t...interestData,\n\t\t\t\t\t\towner_full_name: form.owner_full_name.trim(),\n\t\t\t\t\t\tcoordinator_full_name: form.coordinator_full_name.trim(),\n\t\t\t\t\t\tmobile_number: normalizedMobile.startsWith('971') ? normalizedMobile : `971${normalizedMobile}`,\n\t\t\t\t\t\temirates_id: normalizedEmiratesId,\n\t\t\t\t\t\taddress: form.address.trim() || null\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst response = await GiftInterestAPI.create(interestData)\n\n\t\t\t\tif (response.success) {\n\t\t\t\t\tshowNotification('Interest recorded successfully', 'success')\n\t\t\t\t\temit('success', response.data)\n\t\t\t\t\tcloseModal()\n\t\t\t\t} else {\n\t\t\t\t\tshowNotification(response.error || 'Failed to record interest', 'error')\n\t\t\t\t}\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Failed to submit interest:', error)\n\t\t\t\tshowNotification('Failed to record interest. Please try again.', 'error')\n\t\t\t} finally {\n\t\t\t\tsubmitting.value = false\n\t\t\t}\n\t\t}\n\n\t\t// Reset form\n\t\tconst resetForm = () => {\n\t\t\tObject.keys(form).forEach(key => {\n\t\t\t\tform[key] = ''\n\t\t\t})\n\t\t\tObject.keys(errors).forEach(key => delete errors[key])\n\t\t\tselectedRecipient.value = null\n\t\t\tnewlyCreatedRecipient.value = null\n\t\t\trecipientSearch.value = ''\n\t\t\trecipientMode.value = 'existing'\n\t\t}\n\n\t\t// Close modal\n\t\tconst closeModal = () => {\n\t\t\tresetForm()\n\t\t\temit('close')\n\t\t}\n\n\t\t// Watch for show prop changes to reset form\n\t\twatch(() => props.show, (newVal) => {\n\t\t\tif (newVal) {\n\t\t\t\tresetForm()\n\t\t\t}\n\t\t})\n\n\t\treturn {\n\t\t\t// Recipient selection\n\t\t\trecipientMode,\n\t\t\tselectedRecipient,\n\t\t\tnewlyCreatedRecipient,\n\t\t\tshowCreateRecipientModal,\n\t\t\trecipientSearch,\n\t\t\tsearchResults,\n\t\t\tshowRecipientDropdown,\n\t\t\tsearchRecipients,\n\t\t\tselectRecipient,\n\t\t\tclearSelectedRecipient,\n\t\t\thandleRecipientCreated,\n\t\t\teditNewRecipient,\n\t\t\tclearNewRecipient,\n\t\t\t// Form state\n\t\t\tform,\n\t\t\terrors,\n\t\t\tsubmitting,\n\t\t\tsubmitInterest,\n\t\t\tresetForm,\n\t\t\tcloseModal,\n\t\t\tvalidateMobileNumber,\n\t\t\tvalidateEmiratesId\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n/* Form styles */\n.transition-colors {\n\ttransition-property: color, background-color, border-color;\n\ttransition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n\ttransition-duration: 200ms;\n}\n\n/* Focus styles */\ninput:focus,\ntextarea:focus {\n\toutline: none;\n}\n\n/* Error state styles */\n.border-red-500 {\n\tborder-color: #ef4444;\n}\n\n/* Loading animation */\n@keyframes spin {\n\tfrom {\n\t\ttransform: rotate(0deg);\n\t}\n\n\tto {\n\t\ttransform: rotate(360deg);\n\t}\n}\n\n.animate-spin {\n\tanimation: spin 1s linear infinite;\n}\n</style>\n"],"names":["_sfc_main","XMarkIcon","props","emit","showNotification","useNotifications","form","reactive","errors","submitting","ref","watch","newData","show","resetForm","key","validateForm","cleanMobile","pattern","cleanEmiratesId","createRecipient","__async","normalizedMobile","data","closeModal","err","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_8","_hoisted_9","_hoisted_13","_hoisted_15","$props","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","$setup","args","_createVNode","_component_XMarkIcon","_cache","$event","_normalizeClass","_vModelText","_hoisted_7","_toDisplayString","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_14","_hoisted_17","CreateRecipientModal","recipientMode","selectedRecipient","newlyCreatedRecipient","showCreateRecipientModal","recipientSearch","searchResults","showRecipientDropdown","searchRecipients","error","selectRecipient","recipient","clearSelectedRecipient","handleRecipientCreated","editNewRecipient","clearNewRecipient","validateMobileNumber","mobile","cleanedMobile","validateEmiratesId","emiratesId","cleanedId","isValid","submitInterest","interestData","normalizedEmiratesId","__spreadProps","__spreadValues","response","GiftInterestAPI","newVal","_hoisted_16","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_32","_hoisted_35","_hoisted_36","_hoisted_43","_hoisted_46","_Fragment","_renderList","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_30","_hoisted_31","_hoisted_34","_hoisted_38","_hoisted_40","_hoisted_42","_hoisted_45","_hoisted_48","_component_CreateRecipientModal"],"mappings":"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"}